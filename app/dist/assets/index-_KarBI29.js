var An=Object.defineProperty;var ss=s=>{throw TypeError(s)};var Tn=(s,t,e)=>t in s?An(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e;var is=(s,t,e)=>Tn(s,typeof t!="symbol"?t+"":t,e),be=(s,t,e)=>t.has(s)||ss("Cannot "+e);var G=(s,t,e)=>(be(s,t,"read from private field"),e?e.call(s):t.get(s)),E=(s,t,e)=>t.has(s)?ss("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(s):t.set(s,e),ye=(s,t,e,i)=>(be(s,t,"write to private field"),i?i.call(s,e):t.set(s,e),e),p=(s,t,e)=>(be(s,t,"access private method"),e);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const n of r)if(n.type==="childList")for(const o of n.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function e(r){const n={};return r.integrity&&(n.integrity=r.integrity),r.referrerPolicy&&(n.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?n.credentials="include":r.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function i(r){if(r.ep)return;r.ep=!0;const n=e(r);fetch(r.href,n)}})();const Sn=s=>{const t=Object.keys(s);for(let e=0;e<t.length;e++){const i=t[e];["__ExtractAll__","__RemoveAll__","ExtractAll","RemoveAll"].includes(i)||(globalThis[i]=s[i])}},On=s=>{const t=Object.keys(s);for(let e=0;e<t.length;e++){const i=t[e];i!=="__RemoveAll__"&&delete globalThis[i]}},{PI:Mn,E:ys}=Math,Zn=Number.EPSILON;var Un=Object.freeze({__proto__:null,E:ys,EPSILON:Zn,PI:Mn});const{PI:we,cos:rs,sin:ve,tan:ns,acos:Pn,asin:jn,atan:os,cosh:Dn,sinh:Ln,tanh:$n,acosh:Rn,asinh:zn,atanh:Nn,log:Fn}=Math;let x={cos:rs,sin:ve,tan:ns,sinc:s=>ve(we*s)/(we*s),sec:s=>1/rs(s),csc:s=>1/ve(s),cot:s=>1/ns(s),acos:Pn,asin:jn,atan:os,acot:s=>we/2-os(s),cosh:Dn,sinh:Ln,tanh:$n,coth:s=>1/2*Fn((1+s)/(1-s)),acosh:Rn,asinh:zn,atanh:Nn};x=new Proxy(x,{get(s,t){if(t in s)return e=>+s[t](e).toFixed(15)}});class ws{}const g=(s,...t)=>{const e=t.map(i=>{if(i===null)return s(null);if(["number","string","boolean","bigint","undefined"].includes(typeof i))return s(i);if(i instanceof Array)return i.map(r=>g(s,r));if(ArrayBuffer.isView(i))return i.map(r=>s(r));if(i instanceof Set)return new Set(g(s,...i));if(i instanceof Map)return new Map([...i].map(r=>[r[0],g(s,r[1])]));if(i instanceof m)return new m(i.rows,i.cols,g(i.arr.flat(1)));if(i instanceof f){const[r,n,o,a]=[i.a,i.b,i.z,i.phi];switch(s){case Math.log:return v(Et(o),a);case Math.exp:return v(Nt(r)*k(n),Nt(r)*_(n));case Math.abs:return o;case Math.sqrt:return v(zt(o)*k(a/2),zt(o)*_(a/2));case x.cos:return v(k(r)*W(n),-(_(r)*Y(n)));case x.sin:return v(_(r)*W(n),k(r)*Y(n));case x.tan:{const h=k(2*r)+W(2*n);return v(_(2*r)/h,Y(2*n)/h)}case x.cosh:return v(W(r)*k(n),Y(r)*_(n));case x.sinh:return v(Y(r)*k(n),W(r)*_(n));case x.tanh:{const h=W(2*r)+k(2*n);return v(Y(2*r)/h,_(2*n)/h)}default:return s(i)}}else if(i instanceof Object)return s(Object)||Object.fromEntries(Object.entries(i).map(r=>r=[r[0],g(s,r[1])]))});return e.length==1?e[0]:e},Bn=(s,t)=>{if(typeof s=="number"){if(typeof t=="number")return s+t;if(t instanceof f)return v(s+t.a,t.b);if(t instanceof m)return m.nums(t.rows,t.cols,s).add(t);if(t instanceof Array)return t.map(e=>wt(e,s))}else{if(s instanceof f||s instanceof m)return t instanceof Array?t.map(e=>s.clone.add(e)):s.clone.add(t);if(s instanceof Array)if(t instanceof Array){if(s.length===t.length)return s.map((e,i)=>wt(e,t[i]))}else return s.map(e=>wt(e,t))}},Hn=(s,t)=>{if(typeof s=="number"){if(typeof t=="number")return s-t;if(t instanceof f)return v(s-t.a,-t.b);if(t instanceof m)return m.nums(t.rows,t.cols,s).sub(t);if(t instanceof Array)return t.map(e=>Lt(e,s))}else{if(s instanceof f||s instanceof m)return t instanceof Array?t.map(e=>s.clone.sub(e)):s.clone.sub(t);if(s instanceof Array)if(t instanceof Array){if(t instanceof Array&&s.length===t.length)return s.map((e,i)=>Lt(e,t[i]))}else return s.map(e=>Lt(e,t))}},Vn=(s,t)=>{if(typeof s=="number"){if(typeof t=="number")return s*t;if(t instanceof f)return v(s*t.a,s*t.b);if(t instanceof m)return m.nums(t.rows,t.cols,s).mul(t);if(t instanceof Array)return t.map(e=>vt(s,e))}else{if(s instanceof f||s instanceof m)return t instanceof Array?t.map(e=>s.clone.mul(e)):s.clone.mul(t);if(s instanceof Array)if(t instanceof Array){if(t instanceof Array&&s.length===t.length)return s.map((e,i)=>vt(e,t[i]))}else return s.map(e=>vt(e,t))}},Wn=(s,t)=>{if(typeof s=="number"){if(typeof t=="number")return s/t;if(t instanceof f)return v(s/t.a,s/t.b);if(t instanceof m)return m.nums(t.rows,t.cols,s).div(t);if(t instanceof Array)return t.map(e=>xt(s,e))}else{if(s instanceof f||s instanceof m)return t instanceof Array?t.map(e=>s.clone.div(e)):s.clone.div(t);if(s instanceof Array)if(t instanceof Array){if(t instanceof Array&&s.length===t.length)return s.map((e,i)=>xt(e,t[i]))}else return s.map(e=>xt(e,t))}},Yn=(s,t)=>{if(typeof s=="number"){if(typeof t=="number")return s%t;if(t instanceof f)return v(s%t.a,s%t.b);if(t instanceof m)return m.nums(t.rows,t.cols,s).modulo(t);if(t instanceof Array)return t.map(e=>xt(s,e))}else{if(s instanceof f||s instanceof m)return t instanceof Array?t.map(e=>s.clone.div(e)):s.clone.div(t);if(s instanceof Array&&!(t instanceof Array))return s.map(e=>wt(e,t))}},wt=(s,...t)=>{var e=s;for(let i=0;i<t.length;i++)e=Bn(e,t[i]);return e},Lt=(s,...t)=>{var e=s;for(let i=0;i<t.length;i++)e=Hn(e,t[i]);return e},vt=(s,...t)=>{var e=s;for(let i=0;i<t.length;i++)e=Vn(e,t[i]);return e},xt=(s,...t)=>{var e=s;for(let i=0;i<t.length;i++)e=Wn(e,t[i]);return e},vs=(s,...t)=>{var e=s;for(let i=0;i<t.length;i++)e=Yn(e,t[i]);return e},xs=s=>new Array(s).fill(0),ks=s=>new Array(s).fill(1),_s=(s,t)=>new Array(t).fill(s),q=(s,t,e)=>{if(typeof s=="number")return t!==e?(s-t)/(e-t):0;if(s instanceof m)return new m(s.rows,s.cols,q(s.arr.flat(1),t,e));if(s instanceof f)return new f(q(s.a,t,e),q(s.b,t,e));if(s instanceof Array){if(s.every(i=>typeof(i==="number")))return s.map(i=>q(i,t,e));{let i=new Array(s.length);for(let r=0;r<s.length;r++)i[r]=q(s[r])}}},$=(s,t,e)=>{if(typeof s=="number")return(e-t)*s+t;if(s instanceof m)return new m(s.rows,s.cols,$(s.arr.flat(1),t,e));if(s instanceof f)return new f($(s.a,t,e),$(s.b,t,e));if(s instanceof Array){if(s.every(i=>typeof(i==="number")))return s.map(i=>$(i,t,e));{let i=new Array(s.length);for(let r=0;r<s.length;r++)i[r]=$(s[r])}}},L=(s,t,e,i,r)=>{if(typeof s=="number")return $(q(s,t,e),i,r);if(s instanceof m)return new m(s.rows,s.cols,L(s.arr.flat(1),t,e,i,r));if(s instanceof f)return new f(L(s.a,e,i,r),L(s.b,t,e,i,r));if(s instanceof Array){if(s.every(n=>typeof(n==="number")))return s.map(n=>L(n,t,e,i,r));{let n=new Array(s.length);for(let o=0;o<s.length;o++)n[o]=L(s[o],t,e,i,r)}}},ut=(s,t,e)=>{const[i,r]=[ot(t,e),kt(t,e)];if(typeof s=="number")return ot(kt(s,i),r);if(s instanceof m)return new m(s.rows,s.cols,ut(s.arr.flat(1),i,r));if(s instanceof f)return new f(ut(s.a,i,r),ut(s.b,i,r));if(s instanceof Array){if(s.every(n=>typeof(n==="number")))return s.map(n=>ut(n,i,r));{let n=new Array(s.length);for(let o=0;o<s.length;o++)n[o]=ut(s[o],i,r)}}},Cs=(s,t,e,i=!1)=>{let r=[];if(s<t)for(let n=s;i?n<=t:n<t;n+=e)r.push(n*10/10);else for(let n=s;i?n>=t:n>t;n-=e)r.push(n*10/10);return r},$t=(s,t,e=Q(t-s)+1,i=!0)=>{if(Math.floor(e)===e){if([s,t].every(o=>typeof o=="number")){const[o,a]=[s,t].sort((l,b)=>b-l);var r=[];let h;i?h=(o-a)/(e-1):h=(o-a)/e;for(var n=0;n<e;n++)s<t?r.push(a+h*n):r.push(o-h*n);return r}if([s,t].some(o=>o instanceof f)){const o=v(s),a=v(t);e=e||Math.abs(o.a-a.a)+1;const h=$t(o.a,a.a,e,i),l=$t(o.b,a.b,e,i);let b=new Array(e).fill(null);return b=b.map((D,Zt)=>v(h[Zt],l[Zt])),b}}},Is=(s,t,e=t-s+1,i=ys,r=!0)=>$t(s,t,e,r).map(n=>N(i,n)),Es=(s,t,e=Q(t-s)+1,i=!0)=>{if(Math.floor(e)===e){if([s,t].every(r=>typeof r=="number")){const[r,n]=[s,t].sort((h,l)=>l-h);let o;i?o=R(r/n,e-1):o=R(r/n,e);const a=[n];for(let h=1;h<e;h++)a.push(a[h-1]*o);return s<t?a:a.reverse()}if([s,t].some(r=>r instanceof f)){const r=v(s),n=v(t);e=e||Math.abs(r.a-n.a)+1;let o;i?o=R(n.div(r),e-1):o=R(n.div(r),e);const a=[r];for(let h=1;h<e;h++)a.push(vt(a[h-1],o));return a}}},As=(...s)=>mapfun(t=>t*Math.PI/180,...s),Ts=(...s)=>mapfun(t=>t/Math.PI*180,...s),V=(...s)=>{if(s.every(e=>typeof e=="number")){let e=s[0];for(let i=1;i<s.length;i++)e+=s[i];return e}const t=[];for(let e=0;e<s.length;e++)s[e]instanceof Array?t.push(V(...s[e])):s[e]instanceof Object&&t.push(V(...Object.values(s[e])));return t.length===1?t[0]:t},Ct=(...s)=>{if(s.every(e=>typeof e=="number")){let e=s[0];for(let i=1;i<s.length;i++)e*=s[i];return e}const t=[];for(let e=0;e<s.length;e++)s[e]instanceof Array?t.push(Ct(...s[e])):s[e]instanceof Object&&t.push(Ct(...Object.values(s[e])));return t.length===1?t[0]:t},ot=(...s)=>{if(s.every(e=>typeof e=="number"))return Math.min(...s);const t=[];for(let e=0;e<s.length;e++)s[e]instanceof Array?t.push(ot(...s[e])):s[e]instanceof Object&&t.push(Object.fromEntries([Object.entries(s[e]).sort((i,r)=>i[1]-r[1])[0]]));return t.length===1?t[0]:t},kt=(...s)=>{if(s.every(e=>typeof e=="number"))return Math.max(...s);const t=[];for(let e=0;e<s.length;e++)s[e]instanceof Array?t.push(ot(...s[e])):s[e]instanceof Object&&t.push(Object.fromEntries([Object.entries(s[e]).sort((i,r)=>r[1]-i[1])[0]]));return t.length===1?t[0]:t},Ss=(...s)=>{if(s.every(e=>typeof e=="number")){let e=s.reduce((i,r)=>[...i,i[i.length-1]+r],[0]);return e.shift(),e}const t=[];for(let e=0;e<s.length;e++)s[e]instanceof Array?t.push(Ss(...s[e])):s[e]instanceof Object&&t.push(null);return t.length===1?t[0]:t},Os=(s,t,e)=>{const[i,r]=[Math.min(t,e),Math.max(t,e)];return s>=i&&s<=r},Ms=(s,t,e=1e-4)=>Math.abs(s-t)<=e,Zs=(s,t)=>s.reduce((e,i)=>[...e,...t.map(r=>[i,r])],[]),Us=(s,t)=>{let e,i=1;if(s==At(s)&&t==At(t)){for(e=2;e<=s&&e<=t;++e)s%e==0&&t%e==0&&(i=e);return i}else console.log("error")},Ps=(s,t)=>{let e;if(s==At(s)&&t==At(t)){for(e=s>t?s:t;!(e%s==0&&e%t==0);)++e;return e}else console.log("error")},C={add:wt,sub:Lt,mul:vt,div:xt,modulo:vs,zeros:xs,ones:ks,nums:_s,norm:q,lerp:$,map:L,clamp:ut,arange:Cs,linspace:$t,logspace:Is,geomspace:Es,sum:V,prod:Ct,accum:Ss,cartesianProduct:Zs,ppcm:Ps,pgcd:Us,deg2rad:As,rad2deg:Ts,inRange:Os,isApproximatlyEqual:Ms};var qn=Object.freeze({__proto__:null,Utils:C,add:wt,arange:Cs,cartesianProduct:Zs,clamp:ut,deg2rad:As,div:xt,geomspace:Es,inRange:Os,isApproximatlyEqual:Ms,lerp:$,linspace:$t,logspace:Is,map:L,mapfun:g,modulo:vs,mul:vt,norm:q,nums:_s,ones:ks,pgcd:Us,ppcm:Ps,prod:Ct,rad2deg:Ts,sub:Lt,sum:V,zeros:xs});const Xn=s=>{const t=[],e=2**s.length;for(let i=0;i<e;i+=1){const r=[];for(let n=0;n<s.length;n+=1)i&1<<n&&r.push(s[n]);t.push(r)}return t},Gn=null,js={_mode:Number,_map:function(s,t,e){if(t instanceof m)return new m(t.rows,t.cols,t.arr.flat(1).map(i=>s(i,e)));if(t instanceof f)return new f(s(t.a,e),s(t.b,e));if(t instanceof Array)return t.map(i=>s(i,e))},dec2base(s,t){return t<=10?this._mode=Number:this._mode=String,typeof s=="number"?this._mode((s>>>0).toString(t)):this._map(this.dec2base,s,t)},dec2bin(s){return this.dec2base(s,2)},dec2oct(s){return this.dec2base(s,8)},dec2hex(s){return this.dec2base(s,16)},bin2base(s,t){return this.dec2base(this.bin2dec(s),t)},bin2dec(s){return this._mode("0b"+s)},bin2oct(s){return this.bin2base(s,8)},bin2hex(s){return this.bin2base(s,16)},oct2dec(s){return this._mode("0o"+s)},oct2bin(s){return this.dec2bin(this.oct2dec(s))},oct2hex(s){return this.dec2hex(this.oct2dec(s))},oct2base(s,t){return this.dec2base(this.oct2dec(s),t)},hex2dec(s){return this._mode("0x"+s)},hex2bin(s){return this.dec2bin(this.hex2dec(s))},hex2oct(s){return this.dec2oct(this.hex2dec(s))},hex2base(s,t){return this.dec2base(this.hex2dec(s),t)},IEEE32toDec(s){let t=s.split(" ").join("").padEnd(32,"0"),e=t[0],i=2**(+("0b"+t.slice(1,9))-127),n=t.slice(9,32).split("").map(a=>+a).map((a,h)=>a*2**(-h-1)).reduce((a,h)=>a+h,0);return(-1)**e*(1+n)*i},IEEE64toDec(s){let t=s.split(" ").join("").padEnd(64,"0"),e=t[0],i=2**(+("0b"+t.slice(1,12))-1023),n=t.slice(13,64).split("").map(a=>+a).map((a,h)=>a*2**(-h-1)).reduce((a,h)=>a+h,0);return(-1)**e*(1+n)*i}},gt={_mode:Number,_map:function(s,t,e){if(t instanceof m)return new m(t.rows,t.cols,t.arr.flat(1).map(i=>s(i,e)));if(t instanceof f)return new f(s(t.a,e),s(t.b,e));if(t instanceof Array)return t.map(i=>s(i,e))},not:function(s){return["number","boolean"].includes(typeof s)?gt._mode(!s):this._map(this.not,s)},and:function(s,...t){return["number","boolean"].includes(typeof s)?gt._mode(t.reduce((e,i)=>e&=i,s)):this._map(this.and,s,t)},or:function(s,...t){return["number","boolean"].includes(typeof s)?gt._mode(t.reduce((e,i)=>e|=i,s)):this._map(this.or,s,t)},nand:function(s,...t){return this.not(this.and(s,t))},nor:function(s,...t){return this.not(this.or(s,t))},xor:function(s,...t){let e=[s,...t];return["number","boolean"].includes(typeof s)?this._mode(e.reduce((i,r)=>(+r==1&&(i+=1),i),0)===1):this._map(this.xor,s,t)},xnor:function(s,...t){return gt.not(gt.xor(s,t))}};class Qn{static withDiscount(t,e=t.length){if(e===1)return t.map(n=>[n]);const i=[];let r;return r=this.withDiscount(t,e-1),t.forEach(n=>{r.forEach(o=>{i.push([n].concat(o))})}),i}static withoutDiscount(t){if(t.length===1)return t.map(o=>[o]);const i=[],r=this.withoutDiscount(t.slice(1)),n=t[0];for(let o=0;o<r.length;o++){const a=r[o];for(let h=0;h<=a.length;h++){const l=a.slice(0,h),b=a.slice(h);i.push(l.concat([n],b))}}return i}}class Ds{static withDiscount(t,e){if(e===1)return t.map(r=>[r]);const i=[];return t.forEach((r,n)=>{this.withDiscount(t.slice(n),e-1).forEach(a=>{i.push([r].concat(a))})}),i}static withoutDiscount(t,e){if(e===1)return t.map(r=>[r]);const i=[];return t.forEach((r,n)=>{this.withoutDiscount(t.slice(n+1),e-1).forEach(a=>{i.push([r].concat(a))})}),i}}const Kn=(s,t,e=!1)=>Ds[e?"withDiscount":"withoutDiscount"](s,t);var Jn=Object.freeze({__proto__:null,Base:js,Combinaison:Ds,Logic:gt,Permutation:Qn,combinaison:Kn,powerSet:Xn,subSet:Gn});class J{static float(t=1,e){return e?Math.random()*(e-t)+t:t*Math.random()}static int(t,e){return Math.floor(this.float(t,e))}static char(t){t=t??this.bool();const e=String.fromCharCode(this.int(97,120));return t?e.toUpperCase():e}static bool(){return[!1,!0][Math.floor(Math.random()*2)]}static string(t,e){return t instanceof Array?new Array(this.int(...t)).fill(0).map(()=>this.char(e)).join(""):new Array(t).fill(0).map(()=>this.char(e)).join("")}static bin(){return this.int(2)}static oct(){return this.int(8)}static dec(){return this.int(8)}static hex(){return this.int(16)}static choice(t=[1,2,3],e=new Array(t.length).fill(1/t.length)){let i=new Array(100);e=C.accum(...e).map(r=>r*100),i.fill(t[0],0,e[0]);for(let r=1;r<t.length;r++)i.fill(t[r],e[r-1],e[r]);return i[this.int(i.length-1)]}static shuffleArr(t){return t.sort(()=>.5-Math.random())}static shuffleMatrix(t){const{rows:e,cols:i,arr:r}=t;return T(e,i,r.flat().sort(()=>.5-Math.random()))}static floats(t,e,i){return new Array(t).fill(0).map(()=>this.float(e,i))}static ints(t,e,i){return new Array(t).fill(0).map(()=>this.int(e,i))}static bools(t){return new Array(t).fill(0).map(()=>this.bool())}static bins(t){return new Array(t).fill(0).map(()=>this.int(2))}static octs(t){return new Array(t).fill(0).map(()=>this.int(8))}static decs(t){return new Array(t).fill(0).map(()=>this.int(10))}static hexs(t){return new Array(t).fill(0).map(()=>this.int(16))}static choices(t,e,i){return new Array(t).fill(0).map(()=>this.choice(e,i))}static perm(...t){return t.permS[this.int(t.length)]}static color(){return"#"+js.dec2hex(this.float(16777216)).padStart(6,0)}static colors(t){return new Array(t).fill(null).map(()=>this.color())}static complex(t=[0,1],e=[0,1]){return t instanceof Array?new f(this.float(t[0],t[1]),this.float(e[0],e[1])):new f(...this.floats(2,t,e))}static complexInt(t=[0,1],e=[0,1]){return new f(this.int(t[0],t[1]),this.int(e[0],e[1]))}static complexBin(){return new f(...this.bins(2))}static complexOct(){return new f(...this.octs(2))}static complexDec(){return new f(...this.decs(10))}static complexHex(){return new f(...this.octs(2))}static complexes(t,e=0,i=1){return new Array(t).fill(0).map(()=>this.complex(e,i))}static complexesInt(t,e=0,i=1){return new Array(t).fill(0).map(()=>this.complexInt(e,i))}static complexesBin(t){return new Array(t).fill(0).map(()=>this.complexBin())}static complexesOct(t){return new Array(t).fill(0).map(()=>this.complexOct())}static complexesDec(t){return new Array(t).fill(0).map(()=>this.complexDec())}static complexesHex(t){return new Array(t).fill(0).map(()=>this.complexHex())}static matrix(t,e,i,r){return T(t,e,this.floats(t*e,i,r))}static matrixInt(t,e,i,r){return T(t,e,this.ints(t*e,i,r))}static matrixBin(t,e){return T(t,e,this.bins(t*e))}static matrixOct(t,e){return T(t,e,this.octs(t*e))}static matrixDec(t,e){return T(t,e,this.decs(t*e))}static matrixHex(t,e){return T(t,e,this.hex(t*e))}static matrixColor(t,e){return T(t,e,this.colors(t*e))}static matrixComplex(t,e,i,r){return T(t,e,this.complexes(t*e,i,r))}static matrixComplexInt(t,e,i,r){return T(t,e,this.complexesInt(t*e,i,r))}static matrixComplexBin(t,e){return T(t,e,this.complexesBin(t*e))}static matrixComplexOct(t,e){return T(t,e,this.complexesBin(t*e))}static matrixComplexDec(t,e){return T(t,e,this.complexesBin(t*e))}static matrixComplexHex(t,e){return T(t,e,this.complexesBin(t*e))}}const Ls=s=>{s instanceof m&&(s=s.arr);const t=s.length,e=new Array(t).fill(0).map(()=>new Array(t).fill(0)),i=new Array(t).fill(0).map(()=>new Array(t).fill(0));for(let r=0;r<t;r++){for(let n=r;n<t;n++){let o=0;for(let a=0;a<r;a++)o+=e[r][a]*i[a][n];i[r][n]=s[r][n]-o}for(let n=r;n<t;n++)if(r==n)e[r][r]=1;else{let o=0;for(let a=0;a<r;a++)o+=e[n][a]*i[a][r];e[n][r]=(s[n][r]-o)/i[r][r]}}return[e,i].map(r=>new m(r))},to=(s,t)=>s.reduce((e,i,r)=>e+i*t[r],0),$s=s=>Math.sqrt(s.reduce((t,e)=>t+e*e,0)),eo=s=>s.map(t=>t/$s(s)),Rs=s=>{s instanceof m&&(s=s.arr);const t=s.length,e=s[0].length,i=[],r=[];for(let n=0;n<t;n++)r.push(new Array(e).fill(0));for(let n=0;n<e;n++){let o=s.map(h=>h[n]);for(let h=0;h<n;h++){const l=i[h],b=to(l,s.map(D=>D[n]));for(let D=0;D<t;D++)o[D]-=b*l[D];r[h][n]=b}const a=$s(o);i.push(eo(o)),r[n][n]=a}return[i,r].map(n=>new m(n))},zs=s=>{s instanceof m&&(s=s.arr);const t=s.length,e=new Array(t).fill(0).map(()=>new Array(t).fill(0));for(let i=0;i<t;i++)for(let r=0;r<=i;r++){let n=0;for(let o=0;o<r;o++)n+=e[i][o]*e[r][o];i===r?e[i][r]=Math.sqrt(s[i][i]-n):e[i][r]=1/e[r][r]*(s[i][r]-n)}return new m(e)},Ns=s=>{const t=new XMLHttpRequest;if(t.open("GET",s,!1),t.send(),t.status===200)return t.responseText;throw new Error(`Failed to fetch data from ${s}. Status: ${t.status}`)};async function so(s="https://github.com/zakarialaoui10"){const e=await(await fetch(s)).text();return new DOMParser().parseFromString(e,"text/xml").documentElement}function io(s="https://github.com/zakarialaoui10"){const t=Ns(s);return new DOMParser().parseFromString(t,"text/xml").documentElement}globalThis.fetchdom=so;globalThis.fetchdomSync=io;var ro=Object.freeze({__proto__:null,preload:Ns});const Rt=s=>s.replace(/\*\*(.*?)\*\*/g,"<strong>$1</strong>").replace(/\*(.*?)\*/g,"<em>$1</em>").replace(/\[(.*?)\]\((.*?)\)/g,'<a href="$2">$1</a>').replace(/!\[(.*?)\]\((.*?)\)/g,'<img src="$2" alt="$1">').replace(/`([^`]+)`/g,"<code>$1</code>"),no=s=>`<tr>${s.split("|").map(i=>i.trim()).filter(i=>i!=="").map(i=>`<td>${Rt(i)}</td>`).join("")}</tr>
`,oo=(s,t)=>{const e=s.join(`
`);return`${t?`<pre><code data-language="${t}">${e}</code></pre>`:`<pre><code>${e}</code></pre>`}
`},ao=s=>{const t=/^\d+\.\s/,e=s.match(t);if(e){let i=+e[1];return`<ol${i===1?"":` start="${i}"`}>${Rt(s.slice(e[0].length))}</ol>
`}return`<ul>${Rt(s)}</ul>
`},ho=()=>`<hr>
`,lo=s=>{const t=s.split(`
`);let e="",i=!1,r=!1,n=[],o="";for(let a=0;a<t.length;a++){let h=t[a];if(h.startsWith("|")){i||(i=!0,e+=`<table>
`),e+=no(h);continue}else i&&(i=!1,e+=`</table>
`);if(h.startsWith("```")){r?(r=!1,e+=oo(n,o)):(r=!0,n=[],o=h.slice(3).trim());continue}else if(r){n.push(h);continue}if(h.startsWith("# ")){const l=h.indexOf(" "),b=h.slice(l+1);e+=`<h${l}>${Rt(b)}</h${l}>
`;continue}if(h.startsWith("- ")||h.startsWith("* ")||h.match(/^\d+\.\s/)){e+=ao(h);continue}if(h.trim()==="---"){e+=ho();continue}e+=`<p>${Rt(h)}</p>
`}return e},nt=s=>s.replace(/\*(.*?)\*/g,"_$1_").replace(/\*\*(.*?)\*\*/g,"*$1*").replace(/\[(.*?)\]\((.*?)\)/g,"link:$2[$1]").replace(/!\[(.*?)\]\((.*?)\)/g,"image::$2[$1]").replace(/`([^`]+)`/g,"``$1``").replace(/^\*\s/,""),co=s=>`<tr>${s.split("|").map(i=>i.trim()).filter(i=>i!=="").map(i=>`<td>${nt(i)}</td>`).join("")}</tr>
`,uo=(s,t)=>{const e=s.join(`
`);return`${t?`<pre><code data-language="${t}">${e}</code></pre>`:`<pre><code>${e}</code></pre>`}
`},po=s=>{const t=/^(\d+)\.\s/,e=/^[.]\s/,i=/^[*]\s/;return s.match(t)?`<ol start="${s.match(t)[1]}"><li>${nt(s.replace(t,""))}</li></ol>
`:s.match(e)?`<ol><li>${nt(s.replace(e,""))}</li></ol>
`:s.match(i)?`<ul><li>${nt(s.replace(i,""))}</li></ul>
`:`<p>${nt(s)}</p>
`},fo=s=>`<blockquote>${nt(s.slice(2))}</blockquote>
`,mo=()=>`<hr>
`,go=s=>{const t=s.match(/\[(.*?)\]/);return t?t[1].split(",").map(e=>`[${e.trim()}]`).join(""):""},bo=s=>{const t=s.split(`
`);let e="",i=!1,r=!1,n=[],o="";for(let a=0;a<t.length;a++){let h=t[a];if(h.startsWith("|")){i||(i=!0,e+=`<table>
`),e+=co(h);continue}else i&&(i=!1,e+=`</table>
`);if(h.startsWith("```")){r?(r=!1,e+=uo(n,o)):(r=!0,n=[],o=h.slice(3).trim());continue}else if(r){n.push(h);continue}if(h.startsWith("=")){const l=(h.match(/=/g)||[]).length,b=h.replace(/=/g,"").trim();e+=`<h${l}>${nt(b)}</h${l}>
`;continue}if(h.match(/^(\d+)\.\s/)||h.match(/^[*\.]\s/)){e+=po(h);continue}if(h.startsWith("> ")){e+=fo(h);continue}if(h.trim()==="---"){e+=mo();continue}if(h.startsWith("[")){e+=go(h);continue}h.trim()!==""&&(e+=`<p>${nt(h)}</p>
`)}return e},Fe=(s,t=",")=>s.trim().trimEnd().split(`
`).map(e=>e.split(t)),yo=(s,t=",")=>new m(Fe(s,t)),Fs=(s,t=",")=>{const[e,...i]=Fe(s,t);return i.map(n=>{const o={};return e.forEach((a,h)=>{o[a]=n[h]}),o})},wo=(s,t=",")=>JSON.stringify(Fs(s,t)),vo=(s,t)=>{const e=s.trim().trimEnd().split(`
`).filter(o=>o),i=e[0].split(",");let r=`INSERT INTO ${t} (${i.join(", ")}) Values `,n=[];for(let o=1;o<e.length;o++){const a=e[o].split(",");n.push(`(${a})`)}return r+n.join(`,
`)},_e=s=>s instanceof Array?[Object.keys(s[0]),...s.map(t=>Object.values(t))]:[Object.keys(s)],as=(s,t)=>_e(s).map(e=>e.join(t)).join(`
`),xo=s=>s instanceof Object?_e(s):_e(JSON.parse(s)),Bs=(s,t=",")=>s instanceof Object?as(s,t):as(JSON.parse(s),t),ko=(s,t)=>{const e=Bs(s,t),i=new Blob([e],{type:"text/csv;charset=utf-8;"});return{str:e,blob:i,url:URL.createObjectURL(i)}},Ce=(s,t)=>{const e=[];if(Array.isArray(s))s.forEach(i=>{if(typeof i=="object"&&i!==null){e.push(`${t}-`);const r=Ce(i,`${t}  `);e.push(...r)}else e.push(`${t}- ${i}`)});else for(const i in s)if(s.hasOwnProperty(i)){const r=s[i];if(typeof r=="object"&&r!==null){e.push(`${t}${i}:`);const n=Ce(r,`${t}  `);e.push(...n)}else e.push(`${t}${i}: ${r}`)}return e},hs=(s,t="")=>Ce(s,t).join(`
`),Hs=(s,t)=>s instanceof Object?hs(s,t):hs(JSON.parse(s),t),_o=(s,t)=>{const e=Hs(s,t),i=new Blob([e],{type:"text/yml;charset=utf-8;"});return{str:e,blob:i,url:URL.createObjectURL(i)}},Be=(s,t=1)=>{let e="";for(const i in s)if(s.hasOwnProperty(i)){const r=s[i];e+=`
`+" ".repeat(t)+`<${i}>`,typeof r=="object"?e+=Be(r,t+2):e+=`${r}`,e+=`</${i}>`}return e.trim()},Co=(s,t)=>{const e=Be(s,t),i=new Blob([e],{type:"text/xml;charset=utf-8;"});return{str:e,blob:i,url:URL.createObjectURL(i)}};var at,Vs,Ws,Ys,ms;let Io=(ms=class{constructor(t={},e=t.hasOwnProperty("default")?"default":Object.keys(t)[0],i=0){E(this,at);this.id="Ziko-Style-"+i,this.keys=new Set,this.styles={default:{fontSize:"1em",color:"green"},other:{fontSize:"2em",color:"cyan"}},t&&this.add(t),e&&this.use(e)}get current(){return[...this.keys].reduce((t,e)=>(t[e]=`var(--${e}-${this.id})`,t),{})}add(t,e={}){return t&&typeof t=="object"&&!Array.isArray(t)?Object.assign(this.styles,t):typeof t=="string"&&Object.assign(this.styles,{[t]:e}),this}use(t){return typeof t=="number"?p(this,at,Vs).call(this,t):typeof t=="string"?p(this,at,Ws).call(this,t):t&&typeof t=="object"?p(this,at,Ys).call(this,t):this}},at=new WeakSet,Vs=function(t){const e=Object.keys(this.styles);for(let i in this.styles[e[t]])Object.prototype.hasOwnProperty.call(this.styles[e[t]],i)&&(document.documentElement.style.setProperty(`--${i}-${this.id}`,this.styles[e[t]][i]),this.keys.add(i));return this},Ws=function(t){if(!this.styles[t])return this;for(let e in this.styles[t])Object.prototype.hasOwnProperty.call(this.styles[t],e)&&(document.documentElement.style.setProperty(`--${e}-${this.id}`,this.styles[t][e]),this.keys.add(e));return this},Ys=function(t){for(let e in t)Object.prototype.hasOwnProperty.call(t,e)&&(document.documentElement.style.setProperty(`--${e}-${this.id}`,t[e]),this.keys.add(e));return this},ms);const O=(s,t="px")=>(typeof s=="number"&&(s+=t),s instanceof Array&&(s=s.map(e=>typeof e=="number"?e+=t:e).join(" ")),s);var M,U;class Eo{constructor(t={}){E(this,M);this.target=null,this.styles=new Map([["default",t]]),this.cache={isHidden:!1,isFaddedOut:!1,transformation:{Flip:[0,0,0],matrix:new m([[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]])}}}style(t){var e,i,r,n;for(const[o,a]of Object.entries(t))I.isCamelCase(o)&&(delete t[o],Object.assign(t,{[I.camel2hyphencase(o)]:a}));return(i=(e=this==null?void 0:this.target)==null?void 0:e.element)!=null&&i.style&&Object.assign((n=(r=this==null?void 0:this.target)==null?void 0:r.element)==null?void 0:n.style,t),this}linkTo(t){return this.target=t,this}use(t="default"){return this.style(this.styles.get(t)),this}update(t,e){const i=this.styles.get(t);return i?this.styles.set(t,Object.assign(i,e)):this.styles.set(t,e),this}add(t,e){return this.styles.set(t,e),this}replace(t,e){return this.styles.set(t,e),this}delete(...t){return t.forEach(e=>this.styles.delete(e)),this}updateDefaultStyle(){const t=Object.fromEntries(Object.entries(this.target.element.style).filter(e=>isNaN(+e[0])));return this.update("default",t),this}hover(t){var e,i,r,n;return t&&this.add("hover",t),(i=(e=this.target)==null?void 0:e.element)==null||i.addEventListener("pointerenter",()=>this.use("hover")),(n=(r=this.target)==null?void 0:r.element)==null||n.addEventListener("pointerleave",()=>this.use("default")),this}isInline(){return getComputedStyle(this.target.element).display.includes("inline")}isBlock(){return!this.isInline()}size(t,e){return this.style({width:t,height:e}),this}width(t){if(t instanceof Object){if(t instanceof Array&&(t={min:t[0],max:t[1]}),"min"in t||"max"in t){let e=t.min??t.max,i=t.max??t.min;e=O(e,"px"),i=O(i,"px"),this.style({minWidth:e,maxWidth:i},{target,maskVector})}}else t=O(t,"px"),this.style({width:t});return this}height(t){if(t instanceof Object){if(t instanceof Array&&(t={min:t[0],max:t[1]}),"min"in t||"max"in t){let e=t.min??t.max,i=t.max??t.min;e=O(e,"px"),i=O(i,"px"),this.style({minHeight:e,maxHeight:i},{target,maskVector})}}else t=O(t,"px"),this.style({height:t});return this}enableResize(t=!1,e=!1){let i="none";return t?e?i="both":i="horizontal":e?i="vertical":i="none",this.style({resize:i,overflow:"hidden"}),this.isInline()&&(console.group("Ziko Issue : Temporarily Incompatible Method"),console.warn(".enableResize has no effect on inline elements!"),console.info("%cConsider using other display types such as block, inline-block, flex, or grid for proper resizing behavior.","color:gold;background-color:#3333cc;padding:5px"),console.groupEnd()),this}hide({after:t,target:e,maskVector:i}={}){if(typeof t=="number"){const r=()=>this.hide({target:e,maskVector:i});setTimeout(r,t),clearTimeout(r)}else this.cache.isHidden=!0,this.style({display:"none"},{target:e,maskVector:i});return this}show({after:t,target:e,maskVector:i}={}){if(typeof t=="number"){const r=()=>this.show({target:e,maskVector:i});setTimeout(r,t),clearTimeout(r)}else this.cache.isHidden=!1,this.style({display:""},{target:e,maskVector:i});return this}color(t){return this.style({color:t}),this}background(t){return this.style({background:t}),this}backgroundColor(t){return this.style({backgroundColor:t}),this}opacity(t,{target:e,maskVector:i}={}){return this.style({opacity:t},{target:e,maskVector:i}),this}position(t){return this.style({position:t}),this}display(t,{target:e,maskVector:i}={}){return this.style({display:t},{target:e,maskVector:i}),this}zIndex(t){return this.style({zIndex:t}),this}float(t,{target:e,maskVector:i}={}){return this.style({float:t},{target:e,maskVector:i}),this}border(t="1px solid red",{target:e,maskVector:i}={}){return this.style({border:t},{target:e,maskVector:i}),this}borderTop(t="1px solid red",{target:e,maskVector:i}={}){return this.style({borderTop:t},{target:e,maskVector:i}),this}borderRight(t="1px solid red",{target:e,maskVector:i}={}){return this.style({borderRight:t},{target:e,maskVector:i}),this}borderBottom(t="1px solid red",{target:e,maskVector:i}={}){return this.style({borderBottom:t},{target:e,maskVector:i}),this}borderLeft(t="1px solid red",{target:e,maskVector:i}={}){return this.style({borderLeft:t},{target:e,maskVector:i}),this}borderRadius(t){return t=O(t,"px"),this.style({borderRadius:t},{target,maskVector}),this}margin(t){return t=O(t,"px"),this.style({margin:t},{target,maskVector}),this}marginTop(t){return t=O(t,"px"),this.style({marginTop:t}),this}marginRight(t){return t=O(t,"px"),this.style({marginRight:t}),this}marginBootom(t){return t=O(t,"px"),this.style({marginBootom:t}),this}marginLeft(t){return t=O(t,"px"),this.style({marginLeft:t}),this}padding(t){return t=O(t,"px"),this.style({padding:t}),this}paddingTop(t){return t=O(t,"px"),this.style({paddingTop:t}),this}paddingRight(t){return t=O(t,"px"),this.style({paddingRight:t}),this}paddingBootom(t){return t=O(t,"px"),this.style({paddingBootom:t}),this}paddingLeft(t){return t=O(t,"px"),this.style({paddingLeft:t}),this}font(t){return this.style({font:t}),this}fontFamily(t=""){return this.style({fontFamily:t}),this}fontSize(t){return this.style({fontSize:t}),this}cursor(t="pointer"){return this.style({cursor:t}),this}overflow(t,e){const i=["hidden","auto"];return this.style({overflowX:typeof t=="number"?i[t]:t,overflowY:typeof e=="number"?i[e]:e},{target,maskVector}),this}clip(t,{target:e,maskVector:i}={}){return typeof t=="string"&&(t="polygon("+t+")"),this.style({clipPath:t},{target:e,maskVector:i}),this}fadeOut(t=1){return this.style({transition:`opacity ${t/1e3}s`,opacity:0}),this.cache.isFaddedOut=!0,this}fadeIn(t=1){return this.style({transition:`opacity ${t/1e3}s`,opacity:1}),this.cache.isFaddedOut=!1,this}toggleFade(t=1e3,e=t){return this.cache.isFaddedOut?this.fadeIn(t):this.fadeOut(e),this}morphBorderRadius(t,e){return this.style({borderRadius:t,transition:`borderRadius ${e/1e3}s`}),this}translate(t,e=t,i=0,r=0){return this.cache.transformation.matrix.set(3,0,t),this.cache.transformation.matrix.set(3,1,e),this.cache.transformation.matrix.set(3,2,i),p(this,M,U).call(this,r),this}translateX(t,e=0){return this.cache.transformation.matrix.set(3,0,t),p(this,M,U).call(this,e),this}translateY(t,e=0){return this.cache.transformation.matrix.set(3,1,t),p(this,M,U).call(this,e),this}translateZ(t,e=0){const i=-1/this.cache.transformation.matrix[2][2];return this.cache.transformation.matrix.set(3,2,z),this.cache.transformation.matrix.set(3,3,1-t/i),p(this,M,U).call(this,e),this}perspective(t,e=0){const i=this.cache.transformation.matrix[3][2];return this.cache.transformation.matrix.set(2,2,-1/d),this.cache.transformation.matrix.set(3,3,1-i/t),p(this,M,U).call(this,e),this}scale(t,e=t,i=0){return this.cache.transformation.matrix.set(0,0,t),this.cache.transformation.matrix.set(1,1,e),p(this,M,U).call(this,i),this}scaleX(t=1,e=0){return this.cache.transformation.matrix.set(0,0,t),p(this,M,U).call(this,e),this}scaleY(t=1,e=0){return this.cache.transformation.matrix.set(1,1,t),this.cache.transformation.matrix.arr.join(","),p(this,M,U).call(this,e),this}skew(t,e=t,i=0){return this.cache.transformation.matrix.set(0,1,t),this.cache.transformation.matrix.set(1,0,e),this.cache.transformation.matrix.arr.join(","),p(this,M,U).call(this,i),this}skewX(t=1,e=0){return this.cache.transformation.matrix.set(0,1,t),this.cache.transformation.matrix.arr.join(","),p(this,M,U).call(this,e),this}skewY(t=1,e=0){return this.cache.transformation.matrix.set(1,0,t),this.cache.transformation.matrix.arr.join(","),p(this,M,U).call(this,e),this}rotateX(t,e=0){return this.cache.transformation.matrix.set(1,1,k(t)),this.cache.transformation.matrix.set(1,2,-_(t)),this.cache.transformation.matrix.set(2,1,_(t)),this.cache.transformation.matrix.set(1,2,k(t)),p(this,M,U).call(this,e),this}rotateY(t,e=0){return this.cache.transformation.matrix.set(0,0,k(t)),this.cache.transformation.matrix.set(0,2,_(t)),this.cache.transformation.matrix.set(2,0,-_(t)),this.cache.transformation.matrix.set(2,2,k(t)),p(this,M,U).call(this,e),this}rotateZ(t,e=0){return this.cache.transformation.matrix.set(0,0,k(t)),this.cache.transformation.matrix.set(0,1,-_(t)),this.cache.transformation.matrix.set(1,0,_(t)),this.cache.transformation.matrix.set(1,1,k(t)),p(this,M,U).call(this,e),this}flipeX(t=1){return this.cache.transformation.Flip[0]+=180,this.cache.transformation.Flip[0]%=360,this.rotateX(this.cache.transformation.Flip[0],t),this}flipeY(t=1){return this.cache.transformation.Flip[1]+=180,this.cache.transformation.Flip[1]%=360,this.rotateY(this.cache.transformation.Flip[1],t),this}flipeZ(t=1){return this.cache.transformation.Flip[2]+=180,this.cache.transformation.Flip[2]%=360,this.rotateZ(this.cache.transformation.Flip[2],t),this}slideHeightIn(t=1,e=this.h){return this.style({transition:t+"s",height:e}),this}slideHeightOut(t=1){var e,i;return this.style({transition:t+"s",height:0}),(i=(e=this.target)==null?void 0:e.element)==null||i.n("transitionend",()=>this.style({opacity:"none"})),this}slideWidthIn(t=1,e=this.w){return this.style({transition:t+"s",width:e}),this}slideWidthOut(t=1){var i,r,n,o;this.style({transition:t+"s",width:0});const e=()=>{this.style({opacity:"none"})};return(r=(i=this.target)==null?void 0:i.element)==null||r.addEventListener("transitionend",e),(o=(n=this.target)==null?void 0:n.element)==null||o.removeEventListener("transitionend",e),this}slideIn({transitionTimming:t=1,w:e="100%",h:i="auto"}={}){return this.style({transition:t+"s",width:e,height:i,visibility:"visible"}),this}slideOut({transitionTimming:t=1,width:e=0,heightransitionTimming:i=0}={}){var n,o,a,h;this.style({visibility:"hidden",transition:t+"s",opacity:"none",width:e,height});const r=()=>{this.style({opacity:"none"})};return(o=(n=this.target)==null?void 0:n.element)==null||o.addEventListener("transitionend",r),(h=(a=this.target)==null?void 0:a.element)==null||h.removeEventListener("transitionend",r),this}}M=new WeakSet,U=function(t){const e=this.cache.transformation.matrix.arr.join(",");this.style({transform:`matrix3d(${e})`,"-webkit-transform":`matrix3d(${e})`,"-moz-transform":`matrix3d(${e})`,"-ms-transform":`matrix3d(${e})`,"-o-transform":`matrix3d(${e})`}),t!=0&&this.style({transition:`transform ${t/1e3}s ease`})};function w(s,t,e,i){return this.event=s,this.cache.preventDefault[t]&&s.preventDefault(),e&&e(),this.cache.stream.enabled[t]&&i&&this.cache.stream.history[t].push(i),this.cache.callbacks[t].map(r=>r(this)),this}class j{constructor(t){this.target=null,this.setTarget(t),this.__dispose=this.dispose.bind(this)}get targetElement(){return this.target.element}setTarget(t){return this.target=t,this}__handle(t,e,i){var n;const r=t==="drag"?t:`${this.cache.prefixe}${t}`;return this.dispose(i),(n=this.targetElement)==null||n.addEventListener(r,e),this}__onEvent(t,e,...i){if(i.length===0)if(this.cache.callbacks.length>1)this.cache.callbacks.map(r=>n=>r.call(this,n));else return this;else this.cache.callbacks[t]=i.map(r=>n=>r.call(this,n));return this.__handle(t,this.__controller[t],e),this}preventDefault(t={}){return Object.assign(this.cache.preventDefault,t),this}pause(t={}){var i;t={...Object.fromEntries(Object.keys(this.cache.stream.enabled).map(r=>[r,!0])),...t};for(let r in t)t[r]&&((i=this.targetElement)==null||i.removeEventListener(`${this.cache.prefixe}${r}`,this.__controller[`${this.cache.prefixe}${r}`]),this.cache.paused[`${this.cache.prefixe}${r}`]=!0);return this}resume(t={}){var i;t={...Object.fromEntries(Object.keys(this.cache.stream.enabled).map(r=>[r,!0])),...t};for(let r in t)t[r]&&((i=this.targetElement)==null||i.addEventListener(`${this.cache.prefixe}${r}`,this.__controller[`${this.cache.prefixe}${r}`]),this.cache.paused[`${this.cache.prefixe}${r}`]=!1);return this}dispose(t={}){return this.pause(t),this}stream(t={}){return this.cache.stream.t0=Date.now(),t={...Object.fromEntries(Object.keys(this.cache.stream.enabled).map(i=>[i,!0])),...t},Object.assign(this.cache.stream.enabled,t),this}clear(t={}){t={...Object.fromEntries(Object.keys(this.cache.stream.clear).map(i=>[i,!0])),...t};for(let i in t)t[i]&&(this.cache.stream.history[i]=[]);return this}}function Ao(s){w.call(this,s,"click",null,null)}function To(s){w.call(this,s,"dbclick",null,null)}class qs extends j{constructor(t){super(t),this.event=null,this.cache={prefixe:"",preventDefault:{click:!1,dbclick:!1},paused:{click:!1,dbclick:!1},stream:{enabled:{click:!1,dbclick:!1},clear:{click:!1,dbclick:!1},history:{click:[],dbclick:[]}},callbacks:{click:[],dbclick:[]}},this.__controller={click:Ao.bind(this),dbclick:To.bind(this)}}onClick(...t){return this.__onEvent("click",{},...t),this}onDbClick(...t){return this.__onEvent("dbclick",{},...t),this}}const Ie=s=>new qs(s);function So(s){w.call(this,s,"down",()=>{this.dx=parseInt(s.offsetX),this.dy=parseInt(s.offsetY),this.isDown=!0},{x:this.dx,y:this.dy,t:Date.now()-this.cache.stream.t0})}function Oo(s){w.call(this,s,"move",()=>{this.mx=parseInt(s.offsetX),this.my=parseInt(s.offsetY),this.isMoving=!0},{x:this.mx,y:this.my,t:Date.now()-this.cache.stream.t0})}function Mo(s){w.call(this,s,"up",()=>{this.ux=parseInt(s.offsetX),this.uy=parseInt(s.offsetY),this.isDown=!1;const t=this.dx,e=this.dy,i=this.ux,r=this.uy,n=(i-t)/this.target.Width,o=(e-r)/this.target.Height,a=n<0?"left":n>0?"right":"none",h=o<0?"bottom":o>0?"top":"none";this.swippe={h:a,v:h,delta_x:n,delta_y:o}},{x:this.ux,y:this.uy,t:Date.now()-this.cache.stream.t0})}function Zo(s){w.call(this,s,"enter",null,null)}function Uo(s){w.call(this,s,"leave",null,null)}function Po(s){w.call(this,s,"out",null,null)}function jo(s){w.call(this,s,"cancel",null,null)}class Xs extends j{constructor(t){super(t),this.event=null,this.dx=0,this.dy=0,this.dt=0,this.mx=0,this.my=0,this.mt=0,this.ux=0,this.uy=0,this.ut=0,this.swippe={h:null,v:null,delta_x:0,delta_y:0},this.isMoving=!1,this.isDown=!1,this.cache={prefixe:"pointer",preventDefault:{down:!1,move:!1,up:!1,enter:!1,out:!1,leave:!1,cancel:!1},paused:{down:!1,move:!1,up:!1,enter:!1,out:!1,leave:!1,cancel:!1},stream:{enabled:{down:!1,move:!1,up:!1,enter:!1,out:!1,leave:!1,cancel:!1},clear:{down:!1,move:!1,up:!1,enter:!1,out:!1,leave:!1,cancel:!1},history:{down:[],move:[],up:[],enter:[],out:[],leave:[]}},callbacks:{down:[e=>console.log({dx:e.dx,dy:e.dy,down:e.down,move:e.move,t:e.dt})],move:[e=>console.log({mx:e.mx,my:e.my,down:e.down,move:e.move,t:e.dt})],up:[e=>console.log({ux:e.ux,uy:e.uy,down:e.down,move:e.move,t:e.dt})],enter:[e=>console.log({dx:e.dx,dy:e.dy,down:e.down,move:e.move,t:e.dt})],out:[e=>console.log({mx:e.mx,my:e.my,down:e.down,move:e.move,t:e.dt})],leave:[e=>console.log({ux:e.ux,uy:e.uy,down:e.down,move:e.move,t:e.dt})],cancel:[e=>console.log({ux:e.ux,uy:e.uy,down:e.down,move:e.move,t:e.dt})]}},this.__controller={down:So.bind(this),move:Oo.bind(this),up:Mo.bind(this),enter:Zo.bind(this),out:Po.bind(this),leave:Uo.bind(this),cancel:jo.bind(this)}}onDown(...t){return t.length===0&&(t=[()=>{}]),this.__onEvent("down",{down:!0,move:!1,up:!1,enter:!1,out:!1,leave:!1,cancel:!1},...t),this}onMove(...t){return t.length===0&&(t=[()=>{}]),this.__onEvent("move",{down:!1,move:!0,up:!1,enter:!1,out:!1,leave:!1,cancel:!1},...t),this}onUp(...t){return t.length===0&&(t=[()=>{}]),this.__onEvent("up",{down:!1,move:!1,up:!0,enter:!1,out:!1,leave:!1,cancel:!1},...t),this}onEnter(...t){return t.length===0&&(t=[()=>{}]),this.__onEvent("enter",{down:!1,move:!1,up:!1,enter:!0,out:!1,leave:!1,cancel:!1},...t),this}onOut(...t){return t.length===0&&(t=[()=>{}]),this.__onEvent("out",{down:!1,move:!1,up:!1,enter:!1,out:!0,leave:!1,cancel:!1},...t),this}onLeave(...t){return t.length===0&&(t=[()=>{}]),this.__onEvent("leave",{down:!1,move:!1,up:!1,enter:!1,out:!1,leave:!0,cancel:!1},...t),this}onCancel(...t){return t.length===0&&(t=[()=>{}]),this.__onEvent("cancel",{down:!1,move:!1,up:!1,enter:!1,out:!1,leave:!1,cancel:!0},...t),this}}var it=s=>new Xs(s);class Gs extends j{constructor(t){super(t),this.event=null,this.dx=0,this.dy=0,this.dt=0,this.mx=0,this.my=0,this.mt=0,this.ux=0,this.uy=0,this.ut=0,this.swippe={h:null,v:null,delta_x:0,delta_y:0},this.isMoving=!1,this.isDown=!1,this.cache={prefixe:"mouse",preventDefault:{down:!1,move:!1,up:!1,enter:!1,out:!1,leave:!1,over:!1},paused:{down:!1,move:!1,up:!1,enter:!1,out:!1,leave:!1,over:!1},stream:{enabled:{down:!1,move:!1,up:!1,enter:!1,out:!1,leave:!1,over:!1},clear:{down:!1,move:!1,up:!1,enter:!1,out:!1,leave:!1,over:!1},history:{down:[],move:[],up:[],enter:[],out:[],leave:[],over:[]}},callbacks:{down:[e=>console.log({dx:e.dx,dy:e.dy,down:e.down,move:e.move,t:e.dt})],move:[e=>console.log({mx:e.mx,my:e.my,down:e.down,move:e.move,t:e.dt})],up:[e=>console.log({ux:e.ux,uy:e.uy,down:e.down,move:e.move,t:e.dt})],enter:[e=>console.log({dx:e.dx,dy:e.dy,down:e.down,move:e.move,t:e.dt})],out:[e=>console.log({mx:e.mx,my:e.my,down:e.down,move:e.move,t:e.dt})],leave:[e=>console.log({ux:e.ux,uy:e.uy,down:e.down,move:e.move,t:e.dt})],over:[e=>console.log({ux:e.ux,uy:e.uy,down:e.down,move:e.move,t:e.dt})]}},this.__controller={down:Do.bind(this),move:Lo.bind(this),up:$o.bind(this),enter:Ro.bind(this),out:No.bind(this),leave:zo.bind(this),over:Fo.bind(this)}}onDown(...t){return t.length===0&&(t=[()=>{}]),this.__onEvent("down",{down:!0,move:!1,up:!1,enter:!1,out:!1,leave:!1,over:!1},...t),this}onMove(...t){return t.length===0&&(t=[()=>{}]),this.__onEvent("move",{down:!1,move:!0,up:!1,enter:!1,out:!1,leave:!1,over:!1},...t),this}onUp(...t){return t.length===0&&(t=[()=>{}]),this.__onEvent("up",{down:!1,move:!1,up:!0,enter:!1,out:!1,leave:!1,over:!1},...t),this}onEnter(...t){return t.length===0&&(t=[()=>{}]),this.__onEvent("enter",{down:!1,move:!1,up:!1,enter:!0,out:!1,leave:!1,over:!1},...t),this}onOut(...t){return t.length===0&&(t=[()=>{}]),this.__onEvent("out",{down:!1,move:!1,up:!1,enter:!1,out:!0,leave:!1,over:!1},...t),this}onLeave(...t){return t.length===0&&(t=[()=>{}]),this.__onEvent("leave",{down:!1,move:!1,up:!1,enter:!1,out:!1,leave:!0,over:!1},...t),this}onOver(...t){return t.length===0&&(t=[()=>{}]),this.__onEvent("over",{down:!1,move:!1,up:!1,enter:!1,out:!1,leave:!1,over:!0},...t),this}}function Do(s){w.call(this,s,"down",()=>{this.dx=parseInt(s.offsetX),this.dy=parseInt(s.offsetY),this.isDown=!0},{x:this.dx,y:this.dy,t:Date.now()-this.cache.stream.t0})}function Lo(s){w.call(this,s,"move",()=>{this.mx=parseInt(s.offsetX),this.my=parseInt(s.offsetY),this.isMoving=!0},{x:this.mx,y:this.my,t:Date.now()-this.cache.stream.t0})}function $o(s){w.call(this,s,"up",()=>{this.ux=parseInt(s.offsetX),this.uy=parseInt(s.offsetY),this.isDown=!1;const t=this.dx,e=this.dy,i=this.ux,r=this.uy,n=(i-t)/this.target.Width,o=(e-r)/this.target.Height,a=n<0?"left":n>0?"right":"none",h=o<0?"bottom":o>0?"top":"none";this.swippe={h:a,v:h,delta_x:n,delta_y:o}},{x:this.ux,y:this.uy,t:Date.now()-this.cache.stream.t0})}function Ro(s){w.call(this,s,"enter",null,null)}function zo(s){w.call(this,s,"leave",null,null)}function No(s){w.call(this,s,"out",null,null)}function Fo(s){w.call(this,s,"out",null,null)}const ct=s=>new Gs(s);function Bo(s){w.call(this,s,"wheel",null,null)}class Qs extends j{constructor(t){super(t),this.event=null,this.cache={prefixe:"",preventDefault:{wheel:!1},paused:{wheel:!1},stream:{enabled:{wheel:!1},clear:{wheel:!1},history:{wheel:[]}},callbacks:{click:[]}},this.__controller={wheel:Bo.bind(this)}}onWheel(...t){return this.__onEvent("wheel",{},...t),this}}const Ks=s=>new Qs(s);function Ho(s){w.call(this,s,"down",()=>this.kd=s.key,{key:s.key,t:10})}function Vo(s){w.call(this,s,"press",()=>this.kp=s.key,{key:s.key,t:10})}function Wo(s){w.call(this,s,"up",()=>this.ku=s.key,{key:s.key,t:10})}class Js extends j{constructor(t){super(t),this.kp=null,this.kd=null,this.ku=null,this.t=0,this.cache={prefixe:"key",preventDefault:{down:!1,press:!1,up:!1},paused:{down:!1,press:!1,up:!1},stream:{enabled:{down:!1,press:!1,up:!1},clear:{down:!0,press:!1,up:!1},history:{down:[],press:[],up:[]}},callbacks:{down:[e=>console.log({kd:e.kd})],press:[e=>console.log({kp:e.kp})],up:[e=>console.log({ku:e.ku})]},successifKeysCallback:{down:[e=>console.log(1111)],press:[e=>console.log(1112)],kyup:[e=>console.log(1113)]}},this.__controller={down:Ho.bind(this),press:Vo.bind(this),up:Wo.bind(this)}}onDown(...t){return this.__onEvent("down",{down:!0},...t),this}onPress(...t){return this.__onEvent("press",{press:!0},...t),this}onUp(...t){return this.__onEvent("up",{up:!0},...t),this}}var Ut=s=>new Js(s);function Yo(s){w(this,s,"start",null)}function qo(s){w.call(this,s,"drag",null,null)}function Xo(s){w.call(this,s,"end",null,null)}function Go(s){w.call(this,s,"drop",null,null)}class Qo extends j{constructor(t){super(t),this.target.setAttribute("draggable",!0),this.cache={prefixe:"drag",preventDefault:{drag:!1,start:!1,end:!1,enter:!1,leave:!1,over:!1},paused:{drag:!1,start:!1,end:!1,enter:!1,leave:!1,over:!1},enabled:{drag:!1,start:!1,end:!1,enter:!1,leave:!1,over:!1},callbacks:{drag:[],start:[],end:[],enter:[],leave:[],over:[]},stream:{enabled:{drag:!1,start:!1,end:!1,enter:!1,leave:!1,over:!1},clear:{drag:!1,start:!1,end:!1,enter:!1,leave:!1,over:!1},history:{drag:[],start:[],end:[],enter:[],leave:[],over:[]}}},this.__controller={start:Yo.bind(this),drag:qo.bind(this),end:Xo.bind(this)}}onStart(...t){return this.__onEvent("start",{},...t),this}onDrag(...t){return this.__onEvent("drag",{},...t),this}onEnd(...t){return this.__onEvent("end",{},...t),this}}class Ko extends j{constructor(t){super(t),this.event=null,this.cache={prefixe:"",preventDefault:{drop:!1},paused:{drop:!1},stream:{enabled:{drop:!1},clear:{drop:!1},history:{drop:[]}},callbacks:{drop:[e=>console.log({dx:e.dx,dy:e.dy,drop:e.drop,move:e.move,t:e.dt})]}},this.__controller={drop:Go.bind(this)}}onDrop(...t){return this.__onEvent("drop",{},...t),this}}const Yt=s=>new Qo(s),ti=s=>new Ko(s);function Jo(s){w.call(this,s,"copy",null,null)}function ta(s){w.call(this,s,"cut",null,null)}function ea(s){w.call(this,s,"paste",null,null)}function sa(s){w.call(this,s,"select",null,null)}class ei extends j{constructor(t){super(t),this.event=null,this.cache={prefixe:"",preventDefault:{copy:!1,cut:!1,paste:!1,select:!1},paused:{copy:!1,cut:!1,paste:!1,select:!1},stream:{enabled:{copy:!1,cut:!1,paste:!1,select:!1},clear:{copy:!1,cut:!1,paste:!1,select:!1},history:{copy:[],cut:[],paste:[],select:[]}},callbacks:{copy:[],cut:[],paste:[],select:[]}},this.__controller={copy:Jo.bind(this),cut:ta.bind(this),paste:ea.bind(this),select:sa.bind(this)}}onCopy(...t){return this.__onEvent("copy",{},...t),this}onCut(...t){return this.__onEvent("cut",{},...t),this}onPaste(...t){return this.__onEvent("paste",{},...t),this}onSelect(...t){return this.__onEvent("select",{},...t),this}}const Pt=s=>new ei(s);function ia(s){w.call(this,s,"focus",null,null)}function ra(s){w.call(this,s,"blur",null,null)}class na extends j{constructor(t){super(t),this.event=null,this.cache={prefixe:"",preventDefault:{focus:!1,blur:!1},paused:{focus:!1,blur:!1},stream:{enabled:{focus:!1,blur:!1},clear:{focus:!1,blur:!1},history:{focus:[],blur:[]}},callbacks:{focus:[],blur:[]}},this.__controller={focus:ia.bind(this),blur:ra.bind(this)}}onFocus(...t){return this.__onEvent("focus",{},...t),this}onBlur(...t){return this.__onEvent("blur",{},...t),this}}const Ee=s=>new na(s);function oa(s){w.call(this,s,"input",null,null)}function aa(s){w.call(this,s,"change",null,null)}class si extends j{constructor(t){super(t),this.event=null,this.cache={prefixe:"",preventDefault:{input:!1,change:!1},paused:{input:!1,change:!1},stream:{enabled:{input:!1,change:!1},clear:{input:!1,change:!1},history:{input:[],change:[]}},callbacks:{input:[],change:[]}},this.__controller={input:oa.bind(this),change:aa.bind(this)}}get value(){return this.target.value}onInput(...t){return this.__onEvent("input",{},...t),this}onChange(...t){return this.__onEvent("change",{},...t),this}}const Ae=s=>new si(s);function ha(s){w.call(this,s,"hashchange",null,null)}class ii extends j{constructor(t){super(t),this.event=null,this.cache={prefixe:"",preventDefault:{hashchange:!1},paused:{hashchange:!1},stream:{enabled:{hashchange:!1},clear:{hashchange:!1},history:{hashchange:[]}},callbacks:{hashchange:[]}},this.__controller={hashchange:ha.bind(this)}}onChange(...t){return this.__onEvent("hashchange",{},...t),this}}const la=s=>new ii(s),ca=s=>function(t){w.call(this,t,s,null,null)};var Ft,Te;class ri extends j{constructor(e){super(e);E(this,Ft);this.event=null,this.cache={prefixe:"",preventDefault:{},paused:{},stream:{enabled:{},clear:{},history:{}},callbacks:{}},this.__controller={}}on(e,...i){return this.__controller[e]||p(this,Ft,Te).call(this,e),this.__onEvent(e,{},...i),this}emit(e,i={}){this.__controller[e]||p(this,Ft,Te).call(this,e),this.detail=i;const r=new Event(e);return this.targetElement.dispatchEvent(r),this}}Ft=new WeakSet,Te=function(e){return this.cache.preventDefault[e]=!1,this.cache.paused[e]=!1,this.cache.stream.enabled=!1,this.cache.stream.clear=!1,this.cache.stream.history=[],this.cache.callbacks[e]=[],this.__controller[e]=ca(e).bind(this),this};const Se=s=>new ri(s);class ni extends j{constructor(t,e=.3,i=.3){var a,h,l,b;super(t);const{removeListener:r,setWidthThreshold:n,setHeightThreshold:o}=ua((a=this.target)==null?void 0:a.element,e,i,this.target.width,this.target.height);this.cache={width_threshold:e,height_threshold:i,removeListener:r,setWidthThreshold:n,setHeightThreshold:o,legacyTouchAction:(b=(l=(h=globalThis==null?void 0:globalThis.document)==null?void 0:h.body)==null?void 0:l.style)==null?void 0:b.touchAction,prefixe:"",preventDefault:{swipe:!1},paused:{swipe:!1},stream:{enabled:{swipe:!1},clear:{swipe:!1},history:{swipe:[]}},callbacks:{swipe:[]}},this.__controller={swipe:pa.bind(this)}}onSwipe(...t){var e,i;return Object.assign((i=(e=globalThis==null?void 0:globalThis.document)==null?void 0:e.body)==null?void 0:i.style,{touchAction:"none"}),this.__onEvent("swipe",{},...t),this}updateThresholds(t=this.cache.width_threshold,e=this.cache.height_threshold){return t!==void 0&&this.cache.setWidthThreshold(t),e!==void 0&&this.cache.setHeightThreshold(e),this}destroy(){var t,e;return this.cache.removeListener(),Object.assign((e=(t=globalThis==null?void 0:globalThis.document)==null?void 0:t.body)==null?void 0:e.style,{touchAction:this.cache.legacyTouchAction}),this}}function ua(s,t=.5,e=.5,i,r){let n=$(t,0,i),o=$(e,0,r),a=0,h=0,l=0,b=0;const D=S=>{a=S.clientX,h=S.clientY},Zt=S=>{l=S.clientX,b=S.clientY,kn()};s==null||s.addEventListener("pointerdown",D),s==null||s.addEventListener("pointerup",Zt);function kn(){const S=l-a,et=b-h;(Math.abs(S)>n||Math.abs(et)>o)&&_n(S,et)}function _n(S,et){const En=globalThis!=null&&globalThis.CustomEvent?new CustomEvent("swipe",{detail:{deltaX:Q(S)<n?0:Ne(S)*q(Q(S),0,i),deltaY:Q(et)<o?0:Ne(et)*q(Q(et),0,r),direction:{x:Q(S)<n?"none":S>0?"right":"left",y:Q(et)<o?"none":et>0?"down":"up"}}}):null;s==null||s.dispatchEvent(En)}function Cn(S){n=$(S,0,i)}function In(S){o=$(S,0,r)}return{removeListener(){s==null||s.removeEventListener("pointerdown",D),s==null||s.removeEventListener("pointerup",Zt),console.log("Swipe event listeners removed")},setWidthThreshold:Cn,setHeightThreshold:In}}function pa(s){w.call(this,s,"swipe",null,null)}const oi=(s,t,e)=>new ni(s,t,e);var fa=Object.freeze({__proto__:null,ZikoCustomEvent:ri,ZikoEvent:j,ZikoEventClick:qs,ZikoEventClipboard:ei,ZikoEventHash:ii,ZikoEventInput:si,ZikoEventKey:Js,ZikoEventMouse:Gs,ZikoEventPointer:Xs,ZikoEventSwipe:ni,ZikoEventWheel:Qs,useClickEvent:Ie,useClipboardEvent:Pt,useCustomEvent:Se,useDragEvent:Yt,useDropEvent:ti,useFocusEvent:Ee,useHashEvent:la,useInputEvent:Ae,useKeyEvent:Ut,useMouseEvent:ct,usePointerEvent:it,useSwipeEvent:oi,useWheelEvent:Ks});class ne{constructor(t,e){this.target=t,this.observer=null,this.cache={options:e||{attributes:!0,childList:!0,subtree:!0},streamingEnabled:!0,lastMutation:null,mutationHistory:{}},this.observeCallback=(i,r)=>{if(this.cache.streamingEnabled)for(const n of i)switch(n.type){case"attributes":this.cache.mutationHistory.attributes.push(n.target.getAttribute(n.attributeName));break;case"childList":this.cache.mutationHistory.childList.push(n);break;case"subtree":this.cache.mutationHistory.subtree.push(n);break}this.callback&&this.callback(i,r)}}observe(t){if(!this.observer){if(!globalThis.MutationObserver){console.log("MutationObserver Nor Supported");return}this.observer=new MutationObserver(this.cache.observeCallback),this.observer.observe(this.target.element,this.cache.options),this.callback=([e])=>t.call(e,this),this.cache.streamingEnabled=!0}}pause(t){this.observer&&(this.observer.disconnect(),t&&this.observer.observe(this.target,t))}reset(t){this.observer&&(this.observer.disconnect(),this.observer.observe(this.target,t||this.cache.options))}clear(){return this.observer&&(this.observer.disconnect(),this.observer=null,this.cache.mutationHistory={attributes:[],childList:[],subtree:[]}),this.cache.streamingEnabled=!1,this}getMutationHistory(){return this.cache.mutationHistory}enableStreaming(){return this.cache.streamingEnabled=!0,this}disableStreaming(){return this.cache.streamingEnabled=!1,this}}const da=(s,t={},e=null)=>{const i=new ne(s,t);return e&&i.observe(e),i};class ma extends ne{constructor(t,e){super(t,{attributes:!0,childList:!1,subtree:!1}),Object.assign(this.cache,{observeCallback:(i,r)=>{for(const n of i)this.cache.lastMutation={name:n.attributeName,value:n.target.getAttribute(n.attributeName)},this.cache.streamingEnabled&&this.cache.mutationHistory.attributes.push(this.cache.lastMutation);this.callback&&this.callback(i,r)}}),this.cache.mutationHistory.attributes=[],e&&this.observe(e)}get history(){return this.cache.mutationHistory.attributes}}const He=(s,t)=>new ma(s,t);class ga extends ne{constructor(t,e){super(t,{attributes:!1,childList:!0,subtree:!1}),Object.assign(this.cache,{observeCallback:(i,r)=>{for(const n of i)n.addedNodes?this.cache.lastMutation={type:"add",item:this.target.find(o=>o.element===n.addedNodes[0])[0],previous:this.target.find(o=>o.element===n.previousSibling)[0]}:n.addedNodes&&(this.cache.lastMutation={type:"remove",item:this.target.find(o=>o.element===n.removedNodes[0])[0],previous:this.target.find(o=>o.element===n.previousSibling)[0]}),this.cache.streamingEnabled&&this.cache.mutationHistory.children.push(this.cache.lastMutation);this.callback&&this.callback(i,r)}}),this.cache.mutationHistory.children=[],e&&this.observe(e)}get item(){return this.cache.lastMutation.item}get history(){return this.cache.mutationHistory.children}}const ai=(s,t)=>new ga(s,t);class ba{constructor(t,e,{threshold:i=0,margin:r=0}={}){if(this.target=t,this.config={threshold:i,margin:r},!globalThis.IntersectionObserver){console.log("IntersectionObserver Not Supported");return}this.observer=new IntersectionObserver(n=>{this.entrie=n[0],e(this)},{threshold:this.threshold})}get ratio(){return this.entrie.intersectionRatio}get isIntersecting(){return this.entrie.isIntersecting}setThreshould(t){return this.config.threshold=t,this}setMargin(t){return t=typeof t=="number"?t+"px":t,this.config.margin=t,this}start(){return this.observer.observe(this.target.element),this}stop(){return this}}const hi=(s,t,e)=>new ba(s,t,e);class ya{constructor(t,e){this.target=t,this.contentRect=null,this.observer=new ResizeObserver(()=>{e(this)})}get BoundingRect(){return this.target.element.getBoundingClientRect()}get width(){return this.BoundingRect.width}get height(){return this.BoundingRect.height}get top(){return this.BoundingRect.top}get bottom(){return this.BoundingRect.bottom}get right(){return this.BoundingRect.right}get left(){return this.BoundingRect.left}get x(){return this.BoundingRect.x}get y(){return this.BoundingRect.y}start(){return this.observer.observe(this.target.element),this}stop(){return this.observer.unobserve(this.target.element),this}}const li=(s,t)=>new ya(s,t);class wa{constructor(t=e=>console.log({x:e.x,y:e.y})){this.cache={},this.previousX=globalThis==null?void 0:globalThis.screenX,this.previousY=globalThis==null?void 0:globalThis.screenY}update(){Object.assign(this.cache,{screenXLeft:globalThis==null?void 0:globalThis.screenX,screenXRight:(globalThis==null?void 0:globalThis.screen.availWidth)-(globalThis==null?void 0:globalThis.screenX),screenYTop:globalThis==null?void 0:globalThis.screenY,screenYBottom:(globalThis==null?void 0:globalThis.screen.availHeight)-(globalThis==null?void 0:globalThis.screenY)-(globalThis==null?void 0:globalThis.outerHeight),screenCenterX:(globalThis==null?void 0:globalThis.screen.availWidth)/2,screenCenterY:(globalThis==null?void 0:globalThis.screen.availHeight)/2,windowCenterX:(globalThis==null?void 0:globalThis.outerWidth)/2+(globalThis==null?void 0:globalThis.screenX),windowCenterY:(globalThis==null?void 0:globalThis.outerHeight)/2+(globalThis==null?void 0:globalThis.screenY),deltaCenterX:(globalThis==null?void 0:globalThis.screen.availWidth)/2-(globalThis==null?void 0:globalThis.outerWidth)/2+(globalThis==null?void 0:globalThis.screenX),deltaCenterY:null})}get x0(){return L(globalThis==null?void 0:globalThis.screenX,0,globalThis.screen.availWidth,-1,1)}get y0(){return-L(globalThis==null?void 0:globalThis.screenY,0,globalThis.screen.availHeight,-1,1)}get x1(){return L((globalThis==null?void 0:globalThis.screenX)+(globalThis==null?void 0:globalThis.outerWidth),0,globalThis.screen.availWidth,-1,1)}get y1(){return-L((globalThis==null?void 0:globalThis.screenY)+(globalThis==null?void 0:globalThis.outerHeight),0,globalThis.screen.availHeight,-1,1)}get cx(){return L((globalThis==null?void 0:globalThis.outerWidth)/2+(globalThis==null?void 0:globalThis.screenX),0,globalThis.screen.availWidth,-1,1)}get cy(){return-L((globalThis==null?void 0:globalThis.outerHeight)/2+(globalThis==null?void 0:globalThis.screenY),0,globalThis.screen.availHeight,-1,1)}}const va=s=>new wa(s);var xa=Object.freeze({__proto__:null,ZikoMutationObserver:ne,watch:da,watchAttr:He,watchChildren:ai,watchIntersection:hi,watchScreen:va,watchSize:li});const ka=(s,t=[],e=()=>{})=>{s.cache.stream.enabled.down=!0;const i=t.length,r=s.cache.stream.history.down.slice(-i).map(n=>n.key);t.join("")===r.join("")&&(s.event.preventDefault(),e.call(s,s))};function _a(s,...t){const e=s.toString().match(/\(([^)]*)\)/)[1].split(",").map(i=>i.trim());return function(...i){const r=t[t.length-1];for(let n=0;n<i.length;n++){const o=n>=t.length,a=o?r:t[n],h=i[n];o?(`${e[e.length-1]}`,n-t.length+1):e[n]||n+1;let l=!1;if(typeof a=="object"){if(a.or){for(const b of a.types)if(yt(b,h)){l=!0;break}}if(a.nor)for(const b of a.types){if(yt(b,h)){l=!1;break}l=!0}else a.not&&(l=!yt(a.type,h))}else l=yt(a,h);if(!l)throw new TypeError("jjj")}return s(...i)}}const yt=(s,t)=>typeof s=="string"?typeof t===s:s instanceof Function?t instanceof s:Array.isArray(s)?!Array.isArray(t)||t.length!==s.length?!1:t.every((e,i)=>yt(s[i],e)):typeof s=="object"&&!Array.isArray(s)?typeof t!="object"||t===null?!1:Object.keys(s).every(e=>e in t&&yt(s[e],t[e])):!1;class Ca{constructor(t,e=1e3/30,i=0,r=1/0,n=!0){is(this,"animate",()=>{if(this.cache.isRunning){const t=Date.now(),e=t-this.cache.t0;e>this.cache.step&&(this.callback(this),this.i++,this.cache.t0=t-e%this.cache.step),this.cache.AnimationId=setTimeout(this.animate,0)}});this.callback=t,this.cache={isRunning:!1,AnimationId:null,t0:null,step:e,startTime:i,endTime:r,started:n},this.init(),this.i=0}init(){return this.cache.started&&(this.cache.startTime?this.startAfter(this.cache.startTime):this.start(),this.cache.endTime&&this.cache.endTime!==1/0&&this.stopAfter(this.cache.endTime)),this}start(){return this.cache.isRunning||(this.i=0,this.cache.isRunning=!0,this.cache.t0=Date.now(),this.animate()),this}pause(){return this.cache.isRunning&&(clearTimeout(this.cache.AnimationId),this.cache.isRunning=!1),this}stop(){return this.pause(),this.i=0,this}resume(){return this.cache.isRunning=!0,this.animate(),this}startAfter(t=1e3){return setTimeout(this.start.bind(this),t),this}stopAfter(t=1e3){return setTimeout(this.stop.bind(this),t),this}}const Ia=s=>1e3/s,Ea=(s,t,e,i,r)=>new Ca(s,t,e,i,r);var ls=Object.freeze({__proto__:null,useFps:Ia,useTimeLoop:Ea});const qt={Linear:function(s){return s},InSin(s){return 1-Math.cos(s*Math.PI/2)},OutSin(s){return Math.sin(s*Math.PI/2)},InOutSin(s){return-(Math.cos(Math.PI*s)-1)/2},InQuad(s){return s**2},OutQuad(s){return 1-Math.pow(1-s,2)},InOutQuad(s){return s<.5?2*Math.pow(s,2):1-Math.pow(-2*s+2,2)/2},InCubic(s){return s**3},OutCubic(s){return 1-Math.pow(1-s,3)},InOutCubic(s){return s<.5?4*Math.pow(s,3):1-Math.pow(-2*s+2,3)/2},InQuart(s){return s**4},OutQuart(s){return 1-Math.pow(1-s,4)},InOutQuart(s){return s<.5?8*Math.pow(s,4):1-Math.pow(-2*s+2,4)/2},InQuint(s){return s**5},OutQuint(s){return 1-Math.pow(1-s,5)},InOutQuint(s){return s<.5?16*Math.pow(s,5):1-Math.pow(-2*s+2,5)/2},InExpo(s){return s===0?0:Math.pow(2,10*s-10)},OutExpo(s){return s===1?1:1-Math.pow(2,-10*s)},InOutExpo(s){return s===0?0:s===1?1:s<.5?Math.pow(2,20*s-10)/2:(2-Math.pow(2,-20*s+10))/2},InCirc(s){return 1-Math.sqrt(1-Math.pow(s,2))},OutCirc(s){return Math.sqrt(1-Math.pow(s-1,2))},InOutCic(s){return s<.5?(1-Math.sqrt(1-Math.pow(2*s,2)))/2:(Math.sqrt(1-Math.pow(-2*s+2,2))+1)/2},Arc(s){return 1-Math.sin(Math.acos(s))},Back(s){let t=1;return Math.pow(s,2)*((t+1)*s-t)},Elastic(s){return-2*Math.pow(2,10*(s-1))*Math.cos(20*Math.PI*s/3*s)},InBack(s){return 2.70158*Math.pow(s,3)-1.70158*s**2},OutBack(s){return 1+2.70158*Math.pow(s-1,3)+1.70158*Math.pow(s-1,2)},InOutBack(s){const e=2.5949095;return s<.5?Math.pow(2*s,2)*((e+1)*2*s-e)/2:(Math.pow(2*s-2,2)*((e+1)*(s*2-2)+e)+2)/2},InElastic(s){const t=2*Math.PI/3;return s===0?0:s===1?1:-Math.pow(2,10*s-10)*Math.sin((s*10-10.75)*t)},OutElastic(s){const t=2*Math.PI/3;return s===0?0:s===1?1:Math.pow(2,-10*s)*Math.sin((s*10-.75)*t)+1},InOutElastic(s){const t=2*Math.PI/4.5;return s===0?0:s===1?1:s<.5?-(Math.pow(2,20*s-10)*Math.sin((20*s-11.125)*t))/2:Math.pow(2,-20*s+10)*Math.sin((20*s-11.125)*t)/2+1},InBounce(s){return 1-qt.OutBounce(1-s)},OutBounce(s){return s<1/2.75?7.5625*s*s:s<2/2.75?7.5625*(s-=1.5/2.75)*s+.75:s<2.5/2.75?7.5625*(s-=2.25/2.75)*s+.9375:7.5625*(s-=2.625/2.75)*s+.984375},InOutBounce(s){return s<.5?(1-qt.OutBounce(1-2*s))/2:(1+qt.OutBounce(2*s-1))/2}},ci=(s,t=1e3)=>{let e;return(...i)=>e?clearTimeout(e):setTimeout(()=>s(...i),t)},ui=(s,t)=>{let e=0;return(...i)=>{const r=new Date().getTime();r-e<t||(e=r,s(...i))}},Aa=s=>{const t=Date.now(),e=performance.memory.usedJSHeapSize,i=s(),r=Date.now(),n=performance.memory.usedJSHeapSize,o=r-t,a=n-e;return{elapsedTime:o,usedMemory:a,result:i}},Ta=s=>new Promise(t=>{if(s.element)return t(s.element);const e=new MutationObserver(()=>{s.element&&(t(s.element),e.disconnect())});e.observe(document==null?void 0:document.body,{childList:!0,subtree:!0})}),Sa=(s,t=2e3)=>{const e=Date.now();for(;Date.now()-e<t;)if(s.element)return s.element},Oa=s=>new Promise(t=>setTimeout(t,s)),Ma=s=>{console.time("timeTaken");const t=s();return console.timeEnd("timeTaken"),t};var Za=Object.freeze({__proto__:null,Ease:qt,timeTaken:Ma,time_memory_Taken:Aa,useDebounce:ci,useThrottle:ui,wait:Oa,waitForUIElm:Ta,waitForUIElmSync:Sa});const oe={...ls,...ls,...Za};let Ua=class{constructor(){this.events={},this.maxListeners=10}on(t,e){this.events[t]||(this.events[t]=[]),this.events[t].push(e),this.events[t].length>this.maxListeners&&console.warn(`Warning: Possible memory leak. Event '${t}' has more than ${this.maxListeners} listeners.`)}once(t,e){const i=r=>{this.off(t,i),e(r)};this.on(t,i)}off(t,e){const i=this.events[t];if(i){const r=i.indexOf(e);r!==-1&&i.splice(r,1)}}emit(t,e){const i=this.events[t];i&&i.forEach(r=>{r(e)})}clear(t){t?delete this.events[t]:this.events={}}setMaxListener(t,e){this.maxListeners=e}removeAllListeners(t){t?this.events[t]=[]:this.events={}}};const ae=()=>new Ua;var Kt,pi,gs;let Pa=(gs=class{constructor(t,e=!0){E(this,Kt);p(this,Kt,pi).call(this),this.cache={Emitter:null},e&&this.useEventEmitter(),this.set(t)}set(t){return t!==this.__FavIcon__.href&&(this.__FavIcon__.href=t,this.cache.Emitter&&this.cache.Emitter.emit("ziko:favicon-changed")),this}get current(){return document.__FavIcon__.href}onChange(t){return this.cache.Emitter&&this.cache.Emitter.on("ziko:favicon-changed",t),this}useEventEmitter(){return this.cache.Emitter=ae(),this}},Kt=new WeakSet,pi=function(){return this.__FavIcon__=document.querySelector("link[rel*='icon']")||(document==null?void 0:document.createElement("link")),this.__FavIcon__.type="image/x-icon",this.__FavIcon__.rel="shortcut icon",this},gs);const fi=(s,t)=>new Pa(s,t);let ja=class{constructor({viewport:t,charset:e,description:i,author:r,keywords:n}){this.document=globalThis==null?void 0:globalThis.document,this.meta={},this.init({viewport:t,charset:e,description:i,author:r,keywords:n})}init({viewport:t,charset:e,description:i,author:r,keywords:n}){t&&this.setViewport(t),e&&this.setCharset(e),i&&this.describe(i),r&&this.setAuthor(r),n&&this.setKeywords(n)}set(t,e){t=t.toLowerCase();const i=t==="charset",r=i?document.querySelector("meta[charset]"):document.querySelector(`meta[name=${t}]`);return this.meta=r??(document==null?void 0:document.createElement("meta")),i?this.meta.setAttribute("charset",e):(this.meta.setAttribute("name",t),this.meta.setAttribute("content",e)),r||this.document.head.append(this.meta),this}setCharset(t="utf-8"){return this.set("charset",t),this}describe(t){return this.set("description",t),this}setViewport(t="width=device-width, initial-scale=1.0"){return this.set("viewport",t),this}setKeywords(...t){return t=[...new Set(t)].join(", "),this.set("keywords",t),this}setAuthor(t){return this.set("author",t),this}};const di=({viewport:s,charset:t,description:e,author:i,keywords:r})=>new ja({viewport:s,charset:t,description:e,author:i,keywords:r});let Da=class{constructor(t=document.title,e=!0){this.cache={Emitter:null},e&&this.useEventEmitter(),this.set(t)}useEventEmitter(){return this.cache.Emitter=ae(),this}set(t){return t!==document.title&&(document.title=t,this.cache.Emitter&&this.cache.Emitter.emit("ziko:title-changed")),this}get current(){return document.title}onChange(t){return this.cache.Emitter&&this.cache.Emitter.on("ziko:title-changed",t),this}};const mi=(s,t)=>new Da(s,t);let gi=class{constructor({title:t,lang:e,icon:i,meta:r,noscript:n}){var o,a;this.html=(o=globalThis==null?void 0:globalThis.document)==null?void 0:o.documentElement,this.head=(a=globalThis==null?void 0:globalThis.document)==null?void 0:a.head,t&&mi(t),e&&this.setLang(e),i&&fi(i),r&&di(r),n&&this.setNoScript()}setLang(t){this.html.setAttribute("lang",t)}setNoScript(t){}};const La=({title:s,lang:t,icon:e,meta:i,noscript:r})=>new gi({title:s,lang:t,icon:e,meta:i,noscript:r});var Tt,bi,yi,bs;let $a=(bs=class{constructor(t=""){E(this,Tt);this.channel=new BroadcastChannel(t),this.EVENTS_DATAS_PAIRS=new Map,this.EVENTS_HANDLERS_PAIRS=new Map,this.LAST_RECEIVED_EVENT="",this.UUID="ziko-channel"+J.string(10),this.SUBSCRIBERS=new Set([this.UUID])}get broadcast(){return this}emit(t,e){return this.EVENTS_DATAS_PAIRS.set(t,e),p(this,Tt,yi).call(this,t),this}on(t,e=console.log){return this.EVENTS_HANDLERS_PAIRS.set(t,e),p(this,Tt,bi).call(this),this}close(){return this.channel.close(),this}},Tt=new WeakSet,bi=function(){return this.channel.onmessage=t=>{this.LAST_RECEIVED_EVENT=t.data.last_sended_event;const e=t.data.userId;this.SUBSCRIBERS.add(e);const i=t.data.EVENTS_DATAS_PAIRS.get(this.LAST_RECEIVED_EVENT),r=this.EVENTS_HANDLERS_PAIRS.get(this.LAST_RECEIVED_EVENT);i&&r&&r(i)},this},yi=function(t){return this.channel.postMessage({EVENTS_DATAS_PAIRS:this.EVENTS_DATAS_PAIRS,last_sended_event:t,userId:this.UUID}),this},bs);const Ra=s=>new $a(s);class za{constructor(){this.events={},this.maxListeners=10}on(t,e){this.events[t]||(this.events[t]=[]),this.events[t].push(e),this.events[t].length>this.maxListeners&&console.warn(`Warning: Possible memory leak. Event '${t}' has more than ${this.maxListeners} listeners.`)}once(t,e){const i=r=>{this.off(t,i),e(r)};this.on(t,i)}off(t,e){const i=this.events[t];if(i){const r=i.indexOf(e);r!==-1&&i.splice(r,1)}}emit(t,e){const i=this.events[t];i&&i.forEach(r=>{r(e)})}clear(t){t?delete this.events[t]:this.events={}}setMaxListener(t,e){this.maxListeners=e}removeAllListeners(t){t?this.events[t]=[]:this.events={}}}const Na=()=>new za;var Bt;class Fa{constructor(){E(this,Bt);ye(this,Bt,(function(t){try{let i=new Function("return "+t.data.fun)()();postMessage({result:i})}catch(e){postMessage({error:e.message})}finally{t.data.close&&self.close()}}).toString()),this.blob=new Blob(["this.onmessage = "+G(this,Bt)],{type:"text/javascript"}),this.worker=new Worker(window.URL.createObjectURL(this.blob))}call(t,e,i=!0){return this.worker.postMessage({fun:t.toString(),close:i}),this.worker.onmessage=function(r){r.data.error?console.error(r.data.error):e(r.data.result)},this}}Bt=new WeakMap;const Ba=(s,t,e)=>{const i=new Fa;return s&&i.call(s,t,e),i};var Jt,wi;class Ha{constructor(){E(this,Jt);this.isSupported&&p(this,Jt,wi).call(this)}get isSupported(){return!!navigator.getBattery}get current(){const{level:t,charging:e,chargingTime:i,dischargingTime:r}=this.__Battery__;return{level:t,charging:e,chargingTime:i,dischargingTime:r}}onChargingChange(t){var e;return(e=this.__Battery__)==null||e.addEventListener("chargingchange",t),this}onLevelChange(t){var e;return(e=this.__Battery__)==null||e.addEventListener("levelchange",t),this}}Jt=new WeakSet,wi=async function(){this.__Battery__=await navigator.getBattery()};const Va=()=>new Ha;var te,vi;class Wa{constructor(){E(this,te);this.isSupported&&p(this,te,vi).call(this)}get isSupported(){return!!navigator.geolocation}get current(){return this.__Geolocation__}}te=new WeakSet,vi=async function(){navigator.geolocation.getCurrentPosition(t=>this.__Geolocation__=t)};const Ya=()=>new Wa;var St,xi,ki;class qa{constructor(t=""){E(this,St);this.channel=new BroadcastChannel(t),this.EVENTS_DATAS_PAIRS=new Map,this.EVENTS_HANDLERS_PAIRS=new Map,this.LAST_RECEIVED_EVENT="",this.UUID="ziko-channel"+J.string(10),this.SUBSCRIBERS=new Set([this.UUID])}get broadcast(){return this}emit(t,e){return this.EVENTS_DATAS_PAIRS.set(t,e),p(this,St,ki).call(this,t),this}on(t,e=console.log){return this.EVENTS_HANDLERS_PAIRS.set(t,e),p(this,St,xi).call(this),this}close(){return this.channel.close(),this}}St=new WeakSet,xi=function(){return this.channel.onmessage=t=>{this.LAST_RECEIVED_EVENT=t.data.last_sended_event;const e=t.data.userId;this.SUBSCRIBERS.add(e);const i=t.data.EVENTS_DATAS_PAIRS.get(this.LAST_RECEIVED_EVENT),r=this.EVENTS_HANDLERS_PAIRS.get(this.LAST_RECEIVED_EVENT);i&&r&&r(i)},this},ki=function(t){return this.channel.postMessage({EVENTS_DATAS_PAIRS:this.EVENTS_DATAS_PAIRS,last_sended_event:t,userId:this.UUID}),this};const cs=s=>new qa(s);var X,bt,Ci;class _i{constructor(t,e,i){E(this,X);this.cache={storage:t,globalKey:e,channel:cs(`Ziko:useStorage-${e}`),oldItemKeys:new Set},p(this,X,Ci).call(this,i),p(this,X,bt).call(this)}get items(){return JSON.parse(this.cache.storage[this.cache.globalKey]??null)}set(t){return this.cache.storage.setItem(this.cache.globalKey,JSON.stringify(t)),this.cache.channel.emit("Ziko-Storage-Updated",{}),Object.keys(t).forEach(e=>this.cache.oldItemKeys.add(e)),p(this,X,bt).call(this),this}add(t){const e={...this.items,...t};return this.cache.storage.setItem(this.cache.globalKey,JSON.stringify(e)),p(this,X,bt).call(this),this}remove(...t){const e={...this.items};for(let i=0;i<t.length;i++)delete e[t[i]],delete this[t[i]];return this.set(e),this}get(t){return this.items[t]}clear(){return this.cache.storage.removeItem(this.cache.globalKey),p(this,X,bt).call(this),this}}X=new WeakSet,bt=function(){for(let t in this.items)Object.assign(this,{[[t]]:this.items[t]})},Ci=function(t){this.cache.channel=cs(`Ziko:useStorage-${this.cache.globalKey}`),this.cache.channel.on("Ziko-Storage-Updated",()=>p(this,X,bt).call(this)),t&&(this.cache.storage[this.cache.globalKey]?(Object.keys(this.items).forEach(e=>this.cache.oldItemKeys.add(e)),console.group("Ziko:useStorage"),console.warn(`Storage key '${this.cache.globalKey}' already exists. we will not overwrite it.`),console.info("%cWe'll keep the existing data.","background-color:#2222dd; color:gold;"),console.group("")):this.set(t))};const Xa=(s,t)=>new _i(localStorage,s,t),Ga=(s,t)=>new _i(sessionStorage,s,t);var ht,Ei,Ai,Ti;class Ii{constructor(t={},e=t.hasOwnProperty("default")?"default":Object.keys(t)[0],i=0){E(this,ht);this.id="Ziko-Style-"+i,this.keys=new Set,this.styles={default:{fontSize:"1em",color:"green"},other:{fontSize:"2em",color:"cyan"}},t&&this.add(t),e&&this.use(e)}get current(){return[...this.keys].reduce((t,e)=>(t[e]=`var(--${e}-${this.id})`,t),{})}add(t,e={}){return t&&typeof t=="object"&&!Array.isArray(t)?Object.assign(this.styles,t):typeof t=="string"&&Object.assign(this.styles,{[t]:e}),this}use(t){return typeof t=="number"?p(this,ht,Ei).call(this,t):typeof t=="string"?p(this,ht,Ai).call(this,t):t&&typeof t=="object"?p(this,ht,Ti).call(this,t):this}}ht=new WeakSet,Ei=function(t){const e=Object.keys(this.styles);for(let i in this.styles[e[t]])Object.prototype.hasOwnProperty.call(this.styles[e[t]],i)&&(document.documentElement.style.setProperty(`--${i}-${this.id}`,this.styles[e[t]][i]),this.keys.add(i));return this},Ai=function(t){if(!this.styles[t])return this;for(let e in this.styles[t])Object.prototype.hasOwnProperty.call(this.styles[t],e)&&(document.documentElement.style.setProperty(`--${e}-${this.id}`,this.styles[t][e]),this.keys.add(e));return this},Ti=function(t){for(let e in t)Object.prototype.hasOwnProperty.call(t,e)&&(document.documentElement.style.setProperty(`--${e}-${this.id}`,t[e]),this.keys.add(e));return this};const Qa=(s,t,e)=>new Ii(s,t,e);class Ka{constructor(t=[],e=()=>{}){this.mediaQueryRules=t,this.fallback=e,this.lastCalledCallback=null,this.init()}init(){this.mediaQueryRules.forEach(({query:t,callback:e})=>{const i=globalThis.matchMedia(t),r=()=>{const n=this.mediaQueryRules.some(({query:o})=>globalThis.matchMedia(o).matches);i.matches?(e(),this.lastCalledCallback=e):!n&&this.lastCalledCallback!==this.fallback&&(this.fallback(),this.lastCalledCallback=this.fallback)};r(),i.addListener(r)})}}const Ja=(s,t)=>new Ka(s,t);var ee,Oi;class Si{constructor(t){E(this,ee);this.props={},t&&this.set(t)}get(t){return this.props[t]}set(t){return Object.entries(t).forEach(([e,i])=>p(this,ee,Oi).call(this,e,i)),this}}ee=new WeakSet,Oi=function(t,e){const i=`--${I.camel2hyphencase(t)}`;document.documentElement.style.setProperty(i,e),Object.assign(this.props,{[t]:`var(${i})`}),Object.assign(this,{[t]:`var(${i})`})};const th=s=>(s.startsWith("--")||(s=`--${I.camel2hyphencase(s)}`),`var(${s})`),eh=s=>new Si(s);var sh=Object.freeze({__proto__:null,ZikoHead:gi,ZikoUseRoot:Si,ZikoUseStyle:Ii,useBattery:Va,useChannel:Ra,useDebounce:ci,useEventEmitter:Na,useFavIcon:fi,useGeolocation:Ya,useHead:La,useLocaleStorage:Xa,useMediaQuery:Ja,useMeta:di,useRoot:eh,useRootValue:th,useSessionStorage:Ga,useStyle:Qa,useSuccesifKeys:ka,useThread:Ba,useThrottle:ui,useTitle:mi,useType:_a});const he={...fa,...xa,...sh};var B,Oe,Me,Ze;const rt=class rt{constructor(t,e="",i="html"){E(this,B);var r,n,o,a;if(this.target=globalThis.__Ziko__.__Config__.default.target||((r=globalThis==null?void 0:globalThis.document)==null?void 0:r.body),typeof t=="string")switch(i){case"html":t=(n=globalThis==null?void 0:globalThis.document)==null?void 0:n.createElement(t);break;case"svg":t=(o=globalThis==null?void 0:globalThis.document)==null?void 0:o.createElementNS("http://www.w3.org/2000/svg",t);default:throw Error("Not supported")}t&&(this.__ele__=t),this.uuid=this.constructor.name+"-"+J.string(10),this.cache={name:e,parent:null,isBody:!1,isRoot:!1,isHidden:!1,isFrozzen:!1,legacyParent:null,style:new Eo({}),attributes:{},filters:{},temp:{}},this.events={ptr:null,mouse:null,wheel:null,key:null,drag:null,drop:null,click:null,clipboard:null,focus:null,swipe:null,custom:null},this.observer={resize:null,intersection:null},this.cache.style.linkTo(this),this.style({position:"relative",boxSizing:"border-box",margin:0,padding:0}),this.items=[],this.size("auto","auto"),globalThis.__Ziko__.__UI__[this.cache.name]?(a=globalThis.__Ziko__.__UI__[this.cache.name])==null||a.push(this):globalThis.__Ziko__.__UI__[this.cache.name]=[this],t&&globalThis.__Ziko__.__Config__.default.render&&this.render()}get element(){return this.__ele__}get isZikoUIElement(){return!0}get st(){return this.cache.style}get attr(){return this.cache.attributes}get evt(){return this.cache.events}get html(){return this.element.innerHTML}get text(){return this.element.textContent}get isBody(){return this.element===(globalThis==null?void 0:globalThis.document.body)}get parent(){return this.cache.parent}get width(){return this.element.getBoundingClientRect().width}get height(){return this.element.getBoundingClientRect().height}get top(){return this.element.getBoundingClientRect().top}get right(){return this.element.getBoundingClientRect().right}get bottom(){return this.element.getBoundingClientRect().bottom}get left(){return this.element.getBoundingClientRect().left}clone(t=!1){const e=new this.constructor;if(e.__proto__=this.__proto__,this.items.length){const i=[...this.items].map(r=>r.clone());e.append(...i)}else e.element=this.element.cloneNode(!0);return e.render(t)}style(t){return t instanceof Io?this.st.style(t.current):this.st.style(t),this}size(t,e){return this.st.size(t,e),this}maintain(){for(let t=0;t<this.items.length;t++)Object.assign(this,{[[t]]:this.items[t]});return this.length=this.items.length,this}at(t){return this.items.at(t)}append(...t){return p(this,B,Oe).call(this,"append","push",...t),this}prepend(...t){return p(this,B,Oe).call(this,"prepend","unshift",...t),this}insertAt(t,...e){var i;if(t>=this.element.children.length)this.append(...e);else for(let r=0;r<e.length;r++)["number","string"].includes(typeof e[r])&&(e[r]=Z(e[r])),(i=this.element)==null||i.insertBefore(e[r].element,this.items[t].element),this.items.splice(t,0,e[r]);return this}remove(...t){const e=i=>{var r;typeof i=="number"&&(i=this.items[i]),i instanceof rt&&((r=this.element)==null||r.removeChild(i.element)),this.items=this.items.filter(n=>n!==i)};for(let i=0;i<t.length;i++)e(t[i]);for(let i=0;i<this.items.length;i++)Object.assign(this,{[[i]]:this.items[i]});return this}forEach(t){return this.items.forEach(t),this}map(t){return this.items.map(t)}find(t){return this.items.filter(t)}filter(t,e=()=>{},i=()=>{}){const r=this.items.filter(t);return r.forEach(e),this.items.filter(n=>!r.includes(n)).forEach(i),this}filterByTextContent(t,e=!1){this.items.forEach(i=>i.render()),this.filter(i=>!(e?i.text===t:i.text.includes(t)),i=>i.unrender())}filterByClass(t){return this.items.map(e=>e.render()),this.items.filter(e=>!e.classes.includes(t)).map(e=>e.unrender()),this}sortByTextContent(t,e){let i=this.children;return i.filter(r=>!r.textContent.toLowerCase().includes(t.toLowerCase())).map(r=>{r.style.display="none"}),i.filter(r=>r.textContent.toLowerCase().includes(t.toLowerCase())).map((r,n)=>r.style.display=e[n]),i.filter(r=>r.style.display!="none"),this}useRtl(t=!1){return t?this.style({...G(this,B,Me),direction:"rtl"}):this.style({direction:"rtl"}),this}useLtr(t=!1){return t?this.style({...G(this,B,Me),direction:"ltr"}):this.style({direction:"ltr"}),this}freeze(t){return this.cache.isFrozzen=t,this}setTarget(t){if(!this.isBody)return t instanceof rt&&(t=t.element),this.unrender(),this.target=t,this.render(),this}describe(t){t&&this.setAttr("aria-label",t)}clear(){var t;return(t=this==null?void 0:this.items)==null||t.forEach(e=>e.unrender()),this.element.innerHTML="",this}render(t=this.target){var e;if(!this.isBody)return t instanceof rt&&(t=t.element),this.target=t,(e=this.target)==null||e.appendChild(this.element),this}unrender(){var t,e,i;return this.cache.parent?this.cache.parent.remove(this):(e=(t=this.target)==null?void 0:t.children)!=null&&e.length&&[...(i=this.target)==null?void 0:i.children].includes(this.element)&&this.target.removeChild(this.element),this}renderAfter(t=1){return setTimeout(()=>this.render(),t),this}unrenderAfter(t=1){return setTimeout(()=>this.unrender(),t),this}after(t){var e;return t instanceof rt&&(t=t.element),(e=this.element)==null||e.after(t),this}before(t){var e;return t instanceof rt&&(t=t.element),(e=this.element)==null||e.before(t),this}animate(t,{duration:e=1e3,iterations:i=1,easing:r="ease"}={}){var n;return(n=this.element)==null||n.animate(t,{duration:e,iterations:i,easing:r}),this}setAttr(t,e){if(t instanceof Object){const[i,r]=[Object.keys(t),Object.values(t)];for(let n=0;n<i.length;n++)r[n]instanceof Array&&(e[n]=r[n].join(" ")),p(this,B,Ze).call(this,i[n],r[n])}else e instanceof Array&&(e=e.join(" ")),p(this,B,Ze).call(this,t,e);return this}removeAttr(...t){var e;for(let i=0;i<t.length;i++)(e=this.element)==null||e.removeAttribute(t[i]);return this}getAttr(t){return t=I.isCamelCase(t)?I.camel2hyphencase(t):t,this.element.attributes[t].value}setContentEditable(t=!0){return this.setAttr("contenteditable",t),this}get children(){return[...this.element.children]}get cloneElement(){return this.element.cloneNode(!0)}setClasses(...t){return this.setAttr("class",t.join(" ")),this}get classes(){const t=this.element.getAttribute("class");return t===null?[]:t.split(" ")}addClass(){}setId(t){return this.setAttr("id",t),this}get id(){return this.element.getAttribute("id")}onPtrMove(...t){return this.events.ptr||(this.events.ptr=it(this)),this.events.ptr.onMove(...t),this}onPtrDown(...t){return this.events.ptr||(this.events.ptr=it(this)),this.events.ptr.onDown(...t),this}onPtrUp(...t){return this.events.ptr||(this.events.ptr=it(this)),this.events.ptr.onUp(...t),this}onPtrEnter(...t){return this.events.ptr||(this.events.ptr=it(this)),this.events.ptr.onEnter(...t),this}onPtrLeave(...t){return this.events.ptr||(this.events.ptr=it(this)),this.events.ptr.onLeave(...t),this}onPtrOut(...t){return this.events.ptr||(this.events.ptr=it(this)),this.events.ptr.onOut(...t),this}onPtrCancel(...t){return this.events.ptr||(this.events.ptr=it(this)),this.events.ptr.onCancel(...t),this}onSwipe(t,e,...i){return this.events.swipe||(this.events.swipe=oi(this,t,e)),this.events.swipe.onSwipe(...i),this}onMouseMove(...t){return this.events.mouse||(this.events.mouse=ct(this)),this.events.mouse.onMove(...t),this}onMouseDown(...t){return this.events.mouse||(this.events.mouse=ct(this)),this.events.mouse.onDown(...t),this}onMouseUp(...t){return this.events.mouse||(this.events.mouse=ct(this)),this.events.mouse.onUp(...t),this}onMouseEnter(...t){return this.events.mouse||(this.events.mouse=ct(this)),this.events.mouse.onEnter(...t),this}onMouseLeave(...t){return this.events.mouse||(this.events.mouse=ct(this)),this.events.mouse.onLeave(...t),this}onMouseOut(...t){return this.events.mouse||(this.events.mouse=ct(this)),this.events.mouse.onOut(...t),this}onWheel(...t){return this.events.wheel||(this.events.wheel=Ks(this)),this.events.wheel.onWheel(...t),this}onKeyDown(...t){return this.events.key||(this.events.key=Ut(this)),this.events.key.onDown(...t),this}onKeyPress(...t){return this.events.key||(this.events.key=Ut(this)),this.events.key.onPress(...t),this}onKeyUp(...t){return this.events.key||(this.events.key=Ut(this)),this.events.key.onUp(...t),this}onKeysDown({keys:t=[],callback:e}={}){return this.events.key||(this.events.key=Ut(this)),this.events.key.handleSuccessifKeys({keys:t,callback:e}),this}onDragStart(...t){return this.events.drag||(this.events.drag=Yt(this)),this.events.drag.onStart(...t),this}onDrag(...t){return this.events.drag||(this.events.drag=Yt(this)),this.events.drag.onDrag(...t),this}onDragEnd(...t){return this.events.drag||(this.events.drag=Yt(this)),this.events.drag.onEnd(...t),this}onDrop(...t){return this.events.drop||(this.events.drop=ti(this)),this.events.drop.onDrop(...t),this}onClick(...t){return this.events.click||(this.events.click=Ie(this)),this.events.click.onClick(...t),this}onDbClick(...t){return this.events.click||(this.events.click=Ie(this)),this.events.click.onDbClick(...t),this}onCopy(...t){return this.events.clipboard||(this.events.clipboard=Pt(this)),this.events.clipboard.onCopy(...t),this}onCut(...t){return this.events.clipboard||(this.events.clipboard=Pt(this)),this.events.clipboard.onCut(...t),this}onPaste(...t){return this.events.clipboard||(this.events.clipboard=Pt(this)),this.events.clipboard.onPaste(...t),this}onSelect(...t){return this.events.clipboard||(this.events.clipboard=Pt(this)),this.events.clipboard.onSelect(...t),this}onFocus(...t){return this.events.focus||(this.events.focus=Ee(this)),this.events.focus.onFocus(...t),this}onBlur(...t){return this.events.focus||(this.events.focus=Ee(this)),this.events.focus.onFocus(...t),this}on(t,...e){return this.events.custom||(this.events.custom=Se(this)),this.events.custom.on(t,...e),this}emit(t,e={}){return this.events.custom||(this.events.custom=Se(this)),this.events.custom.emit(t,e),this}watchAttr(t){return this.observer.attr||(this.observer.attr=He(this,t)),this}watchChildren(t){return this.observer.children||(this.observer.children=ai(this,t)),this}watchSize(t){return this.observer.resize||(this.observer.resize=li(this,t)),this.observer.resize.start(),this}watchIntersection(t,e){return this.observer.intersection||(this.observer.intersection=hi(this,t,e)),this.observer.intersection.start(),this}setFullScreen(t=!0,e){return this.element.requestFullscreen?(t?this.element.requestFullscreen(e):globalThis.document.exitFullscreen(),this):(console.error("Fullscreen API is not supported in this browser."),this)}toggleFullScreen(t){return globalThis.document.fullscreenElement?globalThis.document.exitFullscreen():this.element.requestFullscreen(t),this}toPdf(){return __ZikoPdf__,this}};B=new WeakSet,Oe=function(t,e,...i){var r,n,o;if(this.cache.isFrozzen)return console.warn("You can't append new item to frozzen element"),this;for(let a=0;a<i.length;a++)["number","string"].includes(typeof i[a])&&(i[a]=Z(i[a])),i[a]instanceof rt?(i[a].cache.parent=this,this.element[t](i[a].element),i[a].target=this.element,this.items[e](i[a])):i[a]instanceof Object&&((r=i[a])!=null&&r.style&&this.style((n=i[a])==null?void 0:n.style),(o=i[a])!=null&&o.attr&&Object.entries(i[a].attr).forEach(h=>this.setAttr(""+h[0],h[1])));return this.maintain(),this},Me=function(){const t=globalThis.getComputedStyle(this.element),e={};return t.marginRight!=="0px"&&Object.assign(e,{marginLeft:t.marginRight}),t.marginLeft!=="0px"&&Object.assign(e,{marginRight:t.marginLeft}),t.paddingRight!=="0px"&&Object.assign(e,{paddingLeft:t.paddingRight}),t.paddingLeft!=="0px"&&Object.assign(e,{paddingRight:t.paddingLeft}),t.left!=="0px"&&Object.assign(e,{right:t.left}),t.right!=="0px"&&Object.assign(e,{left:t.right}),t.textAlign==="right"&&Object.assign(e,{textAlign:"left"}),t.textAlign==="left"&&Object.assign(e,{textAlign:"right"}),t.float==="right"&&Object.assign(e,{float:"left"}),t.float==="left"&&Object.assign(e,{float:"right"}),t.borderRadiusLeft!=="0px"&&Object.assign(e,{right:t.borderRadiusRight}),t.borderRadiusRight!=="0px"&&Object.assign(e,{right:t.borderRadiusLeft}),["flex","inline-flex"].includes(t.display)&&(t.justifyContent==="flex-end"&&Object.assign(e,{justifyContent:"flex-start"}),t.justifyContent==="flex-start"&&Object.assign(e,{justifyContent:"flex-end"})),e},Ze=function(t,e){this.element.tagName!=="svg"&&(t=I.isCamelCase(t)?I.camel2hyphencase(t):t),!(this!=null&&this.attr[t]&&(this==null?void 0:this.attr[t])===e)&&(this.element.setAttribute(t,e),Object.assign(this.cache.attributes,{[t]:e}))};let y=rt;class A extends y{constructor(t,e=""){super(t,e),this.items=[]}}class tt extends A{constructor(t,e,i,...r){super(t,e),this.addValue(...r),this.style({margin:0,padding:0}),Object.assign(this.cache,{lineBreak:i})}get isText(){return!0}get value(){return this.element.textContent}clear(){return this.element.childNodes.forEach(t=>t.remove()),this.element.textContent="",this}addValue(...t){var e;return t.forEach((i,r)=>{var n,o,a,h,l,b,D;typeof i=="string"||typeof i=="number"?(n=this.element)==null||n.appendChild(globalThis==null?void 0:globalThis.document.createTextNode(i)):i instanceof y?(o=this.element)==null||o.appendChild(i.element):i instanceof f||i instanceof m?(a=this.element)==null||a.appendChild(new Text(i.toString())):i instanceof Array?(h=this.element)==null||h.appendChild(new Text(ue(i))):i instanceof Object&&((l=this.element)==null||l.appendChild(new Text(Je(i)))),this.cache.lineBreak&&((D=this.element)==null||D.appendChild((b=globalThis.document)==null?void 0:b.createElement("br")))}),(e=this.element)!=null&&e.innerHTML&&(this.element.innerHTML=this.element.innerHTML.replace(/\n/g,"<br>").replace(new RegExp("(?<!<[^>]+) ","g"),"&nbsp;")),this}setValue(...t){return this.clear(),this.addValue(...t),this}}class Mi extends tt{constructor(...t){super("span","text",!1,...t)}}class Zi extends tt{constructor(...t){super("q","quote",!1,...t),this.style({fontStyle:"italic"})}get isQuote(){return!0}}class Ui extends tt{constructor(...t){super("dfn","dfnText",!1,...t)}get isDfnText(){return!0}}class Pi extends tt{constructor(t){super("sup","supText",!1,t)}get isSupText(){return!0}}class ji extends tt{constructor(...t){super("sub","subText",!1,...t)}get isSubText(){return!0}}class Di extends tt{constructor(...t){super("code","codeText",!1,...t)}get isCodeText(){return!0}}class Li extends tt{constructor(t,e){super("abbr","abbrText",!1,t),this.setAttr("title",e)}get isAbbrText(){return!0}}const Z=(...s)=>new Mi(...s),ih=(...s)=>new Zi(...s),rh=(...s)=>new Ui(...s),nh=(...s)=>new Pi(...s),oh=(...s)=>new ji(...s),ah=(...s)=>new Di(...s),hh=(s,t)=>new Li(s,t);class $i extends tt{constructor(...t){super("p","p",!0,...t)}get isPara(){return!0}}class Ri extends tt{constructor(t,e){super("blockquote","blockquote",!0,e),this.setAttr("cite",t)}get isBlockQuote(){return!0}}const lh=(...s)=>new $i(...s),ch=(s,t)=>new Ri(s,t);class dt extends y{constructor(t=1,e=""){super(`h${t}`,`h${t}`),this.element.textContent=e}get isHeading(){return!0}get value(){return this.element.innerText}setValue(t=""){this.element.innerText=t}addValue(t=""){return this.element.innerText+=t,this}}const zi=(s="")=>new dt(1,s),uh=(s="")=>new dt(2,s),Ni=(s="")=>new dt(3,s),ph=(s="")=>new dt(4,s),fh=(s="")=>new dt(5,s),dh=(s="")=>new dt(6,s);var mh=Object.freeze({__proto__:null,ZikoUIAbbrText:Li,ZikoUIBlockQuote:Ri,ZikoUICodeText:Di,ZikoUIDefintion:Ui,ZikoUIHeading:dt,ZikoUIParagraphe:$i,ZikoUIQuote:Zi,ZikoUISubText:ji,ZikoUISupText:Pi,ZikoUIText:Mi,abbrText:hh,blockQuote:ch,codeText:ah,dfnText:rh,h1:zi,h2:uh,h3:Ni,h4:ph,h5:fh,h6:dh,p:lh,quote:ih,subText:oh,supText:nh,text:Z});class Ue extends A{constructor(t){super("li","li"),this.append(t)}get isLi(){return!0}}class Fi extends A{constructor(t,e){super(t,e),delete this.append,this.style({listStylePosition:"inside"})}get isList(){return!0}append(...t){for(let e=0;e<t.length;e++){let i=null;["string","number"].includes(typeof t[e])&&(t[e]=Z(t[e])),t[e]instanceof y&&(i=new Ue(t[e])),i.setTarget(this.element),this.items.push(i[0]),this.maintain()}}remove(...t){if(t.length==0)this.target.children.length&&this.target.removeChild(this.element);else{const e=i=>{var r;typeof i=="number"&&(i=this.items[i]),i instanceof y&&((r=this.element)==null||r.removeChild(i.parent.element)),this.items=this.items.filter(n=>n!==i)};for(let i=0;i<t.length;i++)e(t[i]);for(let i=0;i<this.items.length;i++)Object.assign(this,{[[i]]:this.items[i]})}return this}insertAt(t,...e){var i;if(t>=this.element.children.length)this.append(...e);else for(let r=0;r<e.length;r++){let n=null;["number","string"].includes(typeof e[r])&&(e[r]=Z(e[r])),e[r]instanceof y&&(n=new Ue(e[r])),(i=this.element)==null||i.insertBefore(n.element,this.items[t].parent.element),this.items.splice(t,0,e[r][0])}return this}filterByTextContent(t,e=!1){return this.items.map(i=>i.parent.render()),this.items.filter(i=>{const r=i.element.textContent;return!(e?r===t:r.includes(t))}).map(i=>i.parent.render(!1)),this}sortByTextContent(t=1){return this.items.map(e=>e.parent.render(!1)),this.sortedItems=this.items.sort((e,i)=>t*e.element.textContent.localeCompare(i.element.textContent)),this.append(...this.sortedItems),this}filterByClass(t){return this.items.map(e=>e.parent.render(!0)),this.items.filter(e=>!e.Classes.includes(t)).map(e=>e.parent.render(!1)),this}delete(t){return[...this.element.children].indexOf(t)}push(){}pop(){}unshift(){}shift(){}sort(){}filter(){}slice(){}}class gh extends Fi{constructor(...t){super("ol","ol"),this.append(...t)}get isOl(){return!0}type(t=1){var e;return(e=this.element)==null||e.setAttribute("type",t),this}start(t=1){var e;return(e=this.element)==null||e.setAttribute("start",t),this}}class bh extends Fi{constructor(...t){super("ul","ul"),this.append(...t)}get isUl(){return!0}}const yh=s=>new Ue(s),wh=(...s)=>new gh(...s),vh=(...s)=>new bh(...s);var xh=Object.freeze({__proto__:null,li:yh,ol:wh,ul:vh});class P extends y{constructor(t,e,i="",r){super("input","input"),Object.assign(this.events,{input:null}),this.setValue(i),this.setAttr("type",t),this.setAttr("name",e),r&&this.linkDatalist(r)}get isInput(){return!0}setName(t){return this.setAttr("name",t),this}onInput(...t){return this.events.input||(this.events.input=Ae(this)),this.events.input.onInput(...t),this}onChange(...t){return this.events.input||(this.events.input=Ae(this)),this.events.input.onChange(...t),this}linkDatalist(t){var i;let e;if(t instanceof ZikoUIInputDatalist)e=t.Id;else if(t instanceof Array){const r=new ZikoUIInputDatalist(...t);e=r.Id,console.log(r)}else e=t;return(i=this.element)==null||i.setAttribute("list",e),this}get value(){return this.element.value}setValue(t=""){return this.element.value=t,this}useState(t){return this.setValue(t),[{value:this.value},e=>this.setValue(e)]}setPlaceholder(t){return t&&(this.element.placeholder=t),this}get isValide(){return this.element.checkValidity()}setRequired(t=!0){return this.element.required=t,this}select(){return this.element.select(),this}copy(){return this.element.select(),document.execCommand("copy"),this}cut(){return this.element.select(),document.execCommand("cut"),this}accept(t){return this.element.accept=t,this}}const kh=(s,t)=>{if(s instanceof Object){const{datalist:e,placeholder:i}=s;return s=s.value??"",new P("text","input",s,e).setPlaceholder(i)}return new P("text","input",s,t)};class Bi extends P{constructor(t,e,i=1){super("number","inpuNumber"),this.setMin(t).setMax(e).setStep(i)}get isInputNumber(){return!0}get value(){return+this.element.value}setMin(t){return this.element.min=t,this}setMax(t){return this.element.max=t,this}setStep(t){return this.element.step=t,this}}const _h=(s,t,e)=>{if(s instanceof Object){const{value:i,max:r=10,step:n=1,placeholder:o=""}=s;return s=(s==null?void 0:s.min)??0,new ZikoUIInputSlider(s,r,n).setValue(i).setPlaceholder(o)}return new Bi(s,t,e)};let Pe=class extends P{constructor(t=0,e=0,i=10,r=1){super("range","inputSlider"),this.setMin(e).setMax(i).setValue(t).setStep(r)}get isInputSlider(){return!0}setMin(t){return this.element.min=t,this}setMax(t){return this.element.max=t,this}setStep(t){return this.element.step=t,this}};const Ch=(s,t,e,i)=>{if(s instanceof Object){const{min:r=0,max:n=10,step:o=1}=s;return s=(s==null?void 0:s.value)??5,new Pe(s,r,n,o)}return new Pe(s,t,e,i)};class Hi extends P{constructor(){super("color","inputColor"),this.background(this.value),this.onInput(()=>this.background(this.value))}get isInputColor(){return!0}}const Ih=()=>new Hi;class Vi extends P{constructor(){super("search","inputSearch"),this.Length=0}get isInputSearch(){return!0}onsearch(t){var e;return(e=this.element)==null||e.addEventListener("search",()=>t()),this}connect(...t){return this}displayLength(t){var e;return(e=this.element)==null||e.addEventListener("keyup",()=>t.setValue(this.Length)),this}}const Eh=(...s)=>new Vi().connect(...s);class Wi extends P{constructor(){super("checkbox","inputCheckbox"),this.cursor("pointer")}get isInputCheckbox(){return!0}get checked(){return this.element.checked}check(t=!0){return this.element.checked=t,this}color(t){return this.element.style.accentColor=t,this}}const Ah=()=>new Wi;class Yi extends P{constructor(){super("radio","inputRadio"),this.cursor("pointer")}get isInputRadio(){return!0}get checked(){return this.element.checked}check(t=!0){return this.element.checked=t,this}color(t){return this.element.style.accentColor=t,this}}const Th=()=>new Yi;class qi extends P{constructor(){super("email","inputEmail")}get isInputEmail(){return!0}}const Sh=()=>new qi;class Xi extends P{constructor(){super("password","inputPassword")}get isInputPassword(){return!0}}const Oh=()=>new Xi;class Gi extends P{constructor(){super("date","inputDate")}get isInputDate(){return!0}}const Mh=()=>new Gi;class Qi extends P{constructor(){super("time","inputTime")}get isInputTime(){return!0}}const Zh=()=>new Qi;class Ki extends P{constructor(){super("datetime-local","inputDateTime")}get isInputDateTime(){return!0}}const Uh=()=>new Ki;class Ve extends y{constructor(t,e){super("div",""),this.element.append(e==="svg"?jh(t):Ph(t))}}function Ph(s){const e=new DOMParser().parseFromString(`<div>${s}</div>`,"text/html");return e.body.firstChild.style.display="contents",e.body.firstChild}function jh(s){return new DOMParser().parseFromString(s.replace(/\s+/g," ").trim(),"image/svg+xml").documentElement}class Ji extends Ve{constructor(t){super(t,"html")}}class tr extends Ve{constructor(t){super(t,"svg")}}const Dh=s=>new Ji(s),Lh=s=>new tr(s);class er extends y{constructor(t,e){super("div","suspense"),this.setAttr({dataTemp:"suspense"}),this.fallback_ui=t,this.append(t),(async()=>{try{const i=await e();t.unrender(),this.append(i)}catch(i){console.log({error:i})}})()}}const $h=(s,t)=>new er(s,t),sr=(s,t,e,...i)=>{const{name:r,style:n,...o}=e;let a=new y(s,r,t);return n&&a.style(n),o&&a.setAttr(o),i&&a.append(...i),a},We=(s,t={},...e)=>sr(s,"html",t,...e),Rh=(s,t={},...e)=>sr(s,"svg",t,...e),zh=["a","abb","address","area","article","aside","audio","b","base","bdi","bdo","blockquote","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","i","iframe","img","ipnut","ins","kbd","label","legend","li","main","map","mark","menu","meter","nav","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","search","section","select","small","source","span","strong","sub","summary","sup","svg","table","tbody","td","template","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr"],Nh=["svg","g","defs","symbol","use","image","switch","rect","circle","ellipse","line","polyline","polygon","path","text","tspan","textPath","altGlyph","altGlyphDef","altGlyphItem","glyph","glyphRef","linearGradient","radialGradient","pattern","solidColor","filter","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDropShadow","feFlood","feFuncA","feFuncR","feFuncG","feFuncB","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","feSpecularLighting","feTile","feTurbulence","animate","animateMotion","animateTransform","set","script","desc","title","metadata","foreignObject"],Fh=zh.reduce((s,t)=>(s[t]=(e,...i)=>We(t,e,...i),s),{}),Bh=Nh.reduce((s,t)=>(s[t]=(e,...i)=>We(t,e,...i),s),{});class ir extends A{constructor(t){super(t,"html")}}class Hh extends y{constructor(t="button"){super("button","btn"),this.element=document==null?void 0:document.createElement("button"),this.setValue(t),this.st.cursor("pointer"),globalThis.__Ziko__.__Config__.default.render&&this.render()}get isBtn(){return!0}setValue(t){var e;return t instanceof y?t.setTarget(this.element):((e=this.element)==null||e.appendChild(document.createTextNode("")),this.element.childNodes[0].data=t),this}get value(){return this.element.innerText}toggleValues(...t){t=t.map(i=>""+i);let e=t.indexOf(""+this.value);return e!=-1&&e!=t.length-1?this.setValue(t[e+1]):this.setValue(t[0]),this}}class Ye extends y{constructor(){super("br","br")}get isBr(){return!0}}class qe extends y{constructor(){super("hr","hr"),this.setAttr("role","none")}get isHr(){return!0}}class rr extends A{constructor(t){super("a","link"),Object.assign(this.cache,{defaultStyle:{color:"#0275d8",textDecoration:"none"},hoverStyle:{color:"#01447e",textDecoration:"underline"}}),this.setHref(t),this.style(this.cache.defaultStyle),this.onPtrEnter(()=>this.style(this.cache.hoverStyle)),this.onPtrLeave(()=>this.style(this.cache.defaultStyle))}setHref(t){this.element.href=t}get isLink(){return!0}}const Vh=()=>new Ye,Wh=()=>new qe,Yh=(s=1)=>new Array(s).fill(new Ye),qh=(s=1)=>new Array(s).fill(new qe),Xh=(s,...t)=>new rr(s).append(...t),It=(s,...t)=>new ir(s).append(...t),nr=s=>new Hh(s);var Gh=Object.freeze({__proto__:null,HTMLWrapper:Dh,SVGWrapper:Lh,Suspense:$h,ZikoUIBr:Ye,ZikoUIHTMLWrapper:Ji,ZikoUIHr:qe,ZikoUIHtmlTag:ir,ZikoUILink:rr,ZikoUISVGWrapper:tr,ZikoUISuspense:er,ZikoUIXMLWrapper:Ve,br:Vh,brs:Yh,btn:nr,h:We,hTags:Fh,hr:Wh,hrs:qh,html:It,link:Xh,s:Rh,sTags:Bh});class or extends y{constructor(t="File"){var e,i;super("inputImage"),this._aux_element=nr(t).setTarget(this.target),this.element=document==null?void 0:document.createElement("input"),(e=this.element)==null||e.setAttribute("type","file"),(i=this.element)==null||i.setAttribute("accept","image"),this._aux_element.onClick(()=>this.element.click()),this.element.onChange=this.handleImage.bind(this)}get isInputImage(){return!0}handleImage(t){const e=new FileReader,i=new Image;e.onload=function(r){i.src=r.target.result,console.log(i.src)},e.readAsDataURL(t.target.files[0]),this.img=i}get value(){return this.img}render(t=!0){return t?this.target.appendChild(this._aux_element.element):this.remove(),this}remove(){return this.target.children.length&&this.target.removeChild(this._aux_element.element),this}}const Qh=s=>new or(s);class ar extends y{constructor(t,e,i,r){var n;super("img","image"),this.value=t,t.nodeName==="IMG"?this.element.setAttribute("src",t.src):(n=this.element)==null||n.setAttribute("src",t),typeof i=="number"&&(i+="%"),typeof r=="number"&&(r+="%"),this.setAttr("alt",e),this.style({border:"1px solid black",width:i,height:r})}get isImg(){return!0}updateSrc(t){return this.value=t,this.element.src=t,this}toggleSrc(...t){t=t.map(i=>""+i);let e=t.indexOf(""+this.value);return e!=-1&&e!=t.length-1?this.updateSrc(t[e+1]):this.updateSrc(t[0]),this}alt(t){return this.element.alt=t,this}}const hr=(s,t,e,i)=>new ar(s,t,e,i);class lr extends y{constructor(t,e){var i,r;super("figure","figure"),this.img=t.width("100%").element,this.caption=document==null?void 0:document.createElement("figcaption"),this.caption.append(e.element),(i=this.element)==null||i.append(this.img),(r=this.element)==null||r.append(this.caption)}get isFigure(){return!0}}const Kh=(s,t)=>new lr(s,t);class cr extends y{constructor(t,e){super(t,e),this.useControls()}get t(){return this.element.currentTime}useControls(t=!0){return this.element.controls=t,this}enableControls(){return this.element.controls=!0,this}disableControls(){return this.element.controls=!0,this}toggleControls(){return this.element.controls=!this.element.controls,this}play(){return this.element.play(),this}pause(){return this.element.pause(),this}seekTo(t){return this.element.currentTime=t,this}onPlay(){}onPause(){}}class Xe extends cr{constructor(t="",e="100%",i="50vh"){var r,n;super("video","video"),t.nodeName==="VIDEO"?(r=this.element)==null||r.setAttribute("src",t.src):(n=this.element)==null||n.setAttribute("src",t),typeof e=="number"&&(e+="%"),typeof i=="number"&&(i+="%"),this.style({width:e,height:i})}get isVideo(){return!0}usePoster(t=""){return this.element.poster=t,this}usePIP(t){return this.element.requestPictureInPicture(t),this}}const Jh=(s,t,e)=>new Xe(s,t,e);class ur extends cr{constructor(t){var e;super("audio","audio"),(e=this.element)==null||e.setAttribute("src",t),this.size("150px","30px")}get isAudio(){return!0}}const tl=s=>new ur(s);var el=Object.freeze({__proto__:null,ZikoUIAudio:ur,ZikoUIFigure:lr,ZikoUIImage:ar,ZikoUIVideo:Xe,audio:tl,figure:Kh,image:hr,video:Jh});class sl extends Xe{constructor(){var t;super(),(t=this.element)==null||t.setAttribute("src",""),this.constraints={audio:!0,video:{width:1280,height:720}}}get isInputCamera(){return!0}start(){return navigator.mediaDevices.getUserMedia(this.constraints).then(t=>{this.element.srcObject=t,this.element.onloadedmetadata=()=>{this.element.play()}}).catch(function(t){console.log(t.name+": "+t.message)}),this}}const il=()=>new sl;class rl extends y{constructor(){super(),this.element=document==null?void 0:document.createElement("label")}get isLabel(){return!0}}class Ge extends y{constructor(t=""){super(),this.element=document==null?void 0:document.createElement("option"),t instanceof Object&&"value"in t?(this.setValue(t.value),this.setText((t==null?void 0:t.text)??t.value)):this.setValue(t)}setValue(t=""){return this.element.value=t,this}setText(t=""){return t&&(this.element.textContent=t),this}}let pr=class extends y{constructor(...t){super(),this.element=document==null?void 0:document.createElement("datalist"),this.addOptions(...t).setId("ziko-datalist-id"+J.string(10))}get isDatalist(){return!0}addOptions(...t){return t.map(e=>this.append(new Ge(e))),this}};const nl=(...s)=>new pr(...s);class fr extends y{constructor(){super(),this.element=document==null?void 0:document.createElement("select")}addOptions(...t){return t.map(e=>this.append(new Ge(e))),this}get isSelect(){return!0}}const ol=()=>new fr;class dr extends y{constructor(){super(),this.element=document==null?void 0:document.createElement("textarea")}get value(){return this.element.textContent}get isTextArea(){return!0}}const al=()=>new dr;let Ht=class extends A{constructor(t="div",e="100%",i="100%"){super(t,"Flex"),this.direction="cols",typeof e=="number"&&(e+="%"),typeof i=="number"&&(i+="%"),this.style({width:e,height:i}),this.style({display:"flex"})}get isFlex(){return!0}resp(t,e=!0){return this.wrap(e),this.element.clientWidth<t?this.vertical():this.horizontal(),this}setSpaceAround(){return this.style({justifyContent:"space-around"}),this}setSpaceBetween(){return this.style({justifyContent:"space-between"}),this}setBaseline(){return this.style({alignItems:"baseline"}),this}gap(t){return this.direction==="row"?this.style({columnGap:t}):this.direction==="column"&&this.style({rowGap:t}),this}wrap(t="wrap"){const e=["no-wrap","wrap","wrap-reverse"];return this.style({flexWrap:typeof t=="string"?t:e[+t]}),this}_justifyContent(t="center"){return this.style({justifyContent:t}),this}vertical(t,e,i=1){return hl.call(this,i),this.style({alignItems:typeof t=="number"?je.call(this,t):t,justifyContent:typeof e=="number"?us.call(this,e):e}),this}horizontal(t,e,i=1){return ll.call(this,i),this.style({alignItems:typeof e=="number"?us.call(this,e):e,justifyContent:typeof t=="number"?je.call(this,t):t}),this}show(){return this.isHidden=!1,this.style({display:"flex"}),this}};const Mt=(...s)=>{let t="div";return typeof s[0]=="string"&&(t=s[0],s.pop()),new Ht(t).append(...s)};function hl(s){return s==1?this.style({flexDirection:"column"}):s==-1&&this.style({flexDirection:"column-reverse"}),this}function ll(s){return s==1?this.style({flexDirection:"row"}):s==-1&&this.style({flexDirection:"row-reverse"}),this}function je(s){return typeof s=="number"&&(s=["flex-start","center","flex-end"][s+1]),s}function us(s){return je(-s)}class mr extends Ht{constructor(...t){super("form","Form"),this.append(...t),this.setMethod("POST"),this.setAction("/")}setAction(t="/"){return this.setAttr("action",t),this}setMethod(t="post"){return this.setAttr("method",t),this}get data(){let t=new FormData(this.element);return this.items.forEach(e=>{(e.isInput||e.isSelect||e.isTextarea)&&t.append(e.element.name,e.value)}),t}sendFormData(){return fetch(this.element.action,{method:this.element.method,body:this.data}).then(t=>t.json()).then(t=>console.log(t)).catch(t=>console.error("Error:",t)),this}getByName(t){return this.data.get(t)}}const cl=(...s)=>new mr(...s);var ul=Object.freeze({__proto__:null,Form:cl,ZikoUIForm:mr,ZikoUIInput:P,ZikoUIInputCheckbox:Wi,ZikoUIInputColor:Hi,ZikoUIInputDatalist:pr,ZikoUIInputDate:Gi,ZikoUIInputDateTime:Ki,ZikoUIInputEmail:qi,ZikoUIInputImage:or,ZikoUIInputNumber:Bi,ZikoUIInputOption:Ge,ZikoUIInputPassword:Xi,ZikoUIInputRadio:Yi,ZikoUIInputSearch:Vi,ZikoUIInputSlider:Pe,ZikoUIInputTime:Qi,ZikoUILabel:rl,ZikoUISelect:fr,ZikoUITextArea:dr,checkbox:Ah,datalist:nl,input:kh,inputCamera:il,inputColor:Ih,inputDate:Mh,inputDateTime:Uh,inputEmail:Sh,inputImage:Qh,inputNumber:_h,inputPassword:Oh,inputTime:Zh,radio:Th,search:Eh,select:ol,slider:Ch,textarea:al});class pl extends y{constructor(...t){super(),this.element=document==null?void 0:document.createElement("Tr"),this.append(...t)}}class fl extends y{constructor(...t){super(),this.element=document==null?void 0:document.createElement("Td"),this.append(...t)}}class dl extends y{constructor(...t){super(),this.element=document==null?void 0:document.createElement("Thead"),this.append(...t)}}class ml extends y{constructor(...t){super(),this.element=document==null?void 0:document.createElement("Tbody"),this.append(...t)}}class Xt extends y{constructor(t){super(),this.element=document==null?void 0:document.createElement("Caption"),this.append(t)}}const gl=(...s)=>new pl(...s),gr=(...s)=>(s=s.map(t=>(t instanceof y||(t=Z(t)),t)),new fl(...s)),bl=(...s)=>(s=s.map(t=>(t instanceof y||(t=gr(t)),t)),new dl(...UI)),yl=(...s)=>new ml(...s),ps=s=>new Xt(s),wl=s=>{var t=new Array(s.rows).fill(null).map(()=>gl()),e=s.arr.map(i=>i.map(()=>null));for(let i=0;i<e.length;i++)for(let r=0;r<e[0].length;r++)e[i][r]=gr(s.arr[i][r]),t[i].append(e[i][r]);return t};class Gt extends y{constructor(t,{caption:e=null,head:i=null,foot:r=null}={}){super("table","Table"),this.structure={caption:e,head:i,body:null,foot:r},t&&this.fromMatrix(t),e&&this.setCaption(e)}get isTable(){return!0}get caption(){return this.structure.caption}get header(){}get body(){}get footer(){}setCaption(t){return this.removeCaption(),this.structure.caption=ps(t),this.append(this.structure.caption),this}removeCaption(){return this.structure.caption&&this.removeItem(...this.items.filter(t=>t instanceof Xt)),this.structure.caption=null,this}setHeader(...t){return this.tHead=bl(...t),this.append(this.tHead),this}removeHeader(){return this.removeItem(...this.items.filter(t=>t instanceof Xt)),this}setFooter(t){return this.structure.caption=ps(t),this.append(this.structure.caption),this}removeFooter(){return this.removeItem(...this.items.filter(t=>t instanceof Xt)),this}fromMatrix(t){return t instanceof Array?this.bodyMatrix=T(t):this.bodyMatrix=t,this.structure.body&&this.remove(this.structure.body),this.structure.body=yl(),this.append(this.structure.body),this.structure.body.append(...wl(this.bodyMatrix)),this}transpose(){return this.fromMatrix(this.bodyMatrix.T),this}hstack(t){return t instanceof Gt&&(t=t.bodyMatrix),this.fromMatrix(this.bodyMatrix.clone.hstack(t)),this}vstack(t){return t instanceof Gt&&(t=t.bodyMatrix),this.fromMatrix(this.bodyMatrix.clone.vstack(t)),this}slice(t=0,e=0,i=this.bodyMatrix.rows-1,r=this.bodyMatrix.cols-1){return this.fromMatrix(this.bodyMatrix.slice(t,e,i,r)),this}sortByCols(t,e={type:"num",order:"asc"}){return this.fromMatrix(this.bodyMatrix.clone.sortTable(t,e)),this}sortByRows(t,e={type:"num",order:"asc"}){return this.fromMatrix(this.bodyMatrix.T.clone.sortTable(t,e).T),this}filterByRows(t){return this.fromMatrix(this.bodyMatrix.clone.filterByRows(t)),this}filterByCols(t){return this.fromMatrix(this.bodyMatrix.clone.filterByCols(t)),this}forEachRow(t){return this.structure.body.forEach(t),this}forEachItem(t){return this.structure.body.forEach(e=>e.forEach(t)),this}}const vl=(s,t)=>new Gt(s,t);var xl=Object.freeze({__proto__:null,Table:vl});class br extends A{constructor(){super("main","Main")}get isMain(){return!0}}class yr extends A{constructor(){super("header","Header")}get isHeader(){return!0}}class wr extends A{constructor(){super("nav","Nav")}get isNav(){return!0}}class Qe extends A{constructor(){super("section","Section"),this.style({position:"relative"})}get isSection(){return!0}}class vr extends A{constructor(){super("article","Article")}get isArticle(){return!0}}class xr extends A{constructor(){super("aside","Aside")}get isAside(){return!0}}class kr extends A{constructor(){super("footer","Footer"),this.element=document==null?void 0:document.createElement("footer")}get isFooter(){return!0}}const Ke=(...s)=>new Qe().append(...s),kl=(...s)=>new vr().append(...s),_l=(...s)=>new br().append(...s),Cl=(...s)=>new yr().append(...s),Il=(...s)=>new kr().append(...s),El=(...s)=>new wr().append(...s),Al=(...s)=>new xr().append(...s);var Tl=Object.freeze({__proto__:null,Article:kl,Aside:Al,Footer:Il,Header:Cl,Main:_l,Nav:El,Section:Ke,ZikoUIArticle:vr,ZikoUIAside:xr,ZikoUIFooter:kr,ZikoUIHeader:yr,ZikoUIMain:br,ZikoUINav:wr,ZikoUISection:Qe}),se,Cr;class _r extends A{constructor(e="div",i="50vw",r="50vh"){super(e,"Grid");E(this,se);this.direction="cols",typeof i=="number"&&(i+="%"),typeof r=="number"&&(r+="%"),this.style({border:"1px solid black",width:i,height:r}),this.style({display:"grid"})}get isGird(){return!0}columns(e){let i="";for(let r=0;r<e;r++)i=i.concat(" auto");return p(this,se,Cr).call(this,i),this}gap(e=10,i=e){return typeof e=="number"&&(e+="px"),typeof i=="number"&&(i+="px"),this.style({gridColumnGap:e,gridRowGap:i}),this}}se=new WeakSet,Cr=function(e="auto auto"){return this.style({gridTemplateColumns:e}),this};const Sl=(...s)=>new _r("div").append(...s);class Ol extends y{constructor(t,e,i="😁",r=i){var n;super("details","Collapsible"),Object.assign(this.cache,{icons:{open:i,close:r}}),this.summary=It("summary",t).style({fontSize:"1.1em",padding:"0.625rem",fontWeight:"bold",listStyleType:`"${i}"`,cursor:"pointer"}),this.summary[0].style({marginLeft:"0.5em"}),this.content=e.style({margin:"0.7em"}),(n=this.element)==null||n.append(this.summary.element,this.content.element),this.style({marginBottom:"0.7em"}),He(this,o=>{var a;o.target.isOpen?(o.target.emit("open"),(a=this==null?void 0:this.parent)!=null&&a.isAccordion&&this.parent.cache.autoClose&&this.parent.closeExcept(this),this.summary.style({listStyleType:`"${this.cache.icons.close}"`})):(o.target.emit("close"),this.summary.style({listStyleType:`"${this.cache.icons.open}"`}))})}get isCollapsible(){return!0}get isOpen(){return this.element.open}open(t=this){return this.element.open=!0,this.emit("open",t),this}close(){return this.element.open=!1,this}onOpen(t){return this.on("open",t),this}onClose(t){return this.on("close",t),this}toggle(){return this.element.open=!this.element.open,this}}const Ml=(s,t,e,i)=>new Ol(s,t,e,i);class Ir extends A{constructor(...t){super("div","Accordion"),this.append(...t),Object.assign(this.cache,{autoClose:!0})}get isAccordion(){return!0}closeAll(){return this.items.forEach(t=>t.close()),this}closeExcept(...t){return this.items.filter(e=>!t.includes(e)).forEach(e=>e.close()),this}open(t){return t.isCollapsible?t.open():this.items[t].open(),this.closeExcept(t.isCollapsible?t:this.items[t]),this}enableAutoClose(){return this.cache.autoClose=!0,this}disableAutoClose(){return this.cache.autoClose=!1,this}toggleAutoClose(){this.cache.autoClose=!this.cache.autoClose}}const Zl=(...s)=>new Ir(...s);class Vt extends A{constructor(t="div",e="100%",i="100%"){super(t,"Flex"),this.direction="cols",typeof e=="number"&&(e+="%"),typeof i=="number"&&(i+="%"),this.style({width:e,height:i}),this.style({display:"flex"})}get isFlex(){return!0}resp(t,e=!0){return this.wrap(e),this.element.clientWidth<t?this.vertical():this.horizontal(),this}setSpaceAround(){return this.style({justifyContent:"space-around"}),this}setSpaceBetween(){return this.style({justifyContent:"space-between"}),this}setBaseline(){return this.style({alignItems:"baseline"}),this}gap(t){return this.direction==="row"?this.style({columnGap:t}):this.direction==="column"&&this.style({rowGap:t}),this}wrap(t="wrap"){const e=["no-wrap","wrap","wrap-reverse"];return this.style({flexWrap:typeof t=="string"?t:e[+t]}),this}_justifyContent(t="center"){return this.style({justifyContent:t}),this}vertical(t,e,i=1){return Ul.call(this,i),this.style({alignItems:typeof t=="number"?De.call(this,t):t,justifyContent:typeof e=="number"?fs.call(this,e):e}),this}horizontal(t,e,i=1){return Pl.call(this,i),this.style({alignItems:typeof e=="number"?fs.call(this,e):e,justifyContent:typeof t=="number"?De.call(this,t):t}),this}show(){return this.isHidden=!1,this.style({display:"flex"}),this}}const ft=(...s)=>{let t="div";return typeof s[0]=="string"&&(t=s[0],s.pop()),new Vt(t).append(...s)};function Ul(s){return s==1?this.style({flexDirection:"column"}):s==-1&&this.style({flexDirection:"column-reverse"}),this}function Pl(s){return s==1?this.style({flexDirection:"row"}):s==-1&&this.style({flexDirection:"row-reverse"}),this}function De(s){return typeof s=="number"&&(s=["flex-start","center","flex-end"][s+1]),s}function fs(s){return De(-s)}class jl extends Vt{constructor(...t){super(),this.style({position:"relative",overflow:"hidden",touchAction:"none",userSelect:"none"}),this.horizontal("space-around",0),this.track=Ke(...t).style({display:"inline-flex"}),this.track.size(this.track.children.length*100+"vw"),this.track.setTarget(this),this.track.items.map(e=>e.style({pointerEvents:"none",margin:"auto 10px"})),this.x0=null,this.tx=0,this.onPtrMove(e=>{if(e.isDown){let r=e.event.pageX-this.x0;this.track.st.translateX(this.tx+r,0)}}),this.onPtrDown(e=>{console.log(e.event),this.x0=e.event.pageX;const i=window.getComputedStyle(this.track.element).getPropertyValue("transform");i!=="none"&&(this.tx=+i.split(",")[4])}),this.onPtrUp(e=>console.log(e.isDown)),this.onPtrLeave(e=>{})}get isCarousel(){return!0}}const Dl=(...s)=>new jl(...s);class _t extends Vt{constructor(){super("section"),Object.assign(this.cache,{order:0,currentNote:null,currentNoteIndex:null}),this.vertical(0,0)}get isCodeNote(){return!0}setCurrentNote(t){return this.cache.currentNote=t,this.cache.currentNoteIndex=this.items.findIndex(e=>e===t),t.focus(),this.items.forEach(e=>e.Input.style({border:"1px solid #ccc"})),t.Input.style({border:"2px lightgreen solid"}),this}addNote(t=""){return this.append(Ar(t)),this}execute(){return this.cache.currentNote.execute(),this.incrementOrder(),this}incrementOrder(){return this.cache.order++,this.cache.currentNote.setOrder(this.cache.order),this}next(){return this.cache.currentNote===this.items.at(-1)?(this.addNote(),this.setCurrentNote(this.items.at(-1))):this.setCurrentNote(this.items[this.cache.currentNoteIndex+1]),this}previous(){return this.cache.currentNote!==this.items[0]&&this.setCurrentNote(this.items[this.cache.currentNoteIndex-1]),this}data(){return this.items.map(t=>t.cellData())}serialize(){return JSON.stringify(this.data())}import(t=[]){return t.forEach((e,i)=>this.addNote(t[i].input)),this}}const Ll=()=>new _t,$l=(s="")=>It("code",s).style({width:"100%",height:"auto",padding:"10px",boxSizing:"border-box",border:"1px solid #ccc",outline:"none",fontSize:"1rem",fontFamily:"Lucida Console, Courier New, monospace",padding:"1rem 0.5rem",wordBreak:"break-all",background:"#f6f8fa",color:"#0062C3"}).setAttr("contenteditable",!0).setAttr("spellcheck",!1),Rl=()=>It("output").style({width:"100%",height:"auto",padding:"5px 0"}),zl=s=>Mt(Z("[ ]")).style({width:"50px",height:"50px",margin:"10px 4px",padding:"5px",color:"darkblue",borderBottom:"4px solid gold"}).horizontal(0,0),Wt={background:"none",width:"25px",height:"25px",fontSize:"1.2rem",cursor:"pointer"},Nl=s=>Mt(Z("▶️").style(Wt).onClick(t=>{s.parent instanceof _t&&s.parent.setCurrentNote(s),s.execute(),globalThis.__Ziko__.__Config__.default.target=t.target.parent.parent[1][1]}),Z("📋").style(Wt).onClick(()=>{navigator.clipboard.writeText(s.codeText)}),Z("✖️").style(Wt).onClick(()=>s.remove()),Z("✖️").style(Wt).onClick(()=>s.remove())).style({width:"70px",height:"50px",margin:"10px 0"}).horizontal(0,0).wrap(!0);var Ot,Er,Bl,Hl;class Fl extends Vt{constructor(e="",{type:i="js",order:r=null}={}){super("section");E(this,Ot);Object.assign(this.cache,{state:null,order:r,type:i,metadata:{created:Date.now(),updated:null}}),this.Input=$l(e),this.Output=Rl(),this.InOut=ft(this.Input,this.Output).vertical().style({width:"100%",margin:"10px auto"}),this.RightControl=Nl(this),this.LeftControl=zl(),this.append(this.LeftControl,this.InOut,this.RightControl),this.horizontal(-1,1).style({width:"95vw",margin:"0 auto",border:"1px darkblue dotted"});let n=this.Input.element.getElementsByClassName("cm-content")[0];n?n.addEventListener("keydown",o=>{o.key==="Enter"&&o.shiftKey&&(o.preventDefault(),this.execute(this.cache.order))}):(this.Input.onKeyDown(o=>{o.kd==="Enter"&&o.event.shiftKey&&(o.event.preventDefault(),this.execute(this.cache.order)),this.cache.parent instanceof _t&&(o.kd==="ArrowDown"&&o.event.shiftKey&&this.cache.parent.next(),o.kd==="ArrowUp"&&o.event.shiftKey&&this.cache.parent.previous())}),this.Input.onFocus(()=>{this.cache.parent instanceof _t&&(this.cache.parent.cache.currentNote=this,this.cache.parent.setCurrentNote(this))}),this.Input.onPaste(o=>{}))}get isCodeCell(){return!0}get codeText(){return this.Input.element.getElementsByClassName("cm-content")[0]?this.Input.element.getElementsByClassName("cm-content")[0].innerText.trim():this.Input.element.innerText.trim()}get codeHTML(){return this.Input.element.innerHTML}get outputHTML(){return this.Output.element.innerHTML}setValue(e){return this.Input[0].setValue(e),this}cellData(){return{input:this.codeText,output:this.outputHTML,order:this.cache.order,type:this.cache.type}}execute(e){return this.clearOutput(),this.evaluate(e),this.cache.metadata.updated=Date.now(),this}evaluate(e){switch(globalThis.__Ziko__.__Config__.default.target=this.Output.element,this.cache.type){case"js":p(this,Ot,Er).call(this,e);break}return this}clearInput(){return this.Output.element.innerText="",this}clearOutput(){return this.Output.element.innerText="",this}setOrder(e,i=!0){return this.cache.order=e,i&&(typeof e=="number"?this.LeftControl[0].setValue(`[${e}]`):this.LeftControl[0].setValue("[-]")),this}focus(){return this.Input.element.focus(),this}}Ot=new WeakSet,Er=function(e){try{this.LeftControl[0].setValue("pending"),this.cache.state="pending",globalThis.eval(this.codeText)}catch(i){console.log(i),text(`Error : ${i.message}`).style({color:"red",background:"gold",border:"2px red solid",padding:"10px",margin:"10px 0",display:"flex",justifyContent:"center"}),this.LeftControl[0].setValue("Err"),this.cache.state="Error"}finally{this.cache.state==="pending"&&(this.cache.state="success",this.setOrder(e),this.cache.parent instanceof _t&&(this.cache.parent.incrementOrder(),this.cache.parent.next()))}},Bl=function(){},Hl=function(){};const Ar=(s,{type:t,order:e}={})=>new Fl(s,{type:t,order:e});var K;class Vl extends Vt{constructor(e,i){super("div","Tabs");E(this,K,0);Object.assign(this.cache,{config:{controllersPercent:.5}}),this.style({boxSizing:"border-box",backgroundColor:"blanchedalmond",border:"1px red solid",margin:"30px"}),this.controllersContainer=ft().size("auto","auto").style({boxSizing:"border-box",justifyContent:"center",alignItems:"center",textAlign:"center",minWidth:"50px",minHeight:"50px",backgroundColor:"darkblue",border:"1px darkblue solid"}).setAttr("role","tablist"),this.contentContainer=ft().style({boxSizing:"border-box",justifyContent:"center",alignItems:"center",textAlign:"center",width:"100%",height:"100%",backgroundColor:"darkslategrey"}),this.append(this.controllersContainer,this.contentContainer),e.length!==i.length?console.error(""):(this.controllersContainer.append(...e),this.contentContainer.append(...i)),this.init(),this.display(0),this.useVertical()}get isTabs(){return!0}init(){for(let e=0;e<this.controllersContainer.length;e++)this.controllersContainer[e].setAttr("role","tab").setAttr("aria-controls",`tab${e}`),this.contentContainer[e].setAttr("role","tabpanel").setAttr("aria-labelledby",`tab${e}`).setAttr("tabindex",-1);return this.controllersContainer.forEach(e=>e.onClick(i=>{const r=i.target.element.getAttribute("aria-controls"),n=+r.slice(3);this.contentContainer.filter(o=>o.element.getAttribute("aria-labelledby")===r,()=>{G(this,K)!==n&&this.display(n)})})),this}addPairs(e,i){this.controllersContainer.append(e),this.contentContainer.append(i);const r=this.controllersContainer.length;return this.controllersContainer.at(-1).setAttr("role","tab").setAttr("aria-controls",`tab${r-1}`),this.contentContainer.at(-1).setAttr("role","tabpanel").setAttr("aria-labelledby",`tab${r-1}`).setAttr("tabindex",-1),this}removePairs(e){}display(e){ye(this,K,e%this.contentContainer.length);const i=this.contentContainer.at(G(this,K));return this.controllersContainer.forEach(r=>r.setAttr("tabindex",-1).setAttr("aria-selected",!1)),this.controllersContainer.at(G(this,K)).setAttr("tabindex",0).setAttr("aria-selected",!0),this.contentContainer.forEach(r=>r.st.hide()),i.st.translateX(100,0),i.setAttr("tabindex",0).st.show(),i.st.translateX(0,1e3),this}next(e=1){return this.display(G(this,K)+e),this}previous(e=1){return this.display(G(this,K)-e),this}useVertical(){return this.vertical(0,0),this.controllersContainer.horizontal(0,0),this.controllersContainer.style({width:"100%",height:`${this.cache.config.controllersPercent*100}%`}),this.contentContainer.style({width:"100%",height:`${(1-this.cache.config.controllersPercent)*100}%`}),this}useHorizontal(){return this.horizontal(0,0),this.controllersContainer.vertical(0,0),this.controllersContainer.style({height:"100%",width:`${this.cache.config.controllersPercent*100}%`}),this.contentContainer.style({height:"100%",width:`${(1-this.cache.config.controllersPercent)*100}%`}),this}}K=new WeakMap;const Wl=(s,t)=>new Vl(s,t),st={success:{titleColor:"green",contentColor:"#35495e",bgColor:"#d4edda",bgColor:"linear-gradient(-225deg, #DFFFCD 0%, #90F9C4 48%, #39F3BB 100%)",borderColor:"#28a745",icon:"✅"},info:{titleColor:"blue",contentColor:"#00204a",bgColor:"#93deff",bgColor:"radial-gradient(circle at 10% 20%, rgb(147, 230, 241) 0%, rgb(145, 192, 241) 45.5%)",borderColor:"#005689",icon:"ℹ️"},warning:{titleColor:"#e4663a",contentColor:"#45171d",bgColor:"#fdffcd",bgColor:"radial-gradient(907px at 3.4% 19.8%, rgb(255, 243, 122) 0%, rgb(255, 102, 145) 97.4%)",borderColor:"#efd510",icon:"⚠️"},danger:{titleColor:"red",contentColor:"#721c24",bgColor:"#f8d7da",bgColor:"linear-gradient(90deg, rgb(255, 157, 129) 24.3%, rgb(255, 138, 138) 78.3%)",borderColor:"#c50000",icon:"❌"},tips:{titleColor:null,contentColor:null,bgColor:null,borderColor:null,icon:"💡"},important:{titleColor:null,contentColor:null,bgColor:null,borderColor:null,icon:"📌"}};class le extends Ht{constructor(t,e,i){super(),this.title=Ni(e),this.icon=Z(st[t].icon).style({display:"flex",justifyContent:"center",borderRadius:"50%",minWidth:"30px",minHeight:"30px"}),this.content=i,this.vertical().size("200px","auto").style({borderRadius:"10px",padding:"10px"}),this.append(Mt(this.title,this.icon).size("100%","40px").style({}).horizontal("space-between",0),this.content),this.useType(t)}get isAlert(){return!0}useType(t){return this.style({color:st[t].color,background:st[t].bgColor,border:"1px darkblue solid",borderLeft:`15px ${st[t].borderColor} solid`}),this.title.style({color:st[t].titleColor}),this.content.st.color(st[t].titleColor),this.icon.setValue(st[t].icon).style({border:`2px ${st[t].borderColor} solid`,alignItems:t==="warning"?"flex-start":"center"}),this}useSuccess(){return this.useType("success"),this}useInfo(){return this.useType("info"),this}useWarning(){return this.useType("warning"),this}useDanger(){return this.useType("danger"),this}}const Yl=(s,t)=>new le("success",s,t),ql=(s,t)=>new le("info",s,t),Xl=(s,t)=>new le("warning",s,t),Gl=(s,t)=>new le("danger",s,t);class Tr extends y{constructor(t,e,i){super("div","Splitter"),Object.assign(this.cache,{isResizing:!1,flexDirection:t,resizerCursor:e,resizerProp:i}),this.style({display:"flex",flexDirection:this.cache.flexDirection,border:"2px solid #333",overflow:"hidden"}),this.resizer=new y("div","resizer").style({[this.cache.resizerProp]:"5px",backgroundColor:"gold",cursor:this.cache.resizerCursor,touchAction:"none"}),this.onPtrDown(r=>{this.cache.isResizing=!0,this.style({cursor:this.cache.resizerCursor}),this.resizer.element.setPointerCapture(r.event.pointerId)}),this.onPtrUp(r=>{this.cache.isResizing=!1,this.style({cursor:"default"}),this.resizer.element.releasePointerCapture(r.event.pointerId)}),this.onPtrCancel(()=>{this.cache.isResizing=!1,this.style({cursor:"default"})}),this.onPtrOut(()=>{this.cache.isResizing&&(this.cache.isResizing=!1,this.style({cursor:"default"}))})}get isSplitter(){return!0}styleResizer(t={}){return this.resizer.style(t),this}}class Sr extends Tr{constructor(t,e){var i;super("row","ew-resize","width"),this.leftPane=t.style({width:"50%",flexGrow:1,overflow:"hidden"}),this.rightPane=e.style({width:"50%",flexGrow:1,overflow:"hidden"}),(i=this.element)==null||i.append(this.leftPane.element,this.resizer.element,this.rightPane.element),this.onPtrMove(r=>{if(!this.cache.isResizing)return;const n=this.element.getBoundingClientRect().width;let a=(r.event.clientX-this.element.getBoundingClientRect().x)/n*100,h=100-a;a<0&&(a=0),h<0&&(h=0),this.leftPane.element.style.width=`${a}%`,this.rightPane.element.style.width=`${h}%`})}get isHorizontalSplitter(){return!0}}const Or=(s,t)=>new Sr(s,t);class Mr extends Tr{constructor(t,e){var i;super("column","ns-resize","height"),this.topPane=t.style({height:"50%",flexGrow:1,overflow:"hidden"}),this.bottomPane=e.style({height:"50%",flexGrow:1,overflow:"hidden"}),(i=this.element)==null||i.append(this.topPane.element,this.resizer.element,this.bottomPane.element),this.onPtrMove(r=>{if(!this.cache.isResizing)return;const n=this.element.getBoundingClientRect().height;let a=(r.event.clientY-this.element.getBoundingClientRect().y)/n*100,h=100-a;a<0&&(a=0),h<0&&(h=0),this.topPane.element.style.height=`${a}%`,this.bottomPane.element.style.height=`${h}%`})}get isHorizontalSplitter(){return!0}}const Zr=(s,t)=>new Mr(s,t),Ql=({orintation:s="horizontal",slides:t=[]})=>{if(["v","vertical"].includes(s.toLowerCase()))return Zr(...t);if(["h","horizontal"].includes(s.toLowerCase()))return Or(...t)};var ie,Pr;class Ur extends y{constructor(...e){super("ul","Breadcrumbs");E(this,ie);Object.assign(this.cache,{separatorTextContent:"/"}),this.style({listStyle:"none",display:"flex",flexWrap:"wrap"}),this.list=It("li").style({display:"flex",flexWrap:"wrap"}),this.append(...e)}append(...e){return e.forEach(i=>p(this,ie,Pr).call(this,i)),this}configSeparator(e=this.cache.separator,i={}){return this.cache.separatorTextContent=e,[...this.element.children].filter(n=>n.tagName==="SPAN").forEach(n=>{n.textContent=e,Object.assign(n.style,i)}),this}}ie=new WeakSet,Pr=function(e){var r,n;["string","number","boolean"].includes(typeof e)&&(e=Z(e));const i=It("li",e).style({display:"flex",alignItems:"center"});if(this.element.children.length>0){const o=Z(this.cache.separatorTextContent).style({padding:"0 4px"});(r=this.element)==null||r.append(o.element)}(n=this.element)==null||n.append(i.element)};const Kl=(...s)=>new Ur(...s);var pt,jt;class jr extends Ht{constructor(e,i){super("div","menu3d");E(this,pt);this.controller=e,this.content=i,this.cover=null,Object.assign(this.cache,{config:{useTransfo:!1,isOpen:!1,position:"left",threshold:40,angle:70,overlap:6,width:300,height:300,transitionDuration:"0.5s",transitionEasing:"ease",menuTransformOrigin:null,menuTransformClosed:null,menuTransformOpened:null,contentTransformOrigin:null,contentTransformClosed:null,contentTransformOpened:null}}),this.append(this.controller,this.content),this.update()}get isOpen(){return this.cache.config.isOpen}update(){this.controller.style({display:"none",padding:"20px",overflow:"auto",background:"darkblue",color:"#eee",webkitboxSizing:"border-box",mozBoxSizing:"border-box",boxSizing:"border-box"}),this.content.style({padding:"20px 40px",width:"100%",height:"100%",background:"gold",color:"#eee",webkitboxSizing:"border-box",mozBoxSizing:"border-box",boxSizing:"border-box",webkitOverflowScrolling:"touch",webkitTransformStyle:"preserve-3d"}),this.setupPositions(),this.setupWrapper(),this.setupCover(),this.setupMenu(),this.setupContent()}setupPositions(){this.cache.config.menuTransformOpened="",this.cache.config.contentTransformClosed="";let e=this.cache.config.angle,i=this.cache.config.angle/-2;switch(this.cache.config.position){case"top":this.cache.config.menuTransformOrigin="50% 0%",this.cache.config.menuTransformClosed=`rotateX(${e}deg) translateY(-100%) translateY(${this.cache.config.overlap}px)`,this.cache.config.contentTransformOrigin="50% 0",this.cache.config.contentTransformOpened=`translateY(${this.height/2}px) rotateX(${i}deg)`;break;case"right":this.cache.config.menuTransformOrigin="100% 50%",this.cache.config.menuTransformClosed="rotateY( "+e+"deg ) translateX( 100% ) translateX( -2px ) scale( 1.01 )",this.cache.config.contentTransformOrigin="100% 50%",this.cache.config.contentTransformOpened="translateX( -"+this.width/2+"px ) rotateY( "+i+"deg )";break;case"bottom":this.cache.config.menuTransformOrigin="50% 100%",this.cache.config.menuTransformClosed="rotateX( "+-e+"deg ) translateY( 100% ) translateY( -"+this.cache.config.overlap+"px )",this.cache.config.contentTransformOrigin="50% 100%",this.cache.config.contentTransformOpened="translateY( -"+this.height/2+"px ) rotateX( "+-i+"deg )";break;default:this.cache.config.menuTransformOrigin="100% 50%",this.cache.config.menuTransformClosed="translateX( -100% ) translateX( "+this.cache.config.overlap+"px ) scale( 1.01 ) rotateY( "+-e+"deg )",this.cache.config.contentTransformOrigin="0 50%",this.cache.config.contentTransformOpened="translateX( "+this.width/2+"px ) rotateY( "+-i+"deg )";break}}setupWrapper(){this.style({perspective:"800px",perspectiveOrigin:this.cache.config.contentTransformOrigin})}setupCover(){this.cover&&this.cover.element.parentNode.removeChild(this.cover.element),this.cover=new y("div","div").style({position:"absolute",display:"block",width:"100%",height:"100%",left:0,top:0,zIndex:1e3,visibility:"hidden",opacity:0,transition:`all ${this.cache.config.transitionDuration} ${this.cache.config.transitionEasing}`}),this.content.element.appendChild(this.cover.element)}setupMenu(){switch(this.cache.config.position){case"top":this.controller.style({width:"100%",height:`${this.height/2}px`});break;case"right":this.controller.style({right:0,width:`${this.width/2}px`,height:"100%"});break;case"bottom":this.controller.style({bottom:"0",width:"100%",height:`${this.height/2}px`});break;case"left":this.controller.style({width:`${this.width/2}px`,height:"100%"});break}this.controller.style({position:"fixed",display:"block",zIndex:1,transform:this.cache.config.menuTransformClosed,transformOrigin:this.cache.config.menuTransformOrigin,transition:"all "+this.cache.config.transitionDuration+" "+this.cache.config.transitionEasing})}setupContent(){this.content.style({transform:this.cache.config.contentTransformClosed,transformOrigin:this.cache.config.contentTransformOrigin,transition:`all ${this.cache.config.transitionDuration} ${this.cache.config.transitionEasing}`})}open(){this.cache.config.isOpen||(this.cache.config.isOpen=!0,this.cover.style({height:this.content.element.scrollHeight+"px",visibility:"visible",opacity:1}),this.cache.config.useTransfo&&this.content.style({transform:this.cache.config.contentTransformOpened,userSelect:"default"}),this.controller.style({transform:this.cache.config.menuTransformOpened,useSelect:"none"}),this.emit("opened"))}close(){this.cache.config.isOpen&&(this.cache.config.isOpen=!1,this.cover.style({visibility:"hidden",opacity:0}),this.content.style({transform:this.cache.config.contentTransformClosed,useSelect:"default"}),this.controller.style({transform:this.cache.config.menuTransformClosed,userSelect:"none"})),this.emit("closed")}onOpen(e){return this.on("opened",e.bind(this)),this}onClose(e){return this.on("closed",e.bind(this)),this}useRight(){return p(this,pt,jt).call(this,"left"),this}useRight(){return p(this,pt,jt).call(this,"right"),this}useTop(){return p(this,pt,jt).call(this,"top"),this}useBottom(){return p(this,pt,jt).call(this,"bottom"),this}}pt=new WeakSet,jt=function(e){if(this.cache.config.position!==e){this.cache.config.position=e;const i=this.isOpen;this.close(),this.update(),i&&this.open()}};const Dr=(s,t)=>new jr(s,t);globalThis.menu3d=Dr;class Lr extends A{constructor(...t){super("dialog","modal"),this.append(...t),Object.assign(this.cache,{config:{mode:"modal",useTransition:!0}}),this.style({display:"flex",justifyContent:"center",alignItems:"center",position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",padding:"20px",border:"none",backgroundCcolor:"#f5f5f5",boxShadow:"0px 4px 10px rgba(0, 0, 0, 0.1)",borderRadius:"8px"}),this.close()}open(){if(!this.element.open){switch(this.cache.config.mode){case"modal":this.element.showModal();break;case"dialog":this.element.show();break;default:this.element.show();break}this.st.fadeIn(1e3),this.emit("modal:opened")}return this}close(){return this.st.fadeOut(1e3),this.element.open&&this.element.close(),this.emit("modal:closed"),this}closeAfter(t=1e3){return globalThis==null||globalThis.setTimeout(()=>this.close(),t),this}onOpen(t){return this.on("modal:opened",t.bind(this)),this}onClose(t){return this.on("modal:closed",t.bind(this)),this}useModal(){return this.cache.config.mode="modal",this}useDialog(){return this.cache.config.mode="dialog",this}useTransition(t=!0){return this.cache.config.useTransition=t,this}}const Jl=(...s)=>new Lr(...s);var F,Dt,Rr,zr;class $r extends Qe{constructor(){super("section","");E(this,F);Object.assign(this.cache,{currentIndex:0,slideBuilder:null}),this.container=ft().size("100%","100%").vertical(0,0).style({overflow:"hidden"}),this.container.setAttr({ariaRoledescription:"carousel",ariaLive:"polite",ariaLabel:"Content Slider"}),this.track=Ke().size("100%","100%").style({transition:"transform 0.3s ease-in-out"}),this.bullets=ft().style({gap:"10px",padding:"10px"}),this.container.append(this.track,this.bullets),this.append(this.container)}goto(e=0){this.cache.currentIndex=e,this.__updatePos(),p(this,F,Dt).call(this)}next(e=1){return this.cache.currentIndex+=e,this.__updatePos(),p(this,F,Dt).call(this),this}previous(e=1){return this.cache.currentIndex-=e,this.__updatePos(),p(this,F,Dt).call(this),this}addSlides(...e){return e.forEach(i=>p(this,F,zr).call(this,i)),p(this,F,Rr).call(this),p(this,F,Dt).call(this),this}}F=new WeakSet,Dt=function(){for(let e=0;e<this.track.items.length;e++)this.track[e].setAttr({ariaHidden:e!==this.cache.currentIndex})},Rr=function(){var i;const e=this.track.items.length;for(let r=0;r<e;r++)this.track.items[r].setAttr({ariaLabel:`Slide ${r+1} of ${e}`,dataSlideIndex:r}),this.bullets.items[r].setAttr({dataIndex:r,ariaLabel:`Go to slide ${r}`}),(i=this.bullets[r].events.click)==null||i.destroy(),this.bullets[r].onClick(()=>this.goto(r))},zr=function(e){this.track.append(this.cache.slideBuilder(e).setAttr({ariaRoledescription:"slide",role:"group",ariaLabel:""}));const i=Z().size("15px","15px").style({borderRadius:"50%",cursor:"pointer",border:"3px solid blue",background:"white"}).setAttr({role:"button",tabIndex:0}).onPtrEnter(r=>r.target.st.background("gold").scale(1.2,1.2)).onPtrLeave(r=>r.target.st.background("white").scale(1,1));return this.bullets.append(i),this};class Nr extends $r{constructor(...t){super("section","hSlider"),this.container.vertical(0,0),Object.assign(this.cache,{slideBuilder:e=>ft(e).style({minWidth:"100%",width:"100%",height:"100%"}).vertical(0,0)}),this.track.size("100%","90%").style({display:"flex"}),this.addSlides(...t),this.bullets.horizontal(0,0).style({width:"100%",height:"10%"})}__updatePos(){const t=this.container.width;this.track.st.translateX(-this.cache.currentIndex*t)}}const Fr=(...s)=>new Nr(...s);class Br extends $r{constructor(...t){super("section","vSlider"),Object.assign(this.cache,{slideBuilder:e=>ft(e).size("100%","100%").vertical(0,0)}),this.addSlides(...t),this.container.horizontal(0,0),this.track.size("90%","100%"),this.bullets.vertical(0,0).style({height:"100%",width:"10%"})}__updatePos(){const t=this.container.height;this.track.st.translateY(-this.cache.currentIndex*t)}}const Hr=(...s)=>new Br(...s),tc=({orintation:s="horizontal",slides:t=[]})=>{if(["v","vertical"].includes(s.toLowerCase()))return Hr(...t);if(["h","horizontal"].includes(s.toLowerCase()))return Fr(...t)};var ec=Object.freeze({__proto__:null,Accordion:Zl,Breadcrumbs:Kl,Carousel:Dl,CodeCell:Ar,CodeNote:Ll,Collapsible:Ml,Flex:Mt,Grid:Sl,Modal:Jl,Slider:tc,Splitter:Ql,Tabs:Wl,ZikoUIAccordion:Ir,ZikoUIBreadcrumbs:Ur,ZikoUICodeNote:_t,ZikoUIFlex:Ht,ZikoUIGrid:_r,ZikoUIHorizontalSlider:Nr,ZikoUIHorizontalSplitter:Sr,ZikoUIMenu3d:jr,ZikoUIModal:Lr,ZikoUIVerticalSlider:Br,ZikoUIVerticalSplitter:Mr,dangerAlert:Gl,hSlider:Fr,hSplitter:Or,infoAlert:ql,menu3d:Dr,successAlert:Yl,vSlider:Hr,vSplitter:Zr,warningAlert:Xl});const ce={...mh,...xh,...ul,...el,...xl,...Tl,...Gh,...ec,ZikoUIElement:y,ZikoUIContainerElement:A},Vr=s=>new XMLSerializer().serializeToString(s),Wr=s=>btoa(Vr(s)),Yr=s=>"data:image/svg+xml;base64,"+Wr(s),sc=(s,t=!0)=>hr(Yr(s)).render(t),Je=s=>JSON.stringify(g(t=>{if(["number","string","boolean","bigint"].includes(typeof t))return String(t);if(t instanceof f||t instanceof m)return t.toString();if(t instanceof Array)return ue(t)},s),null,"  ").replace(/"([^"]+)":/g,"$1:").replace(/: "([^"]+)"/g,": $1"),qr=s=>{if(!Array.isArray(s))return 0;let t=1;for(const e of s)if(Array.isArray(e)){const i=qr(e);i+1>t&&(t=i+1)}return t},ue=s=>{let t=0;function e(i){let r=qr(i),n=0;return i.some(o=>Array.isArray(o))&&(t++,n=1),"["+i.map((o,a)=>{if(["number","string","boolean","bigint"].includes(typeof o))return String(o);if(o instanceof f)return o.toString();if(o instanceof Array)return`
${"  ".repeat(t)}${e(o)}${a===i.length-1?`
`:""}`;if(o instanceof Object)return Je(o)})+`${"  ".repeat((r+t+1)*n)}]`}return e(s)},ts=(s,t=0)=>{s=Xr(s);let e="";const i="  ".repeat(t);for(let r in s)if(typeof s[r]=="object"){e+=`${i}${r} {
`;const n=s[r];for(let o in n)typeof n[o]=="object"?e+=ts({[o]:n[o]},t+1):e+=`${i}  ${o.replace(/[A-Z]/g,a=>"-"+a.toLowerCase())}: ${n[o]};
`;e+=`${i}}
`}return e};function Xr(s){return typeof s!="object"||s===null?s:Object.keys(s).reduce((t,e)=>{const i=e.trim();return t[i]=Xr(s[e]),t},Array.isArray(s)?[]:{})}var ic=Object.freeze({__proto__:null,adoc2html:bo,arr2str:ue,csv2arr:Fe,csv2json:wo,csv2matrix:yo,csv2object:Fs,csv2sql:vo,json2arr:xo,json2css:ts,json2csv:Bs,json2csvFile:ko,json2xml:Be,json2xmlFile:Co,json2yml:Hs,json2ymlFile:_o,markdown2html:lo,obj2str:Je,svg2ascii:Wr,svg2img:sc,svg2imgUrl:Yr,svg2str:Vr}),rc=Object.freeze({__proto__:null});const mt={isDigit:/^\d+$/,isURL:/^(https?:\/\/)?([\w\-]+\.)+[\w\-]+(\/[\w\-./?%&=]*)?$/,isHexColor:/^#?([a-fA-F0-9]{6}|[a-fA-F0-9]{3})$/,isIPv4:/^(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/,isMACAddress:/^([0-9A-Fa-f]{2}[:-]){5}([0-9A-Fa-f]{2})$/,isDate:/^\d{4}-\d{2}-\d{2}$/};class I{constructor(t){this.string=t}isDigit(){return mt.isDigit.test(this.string)}static isDigit(t){return new I(t).isDigit()}isNumber(){return!isNaN(this.string)}static isNumber(t){return new I(t).isNumber()}isUrl(){return mt.isURL.test(this.string)}static isUrl(t){return new I(t).isUrl()}isHexColor(){return mt.isHexColor.test(this.string)}static isHexColor(t){return new I(t).isHexColor()}isIPv4(){return mt.isIPv4.test(this.string)}static isIPv4(t){return new I(t).isIPv4()}isDate(){return mt.isDate.test(this.string)}static isDate(t){return new I(t).isDate()}isMACAddress(){return mt.isMACAddress.test(this.string)}static isMACAddress(t){return new I(t).isMACAddress()}isPascalCase(){return this.string.length===0?!1:/^[A-Z][a-zA-Z0-9]*$/.test(this.string)}static isPascalCase(t){return new I(t).isPascalCase()}isCamelCase(){return this.string.length===0?!1:/^[a-z][a-zA-Z0-9]*$/.test(this.string)}static isCamelCase(t){return new I(t).isCamelCase()}isHyphenCase(){return this.string.split("-").length>1}static isHyphenCase(t){return new I(t).isHyphenCase()}isSnakeCase(){return this.string.split("_").length>1}static isSnakeCase(t){return new I(t).isSnakeCase()}isPalindrome(){const t=this.string.toLocaleLowerCase();let e=t.length,i;for(i=0;i<e/2;i++)if(t[i]!=t[e-i-1])return!1;return!0}static isPalindrome(t){return new I(t).isPalindrome()}static isAnagrams(t,e){return t=t.split("").sort(),e=e.split("").sort(),JSON.stringify(t)===JSON.stringify(e)}isIsogram(){return[...new Set(this.string.toLowerCase())].length===this.string.length}static isIsogram(t){return new I(t).isIsogram()}static camel2hyphencase(t){return t.replace(/[A-Z]/g,e=>"-"+e.toLowerCase())}static camel2snakecase(t){return t.replace(/[A-Z]/g,e=>"_"+e.toLowerCase())}static camel2pascalcase(t){return t.charAt(0).toUpperCase()+t.slice(1)}static camel2constantcase(t){return t.replace(/[A-Z]/g,e=>"_"+e).toUpperCase()}static pascal2snakecase(t){return t.replace(/([A-Z])/g,(e,i)=>i?"_"+e.toLowerCase():e.toLowerCase())}static pascal2hyphencase(t){return t.replace(/([A-Z])/g,(e,i)=>i?"-"+e.toLowerCase():e.toLowerCase())}static pascal2camelcase(t){return t.charAt(0).toLowerCase()+t.slice(1)}static pascal2constantcase(t){return t.replace(/([A-Z])/g,(e,i)=>i?"_"+e:e).toUpperCase()}static snake2camelcase(t){return t.replace(/(_\w)/g,e=>e[1].toUpperCase())}static snake2hyphencase(t){return t.replace(/_/g,"-")}static snake2pascalcase(t){return t.split("_").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join("")}static snake2constantcase(t){return t.toUpperCase()}static hyphen2camelcase(t){return t.replace(/-([a-z])/g,e=>e[1].toUpperCase())}static hyphen2snakecase(t){return t.replace(/-/g,"_")}static hyphen2pascalcase(t){return t.split("-").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join("")}static hyphen2constantcase(t){return t.replace(/-/g,"_").toUpperCase()}static constant2camelcase(t){return t.toLowerCase().replace(/_([a-z])/g,e=>e[1].toUpperCase())}static constant2snakecase(t){return t.toLowerCase()}static constant2pascalcase(t){return t.toLowerCase().split("_").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join("")}static constant2hyphencase(t){return t.toLowerCase().replace(/_/g,"-")}}const nc=s=>s.replace(/\s+/g," "),oc=(s,t)=>s.split("").filter(e=>e==t).length,ac=(s,t)=>s.split(" ").filter(e=>e==t).length,hc=s=>new I(s);var lc=Object.freeze({__proto__:null,Str:I,count:oc,countWords:ac,removeExtraSpace:nc,str:hc});const pe={...ro,...ic,...rc,...lc};var lt,Le,$e;const u=class u extends ws{constructor(e,i,r=[]){super();E(this,lt);if(e instanceof u)this.arr=e.arr,this.rows=e.rows,this.cols=e.cols;else{let n=[],o,a;if(arguments[0]instanceof Array)e=arguments[0].length,i=arguments[0][0].length,n=arguments[0];else for(o=0;o<e;o++)for(n.push([]),n[o].push(new Array(i)),a=0;a<i;a++)n[o][a]=r[o*i+a],r[o*i+a]==null&&(n[o][a]=0);this.rows=e,this.cols=i,this.arr=n}this._maintain()}toString(){return ue(this.arr)}at(e=0,i=void 0){return e<0&&(e=this.rows+e),i==null?this.arr[e]:(i<0&&(i=this.cols+i),this.arr[e][i])}reshape(e,i){if(e*i===this.rows*this.cols)return new u(e,i,this.arr.flat(1));console.error("Err")}static eye(e){let i=new u(e,e);for(let r=0;r<e;r++)for(let n=0;n<e;n++)r===n?i.arr[r][n]=1:i.arr[r][n]=0;return i}get clone(){return new u(this.rows,this.cols,this.arr.flat(1))}get size(){return this.rows*this.cols}get shape(){return[this.rows,this.cols]}get reel(){return new u(this.cols,this.rows,this.arr.flat(1).reel)}get imag(){return new u(this.cols,this.rows,this.arr.flat(1).imag)}_maintain(){for(let e=0;e<this.arr.length;e++)Object.assign(this,{[[e]]:this.arr[e]});return this}get(e=0,i=0){return i==-1?this.arr[e]:e==-1?this.arr.map(r=>r[i]):this.arr[e][i]}set(e=0,i=0,r){if(i==-1)return this.arr[e]=r;if(e==-1){for(let n=0;n<this.cols;n++)this.arr[n][i]=r[n]||0;return this.arr}return this.arr[e][i]=r}get isSquare(){return this.rows/this.cols===1}get isSym(){if(!this.isSquare)return!1;const e=this.T,i=this.clone;return u.sub(i,e).max==0&&u.sub(i,e).min==0}get isAntiSym(){if(!this.isSquare)return!1;const e=this.T,i=this.clone;return u.add(i,e).max==0&&u.add(i,e).min==0}get isDiag(){if(!this.isSquare)return!1;const e=this.T,i=this.clone,r=u.mul(i,e),n=u.dot(e,i);return u.sub(r,n).max==0&&u.sub(r,n).min==0}get isOrtho(){return this.isSquare?this.isDiag&&(this.det==1||this.det==-1):!1}get isIdemp(){if(!this.isSquare)return!1;const e=this.clone,i=u.dot(e,e);return u.sub(i,e).max==0&&u.sub(i,e).min==0}get T(){let e=[];for(let i=0;i<this.arr[0].length;i++){e[i]=[];for(let r=0;r<this.arr.length;r++)e[i][r]=this.arr[r][i]}return new u(this.cols,this.rows,e.flat(1))}get det(){if(!this.isSquare)return new Error("is not square matrix");if(this.rows==1)return this.arr[0][0];function e(r){if(r.length==2){if(r.flat(1).some(a=>a instanceof u)){console.warn("Tensors are not completely supported yet ...");return}return C.sub(C.mul(r[0][0],r[1][1]),C.mul(r[0][1],r[1][0]))}for(var n=0,o=0;o<r.length;o++){const a=C.add(C.mul(N(-1,o),C.mul(r[0][o],e(i(r,o)))));n=C.add(n,a)}return n}function i(r,n){var o=[];for(let a=0;a<r.length;a++)o.push(r[a].slice(0));o.splice(0,1);for(let a=0;a<o.length;a++)o[a].splice(n,1);return o}return e(this.arr)}get inv(){if(!this.isSquare)return new Error("is not square matrix");if(this.det===0)return"determinat = 0 !!!";let e=cc(this.arr);return new u(this.rows,this.cols,e.flat(1))}static zeros(e,i){let r=new u(e,i);for(let o=0;o<e;o++)for(var n=0;n<i;n++)r.arr[o][n]=0;return r}static ones(e,i){let r=new u(e,i);for(let n=0;n<e;n++)for(let o=0;o<i;o++)r.arr[n][o]=1;return r}static nums(e,i,r){let n=new u(e,i);for(let o=0;o<e;o++)for(let a=0;a<i;a++)n.arr[o][a]=r;return n}static get rand(){return{int:(e,i,r,n)=>{let o=new u(e,i);for(let a=0;a<e;a++)for(let h=0;h<i;h++)o.arr[a][h]=J.randInt(r,n);return o},bin:(e,i)=>{let r=new u(e,i);for(let n=0;n<e;n++)for(let o=0;o<i;o++)r.arr[n][o]=J.randBin;return r},hex:(e,i)=>{let r=new u(e,i);for(let n=0;n<e;n++)for(let o=0;o<i;o++)r.arr[n][o]=J.randHex;return r},choices:(e,i,r,n)=>{let o=new u(e,i);for(let a=0;a<e;a++)for(let h=0;h<i;h++)o.arr[a][h]=J.choice(r,n);return o},permutation:(e,i,r)=>{}}}static rands(e,i,r=1,n){let o=new u(e,i);for(let a=0;a<e;a++)for(let h=0;h<i;h++)o.arr[a][h]=J.rand(r,n);return o}map(e,i,r,n){return C.map(this,e,i,r,n)}lerp(e,i){return C.lerp(this,e,i)}norm(e,i){return C.norm(this,e,i)}clamp(e,i){return C.clamp(this,e,i)}static map(e,i,r,n,o){return C.map(e,i,r,n,o)}static lerp(e,i,r){return C.lerp(e,i,r)}static norm(e,i,r){return C.norm(e,i,r)}static clamp(e,i,r){return C.clamp(T,i,r)}toPrecision(e){for(let i=0;i<this.cols;i++)for(let r=0;r<this.rows;r++)this.arr[i][r]=+this.arr[i][r].toPrecision(e);return this}get toBin(){let e=this.arr.flat(1).toBin;return new u(this.rows,this.cols,e)}get toOct(){let e=this.arr.flat(1).toOct;return new u(this.rows,this.cols,e)}get toHex(){let e=this.arr.flat(1).toHex;return new u(this.rows,this.cols,e)}max2min(){let e=this.arr.flat(1).max2min;return new u(this.rows,this.cols,e)}min2max(){let e=this.arr.flat(1).min2max;return new u(this.rows,this.cols,e)}sortRows(e=void 0){let i=this.arr.map(r=>r.sort(e)).flat(1);return new u(this.rows,this.cols,i)}sortCols(e=void 0){let r=this.T.arr.map(n=>n.sort(e)).flat(1);return new u(this.rows,this.cols,r).T}filterByRows(e){var i=this.arr.map(o=>o.map(a=>+(""+a).includes(e))),r=i.map(o=>!!Logic.or(...o)),n=this.arr.filter((o,a)=>r[a]===!0);return n.length===0&&n.push([]),console.log(n),new u(n)}filterByCols(e){return new u(this.T.arr.filter(i=>i.includes(e)))}sortAll(e=void 0){let i=this.arr.flat(1).sort(e);return new u(this.rows,this.cols,i)}count(e){return this.arr.flat(1).count(e)}toBase(e){let i=this.arr.flat(1).toBase(e);return new u(this.rows,this.cols,i)}hstack(...e){const i=[this,...e].reduce((r,n)=>{var o;return p(o=r,lt,Le).call(o,n)});return Object.assign(this,i),this}static hstack(e,...i){return e.clone.hstack(...i)}vstack(...e){const i=[this,...e].reduce((r,n)=>{var o;return p(o=r,lt,$e).call(o,n)});return Object.assign(this,i),this}static vstack(e,...i){return e.clone.vstack(...i)}hqueue(...e){const i=[this,...e].reverse().reduce((r,n)=>{var o;return p(o=r,lt,Le).call(o,n)});return Object.assign(this,i),this}vqueue(...e){const i=[this,...e].reverse().reduce((r,n)=>{var o;return p(o=r,lt,$e).call(o,n)});return Object.assign(this,i),this}static hqueue(e,...i){return e.clone.hqueue(...i)}static vqueue(e,...i){return e.clone.vqueue(...i)}slice(e=0,i=0,r=this.rows-1,n=this.cols-1){let o=r-e,a=n-i,h=new Array(a);for(let l=0;l<o;l++){h[l]=[];for(let b=0;b<a;b++)h[l][b]=this.arr[l+e][b+i]}return new u(o,a,h.flat(1))}static slice(e,i=0,r=0,n=this.rows-1,o=this.cols-1){return e.slice(i,r,n,o)}splice(e,i,r,...n){}getRows(e,i=e+1){return this.slice(e,0,i,this.cols)}getCols(e,i=e+1){return this.slice(0,e,this.rows,i)}static getRows(e,i,r=i+1){return e.slice(i,0,r,e.cols)}static getCols(e,i,r=i+1){return e.slice(0,i,e.rows,r)}add(...e){for(let r=0;r<e.length;r++){(typeof e[r]=="number"||e[r]instanceof f)&&(e[r]=u.nums(this.rows,this.cols,e[r]));for(let n=0;n<this.rows;n++)for(var i=0;i<this.cols;i++)this.arr[n][i]=C.add(this.arr[n][i],e[r].arr[n][i])}return new u(this.rows,this.cols,this.arr.flat(1))}sub(...e){for(let r=0;r<e.length;r++){typeof e[r]=="number"&&(e[r]=u.nums(this.rows,this.cols,e[r]));for(let n=0;n<this.rows;n++)for(var i=0;i<this.cols;i++)this.arr[n][i]=C.sub(this.arr[n][i],e[r].arr[n][i])}return new u(this.rows,this.cols,this.arr.flat(1))}static add(e,...i){return e.clone.add(...i)}static sub(e,...i){return e.clone.sub(...i)}mul(...e){for(let n=0;n<e.length;n++){typeof e[n]=="number"&&(e[n]=u.nums(this.rows,this.cols,e[n]));for(var i=0;i<this.rows;i++)for(var r=0;r<this.cols;r++)this.arr[i][r]=C.mul(this.arr[i][r],e[n].arr[i][r])}return new u(this.rows,this.cols,this.arr.flat(1))}div(...e){for(let r=0;r<e.length;r++){typeof e[r]=="number"&&(e[r]=u.nums(this.rows,this.cols,e[r]));for(let n=0;n<this.rows;n++)for(var i=0;i<this.cols;i++)this.arr[n][i]=C.div(this.arr[n][i],e[r].arr[n][i])}return new u(this.rows,this.cols,this.arr.flat(1))}static div(e,...i){return e.clone.div(...i)}static mul(e,...i){return e.clone.mul(...i)}modulo(...e){for(let r=0;r<e.length;r++){typeof e[r]=="number"&&(e[r]=u.nums(this.rows,this.cols,e[r]));for(let n=0;n<this.rows;n++)for(var i=0;i<this.cols;i++)this.arr[n][i]=C.modulo(this.arr[n][i],e[r].arr[n][i])}return new u(this.rows,this.cols,this.arr.flat(1))}static modulo(e,...i){return e.clone.modulo(...i)}dot(e){for(var i=[],r=0;r<this.arr.length;r++){i[r]=[];for(var n=0;n<e.arr[0].length;n++){i[r][n]=0;for(var o=0;o<this.arr[0].length;o++)i[r][n]=C.add(i[r][n],C.mul(this.arr[r][o],e.arr[o][n]))}}return new u(this.arr.length,e.arr[0].length,i.flat(1))}static dot(e,i){return e.dot(i)}pow(e){let i=this.clone,r=this.clone;for(let n=0;n<e-1;n++)r=r.dot(i);return r}static pow(e,i){return e.clone.pow(i)}get somme(){let e=0;for(let i=0;i<this.rows;i++)for(let r=0;r<this.cols;r++)e+=this.arr[i][r];return e}get DoesItContainComplexNumbers(){return this.arr.flat(1/0).some(e=>e instanceof f)}get min(){this.DoesItContainComplexNumbers&&console.error("Complex numbers are not comparable");let e=[];for(let i=0;i<this.rows;i++)e.push(ot(...this.arr[i]));return ot(...e)}get max(){this.DoesItContainComplexNumbers&&console.error("Complex numbers are not comparable");let e=[];for(let i=0;i<this.rows;i++)e.push(kt(...this.arr[i]));return kt(...e)}get minRows(){this.DoesItContainComplexNumbers&&console.error("Complex numbers are not comparable");let e=[];for(let i=0;i<this.rows;i++)e.push(ot(...this.arr[i]));return e}get maxRows(){this.DoesItContainComplexNumbers&&console.error("Complex numbers are not comparable");let e=[];for(let i=0;i<this.rows;i++)e.push(kt(...this.arr[i]));return e}get minCols(){return this.DoesItContainComplexNumbers&&console.error("Complex numbers are not comparable"),this.T.minRows}get maxCols(){return this.DoesItContainComplexNumbers&&console.error("Complex numbers are not comparable"),this.T.maxRows}static fromVector(e){return new u(e.length,1,e)}get toArray(){let e=[];for(let i=0;i<this.rows;i++)for(let r=0;r<this.cols;r++)e.push(this.arr[i][r]);return e}get print(){let e="[";for(let i=0;i<this.arr.length;i++)e+=(i!=0?" ":"")+` [${this.arr[i].map(r=>" "+r.toString()+" ")}],
`;console.log(e.substring(0,e.length-2)+" ]"),document.write(e.substring(0,e.length-2)+" ]")}get table(){console.table(this.arr)}get serialize(){return JSON.stringify(this)}static deserialize(e){typeof e=="string"&&(e=JSON.parse(e));let i=new u(e.rows,e.cols);return i.arr=e.arr,i}DecompositionLU(){const[e,i]=Ls(this);return{L:e,U:i}}static DecompositionLU(...e){const i=e.map(r=>r.clone.LU());return i.length===1?i[0]:i}DecompositionQR(){const[e,i]=Rs(this);return{Q:e,R:i}}static DecompositionQR(...e){const i=e.map(r=>r.clone.DecompositionQr());return i.length===1?i[0]:i}DecompositionCholesky(){return{L:zs(this)}}static DecompositionCholesky(...e){const i=e.map(r=>r.clone.DecompositionCholesky());return i.length===1?i[0]:i}get decomposition(){return{LU:()=>this.DecompositionLU(),QR:()=>this.DecompositionQR(),Cholesky:()=>this.DecompositionCholesky()}}static get decomposition(){return{LU:(...e)=>u.LU(...e),QR:(...e)=>u.QR(...e),CHOLESKY:(...e)=>u.CHOLESKY(...e)}}toTable(){var e=new DocumentFragment,i=new Array(this.rows).fill(null).map(()=>document==null?void 0:document.createElement("tr")),r=this.arr.map(n=>n.map(()=>document==null?void 0:document.createElement("td")));for(let n=0;n<r.length;n++)for(let o=0;o<r[0].length;o++)r[n][o].innerHTML=this.arr[n][o],i[n].appendChild(r[n][o]);return i.map(n=>e.appendChild(n)),e}toGrid(e,i={}){let r=Grid();return r.append(...this.map(e).arr.flat(1).map(n=>n.style(i))),r.Columns(this.cols),r}sortTable(e=0,{type:i="num",order:r="asc"}={}){var n=this.T.arr.map(h=>h.map((l,b)=>Object.assign({},{x:l,y:b}))),o=this.T.arr.map(h=>h.map((l,b)=>Object.assign({},{x:l,y:b})));i==="num"?r==="asc"?n[e].sort((h,l)=>h.x-l.x):r==="desc"?n[e].sort((h,l)=>l.x-h.x):r==="toggle"&&(n[e][0].x>n[e][1].x?n[e].sort((h,l)=>l.x-h.x):n[e].sort((h,l)=>h.x-l.x)):i==="alpha"&&(r==="asc"?n[e].sort((h,l)=>(""+h.x).localeCompare(""+l.x)):r==="desc"&&n[e].sort((h,l)=>(""+l.x).localeCompare(""+h.x))),r=n[e].map(h=>h.y);for(let h=0;h<n.length;h++)h!==e&&n[h].map((l,b)=>l.y=r[b]);for(let h=0;h<n.length;h++)h!==e&&o[h].map((l,b)=>l.x=n[h][r[b]].x);o[e]=n[e];var a=o.map(h=>h.map(l=>l.x));return new u(a).T}};lt=new WeakSet,Le=function(e){if(this.rows!==e.rows)return;let i=this.arr;for(let r=0;r<this.rows;r++)for(let n=this.cols;n<this.cols+e.cols;n++)i[r][n]=e.arr[r][n-this.cols];return this.cols+=e.cols,new u(this.rows,this.cols,i.flat(1))},$e=function(e){if(this.cols!==e.cols)return;let i=this.arr;for(let r=this.rows;r<this.rows+e.rows;r++){i[r]=[];for(let n=0;n<this.cols;n++)i[r][n]=e.arr[r-this.rows][n]}return this.rows+=e.rows,new u(this.rows,this.cols,i.flat(1))};let m=u;function cc(s){if(s.length===s[0].length){var t=0,e=0,i=0,r=s.length,n=0,o=[],a=[];for(t=0;t<r;t+=1)for(o[o.length]=[],a[a.length]=[],i=0;i<r;i+=1)t==i?o[t][i]=1:o[t][i]=0,a[t][i]=s[t][i];for(t=0;t<r;t+=1){if(n=a[t][t],n==0){for(e=t+1;e<r;e+=1)if(a[e][t]!=0){for(i=0;i<r;i++)n=a[t][i],a[t][i]=a[e][i],a[e][i]=n,n=o[t][i],o[t][i]=o[e][i],o[e][i]=n;break}if(n=a[t][t],n==0)return}for(i=0;i<r;i++)a[t][i]=a[t][i]/n,o[t][i]=o[t][i]/n;for(e=0;e<r;e++)if(e!=t)for(n=a[e][t],i=0;i<r;i++)a[e][i]-=n*a[t][i],o[e][i]-=n*o[t][i]}return o}}const T=(s,t,e)=>new m(s,t,e),uc=(...s)=>new m(2,2,s),pc=(...s)=>new m(3,3,s),fc=(...s)=>new m(4,4,s);class dc{static resolve(t,e){return t.inv.dot(m.fromVector(e)).arr.flat(1).map(i=>+i.toFixed(10))}}var mc=Object.freeze({__proto__:null,LinearSystem:dc,Matrix:m,choleskyDecomposition:zs,luDecomposition:Ls,matrix:T,matrix2:uc,matrix3:pc,matrix4:fc,qrDecomposition:Rs});class f extends ws{constructor(t=0,e=0){super(),t instanceof f?(this.a=t.a,this.b=t.b):typeof t=="object"?"a"in e&&"b"in t?(this.a=t.a,this.b=t.b):"a"in e&&"z"in t?(this.a=t.a,this.b=zt(t.z**2-t.a**2)):"a"in e&&"phi"in t?(this.a=t.a,this.b=t.a*Re(t.phi)):"b"in e&&"z"in t?(this.b=t.b,this.a=zt(t.z**2-t.b**2)):"b"in e&&"phi"in t?(this.b=e,this.a=t.b/Re(t.phi)):"z"in e&&"phi"in t&&(this.a=t.z*k(t.phi),this.a=t.z*_(t.phi)):typeof t=="number"&&typeof e=="number"&&(this.a=+t.toFixed(32),this.b=+e.toFixed(32))}toString(){let t="";return this.a!==0?this.b>=0?t=`${this.a}+${this.b}*i`:t=`${this.a}-${Math.abs(this.b)}*i`:this.b>=0?t=`${this.b}*i`:t=`-${Math.abs(this.b)}*i`,t}get clone(){return new f(this.a,this.b)}get z(){return tn(this.a,this.b)}get phi(){return Qt(this.b,this.a)}static Zero(){return new f(0,0)}get conj(){return new f(this.a,-this.b)}get inv(){return new f(this.a/(N(this.a,2)+N(this.b,2)),-this.b/(N(this.a,2)+N(this.b,2)))}add(...t){for(let r=0;r<t.length;r++)typeof t[r]=="number"&&(t[r]=new f(t[r],0));let e=t.map(r=>r.a),i=t.map(r=>r.b);return this.a+=+V(...e).toFixed(15),this.b+=+V(...i).toFixed(15),this}sub(...t){for(let r=0;r<t.length;r++)typeof t[r]=="number"&&(t[r]=new f(t[r],0));let e=t.map(r=>r.a),i=t.map(r=>r.b);return this.a-=+V(...e).toFixed(15),this.b-=+V(...i).toFixed(15),this}mul(...t){for(let r=0;r<t.length;r++)typeof t[r]=="number"&&(t[r]=new f(t[r],0));let e=+Ct(this.z,...t.map(r=>r.z)).toFixed(15),i=+V(this.phi,...t.map(r=>r.phi)).toFixed(15);return this.a=+(e*k(i).toFixed(15)).toFixed(14),this.b=+(e*_(i).toFixed(15)).toFixed(14),this}div(...t){for(let r=0;r<t.length;r++)typeof t[r]=="number"&&(t[r]=new f(t[r],0));let e=+(this.z/Ct(...t.map(r=>r.z))).toFixed(15),i=+(this.phi-V(...t.map(r=>r.phi))).toFixed(15);return this.a=+(e*k(i).toFixed(15)).toFixed(15),this.b=+(e*_(i).toFixed(15)).toFixed(15),this}pow(t){if(At(t)===t&&t>0){let e=+(this.z**t).toFixed(15),i=+(this.phi*t).toFixed(15);this.a=+(e*k(i).toFixed(15)).toFixed(15),this.b=+(e*_(i).toFixed(15)).toFixed(15)}return this}static fromExpo(t,e){return new f(+(t*k(e)).toFixed(13),+(t*_(e)).toFixed(13))}get expo(){return[this.z,this.phi]}static add(t,...e){return t.clone.add(...e)}static sub(t,...e){return t.clone.sub(...e)}static mul(t,...e){return t.clone.mul(...e)}static div(t,...e){return t.clone.div(...e)}static pow(t,e){return t.clone.pow(e)}static xpowZ(t){return v(t**this.a*k(this.b*Et(t)),t**this.a*_(this.b*Et(t)))}sqrtn(t=2){return v(R(this.z,t)*k(this.phi/t),R(this.z,t)*_(this.phi/t))}get sqrt(){return this.sqrtn(2)}get log(){return v(this.z,this.phi)}get cos(){return v(k(this.a)*W(this.b),_(this.a)*Y(this.b))}get sin(){return v(_(this.a)*W(this.b),k(this.a)*Y(this.b))}get tan(){const t=k(this.a*2)+W(this.b*2);return v(_(2*this.a)/t,Y(2*this.b)/t)}printInConsole(){let t=this.a+" + "+this.b+" * i";return console.log(t),t}print(){}UI(){return"<span>"+this.a+" + i * "+this.b+"</span>"}}const v=(s,t)=>{if((s instanceof Array||ArrayBuffer.isView(s))&&(t instanceof Array||ArrayBuffer.isView(s)))return s.map((e,i)=>v(s[i],t[i]));if(s instanceof m&&t instanceof m){if(s.shape[0]!==t.shape[0]||s.shape[1]!==t.shape[1])return Error(0);const e=s.arr.map((i,r)=>v(s.arr[r],t.arr[r]));return new m(s.rows,s.cols,...e)}return new f(s,t)};var gc=Object.freeze({__proto__:null,Complex:f,complex:v});const Gr=s=>{const e=[.9999999999998099,676.5203681218851,-1259.1392167224028,771.3234287776531,-176.6150291621406,12.507343278686905,-.13857109526572012,9984369578019572e-21,15056327351493116e-23];if(s<.5)return+(Math.PI/(Math.sin(Math.PI*s)*Gr(1-s))).toFixed(10);s-=1;let i=e[0];for(let n=1;n<9;n++)i+=e[n]/(s+n);const r=s+7+.5;return+(Math.sqrt(2*Math.PI)*Math.pow(r,s+.5)*Math.exp(-r)*i).toFixed(10)},Qr=(...s)=>g(Gr,...s),xe=(s,t)=>{let i=0;for(let r=0;r<100;r++){const n=Math.pow(-1,r)*Math.pow(t/2,s+2*r),o=ze(r)*ze(s+r);i+=n/o}return i},Kr=(s,t)=>{if(typeof s=="number"){if(typeof s=="number")return xe(s,t);console.warn("Not supported yet")}else if(s instanceof Array){if(typeof t=="number")return g(e=>xe(e,t),...s);if(t instanceof Array){const e=[];for(let i=0;i<s.length;i++)e.push(g(r=>xe(s[i],r),...t));return e}}},ke=(s,t)=>{let n=0;const o=h=>Math.pow(h,s-1)*Math.pow(1-h,t-1),a=1/1e3;n+=.5*(o(0)+o(1));for(let h=1;h<1e3;h++){const l=0+h*a;n+=o(l)}return n*a},Jr=(s,t)=>{if(typeof s=="number"){if(typeof s=="number")return ke(s,t);console.warn("Not supported yet")}else if(s instanceof Array){if(typeof t=="number")return g(e=>ke(e,t),...s);if(t instanceof Array){const e=[];for(let i=0;i<s.length;i++)e.push(g(r=>ke(s[i],r),...t));return e}}};var bc=Object.freeze({__proto__:null,bessel:Kr,beta:Jr,gamma:Qr});const Q=(...s)=>g(Math.abs,...s),zt=(...s)=>g(Math.sqrt,...s),N=(s,t)=>{if(typeof s=="number")return typeof t=="number"?Math.pow(s,t):t instanceof f?f.fromExpo(s**t.a,t.b*Et(s)):g(e=>N(s,e),...t);if(s instanceof f)return typeof t=="number"?f.fromExpo(s.z**t,s.phi*t):t instanceof f?f.fromExpo(s.z**t.a*Nt(-s.phi*t.b),Et(s.z)*t.b+t.a*s.phi):g(e=>N(s,e),...t);if(s instanceof Array){if(typeof t=="number")return g(e=>N(e,t),...s);if(t instanceof Array){const e=[];for(let i=0;i<s.length;i++)e.push(g(r=>N(s[i],r),...t));return e}}},R=(s,t)=>{if(typeof s=="number")return typeof t=="number"?Math.pow(s,1/t):g(e=>R(s,e),...t);if(s instanceof f)return typeof t=="number"?f.fromExpo(R(s.z,t),s.phi/t):g(e=>R(s,e),...t);if(s instanceof Array){if(typeof t=="number")return g(e=>R(e,t),...s);if(t instanceof Array){const e=[];for(let i=0;i<s.length;i++)e.push(g(r=>R(s[i],r),...t));return e}}},Nt=(...s)=>g(Math.exp,...s),Et=(...s)=>g(Math.log,...s),k=(...s)=>g(x.cos,...s),_=(...s)=>g(x.sin,...s),Re=(...s)=>g(x.tan,...s),yc=(...s)=>g(x.sec,...s),wc=(...s)=>g(x.sinc,...s),vc=(...s)=>g(x.csc,...s),xc=(...s)=>g(x.cot,...s),kc=(...s)=>g(x.acos,...s),_c=(...s)=>g(x.asin,...s),Cc=(...s)=>g(x.atan,...s),Ic=(...s)=>g(x.acot,...s),W=(...s)=>g(x.cosh,...s),Y=(...s)=>g(x.sinh,...s),Ec=(...s)=>g(x.tanh,...s),Ac=(...s)=>g(x.coth,...s),Tc=(...s)=>g(x.acosh,...s),Sc=(...s)=>g(x.asinh,...s),Oc=(...s)=>g(x.atanh,...s),Mc=(...s)=>g(Math.ceil,...s),At=(...s)=>g(Math.floor,...s),Zc=(...s)=>g(Math.round,...s),Qt=(s,t,e=!0)=>{if(typeof s=="number")return typeof t=="number"?e?Math.atan2(s,t):Math.atan2(s,t)*180/Math.PI:g(i=>Qt(s,i,e),...t);if(s instanceof Array){if(typeof t=="number")return g(i=>Qt(i,t,e),...s);if(t instanceof Array){const i=[];for(let r=0;r<s.length;r++)i.push(g(n=>N(s[r],n),...t));return i}}},ze=(...s)=>g(t=>{let e,i=1;if(t==0)i=1;else if(t>0)for(e=1;e<=t;e++)i*=e;else i=NaN;return i},...s),Ne=(...s)=>g(Math.sign,...s),Uc=(...s)=>g(t=>1/(1+Nt(-t)),...s),tn=(...s)=>{if(s.every(t=>typeof t=="number"))return Math.hypot(...s);if(s.every(t=>t instanceof Array))return g(Math.hypot,...s)};var Pc=Object.freeze({__proto__:null,abs:Q,acos:kc,acosh:Tc,acot:Ic,asin:_c,asinh:Sc,atan:Cc,atan2:Qt,atanh:Oc,bessel:Kr,beta:Jr,ceil:Mc,cos:k,cosh:W,cot:xc,coth:Ac,csc:vc,e:Nt,fact:ze,floor:At,gamma:Qr,hypot:tn,ln:Et,max:kt,min:ot,pow:N,round:Zc,sec:yc,sig:Uc,sign:Ne,sin:_,sinc:wc,sinh:Y,sqrt:zt,sqrtn:R,tan:Re,tanh:Ec});const fe={...Un,...Pc,...gc,...mc,...qn,...Jn,...bc};class en extends A{constructor(t=360,e=300){super("svg","svg"),this.style({border:"1px black solid"}),this.size(t,e),this.view(-10,-10,10,10)}size(t,e){return this.setAttr({width:t,height:e}),this}view(t,e,i,r){let n=Math.abs(i-t),o=Math.abs(r-e);return this.setAttr("viewBox",[t,e,n,o].join(" ")),this.st.scaleY(-1),this}add(...t){for(let e=0;e<t.length;e++)this.element.append(t[e].element),this.items.push(t[e]);return this.maintain(),this}remove(...t){var e;for(let i=0;i<t.length;i++)(e=this.element)==null||e.removeChild(t[i].element),this.items=this.items.filter(r=>!t);return this.maintain(),this}mask(){}toString(){return new XMLSerializer().serializeToString(this.element)}btoa(){return btoa(this.toString())}toImg(){return"data:image/svg+xml;base64,"+this.btoa()}toImg2(){return"data:image/svg+xml;charset=utf8,"+this.toString().replaceAll("<","%3C").replaceAll(">","%3E").replaceAll("#","%23").replaceAll('"',"'")}}const jc=(s,t)=>new en(s,t);class H extends y{constructor(t){super(),Object.assign(this.cache,{type:t})}pos(t,e){return this.posX(t).posY(e)}posX(t){return["circle","ellipse"].includes(this.cache.type)?this.element.cx.baseVal.value=t:this.element.x.baseVal.value=t,this}posY(t){return["circle","ellipse"].includes(this.cache.type)?this.element.cy.baseVal.value=t:this.element.y.baseVal.value=t,this}translate(t,e){return this}color({stroke:t,fill:e}){var i,r;return(i=this.element)==null||i.setAttribute("stroke",t),(r=this.element)==null||r.setAttribute("fill",e),this}fill(t="none"){var e;return(e=this.element)==null||e.setAttribute("fill",t),this}stroke(t="none",e){var i;return(i=this.element)==null||i.setAttribute("stroke",t),e&&this.strokeWidth(e),this}strokeWidth(t=1){var e;return(e=this.element)==null||e.setAttribute("stroke-width",t),this}opacity(t=1){var e;return(e=this.element)==null||e.setAttribute("opacity",t),this}}class sn extends H{constructor(t,e,i){super("circle"),this.element=document.createElementNS("http://www.w3.org/2000/svg","circle"),this.pos(t,e).setR(i)}setR(t){return this.element.r.baseVal.value=t,this}get r(){return this.element.baseVal.value}get cx(){return this.element.baseVal.value}get cy(){return this.element.baseVal.value}}const Dc=(s,t,e)=>new sn(s,t,e);class rn extends H{constructor(t,e,i,r){super("ellipse"),this.element=document==null?void 0:document.createElementNS("http://www.w3.org/2000/svg","ellipse"),this.pos(t,e).setRx(i).setRy(r)}setRx(t){return this.element.rx.baseVal.value=t,this}setRy(t){return this.element.ry.baseVal.value=t,this}}const Lc=(s,t,e,i)=>new rn(s,t,e,i);class nn extends H{constructor(t=0,e=0,i="100%",r="100%",...n){super("foreignObject"),this.items=[],this.element=document==null?void 0:document.createElementNS("http://www.w3.org/2000/svg","foreignObject"),this.container=Mt().setTarget(this.element).vertical(0,0).size("auto","auto"),this.container.st.scaleY(-1),this.posX(t).posY(e).width(i).height(r)}width(t){return this.element.etAttribute("width",t),this}height(t){return this.element.etAttribute("height",t),this}add(...t){return this.container.append(...t),this}remove(...t){return this.container.append(...t),this}}const $c=(s,t,e,i)=>new nn(s,t,e,i);class on extends H{constructor(...t){super(),this.items=[],this.element=document==null?void 0:document.createElementNS("http://www.w3.org/2000/svg","g"),this.add(...t)}add(...t){var e;for(let i=0;i<t.length;i++)(e=this.element)==null||e.appendChild(t[i].element),this.items.push(t[i]);return t.length===1?t[0]:t}remove(...t){var e;for(let i=0;i<t.length;i++)(e=this.element)==null||e.removeChild(t[i].element),this.items=this.items.filter(r=>r!=t);return this}}const Rc=(...s)=>new on(...s);class an extends H{constructor(t="",e="100%",i="100%",r=0,n=0){super(),this.element=document==null?void 0:document.createElementNS("http://www.w3.org/2000/svg","image"),this.setSrc(t).width(e).height(i).x(r).y(n)}x(t){return this.element.x.baseVal.value=t,this}y(t){return this.element.y.baseVal.value=t,this}width(t){var e;return(e=this.element)==null||e.setAttribute("width",t),this}height(t){var e;return(e=this.element)==null||e.setAttribute("height",t),this}setSrc(t=""){var e;return(e=this.element)==null||e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",t),this}}const zc=(s,t,e,i,r)=>new an(s,t,e,i,r);class hn extends H{constructor(t,e,i,r){super(),this.element=document==null?void 0:document.createElementNS("http://www.w3.org/2000/svg","line"),this.x1(t).y1(e).x2(i).y2(r).stroke("black")}x1(t){return this.element.x1.baseVal.value=t,this}y1(t){return this.element.y1.baseVal.value=t,this}x2(t){return this.element.x2.baseVal.value=t,this}y2(t){return this.element.y2.baseVal.value=t,this}}const Nc=(s,t,e,i)=>new hn(s,t,e,i);class ln extends H{constructor(t,...e){super(),this.items=[],this.element=document==null?void 0:document.createElementNS("http://www.w3.org/2000/svg","a"),this.element.etAttribute("href",t),this.add(...e)}add(...t){for(let e=0;e<t.length;e++)this.element.ppendChild(t[e].element),this.items.push(t[e]);return t.length===1?t[0]:t}remove(...t){for(let e=0;e<t.length;e++)this.element.moveChild(t[e].element),this.items=this.items.filter(i=>i!=t);return this}}const Fc=(s,...t)=>new ln(s,...t);class cn extends H{constructor(){super(),this.element=document==null?void 0:document.createElementNS("http://www.w3.org/2000/svg","path"),this.path=""}setPath(){return this.element.etAttribute("d",this.path),this}clear(){return this.path="",this.setPath(),this}moveTo(t,e){return this.path+=`M${t} ${e} `,this.setPath(),this}lineTo(t,e){return this.path+=`L${t} ${e} `,this.setPath(),this}hr(t){return this.path+=`H${t} `,this.setPath(),this}vr(t){return this.path+=`V${t} `,this.setPath(),this}bezier(t,e,i,r,n,o){return this.path+=`C ${t} ${e},${i} ${r},${n} ${o} `,this.setPath(),this}quadratic(t,e,i,r){return this.path+=`Q ${t} ${e} ${i} ${r} `,this.setPath(),this}close(){return this.path+="Z",this.setPath(),this}}const un=()=>new cn;class Bc extends H{constructor(t=[],e=[]){var i;super(),this.X=t,this.Y=e,this.element=document==null?void 0:document.createElementNS("http://www.w3.org/2000/svg","polygon"),(i=this.element)==null||i.setAttribute("points",""),this.addPoints(t,e)}addPoint(t,e){let i=this.element.parentElement.createSVGPoint();return i.x=t,i.y=e,this.element.points.appendItem(i),this}addPoints(t,e){for(let i=0;i<t.length;i++){let r=this.element.parentElement.createSVGPoint();r.x=t[i],r.y=e[i],this.element.oints.appendItem(r)}return this}}const Hc=(s,t)=>new Bc(s,t);class pn extends H{constructor(t,e,i,r,n=!0){super(),this.element=document==null?void 0:document.createElementNS("http://www.w3.org/2000/svg","rect"),this.setX(t).setY(e).width(i).height(r),this.rx=this.x+this.w/2,this.ty=this.y+this.h/2}setX(t){return this.element.x.baseVal.value=t,this.x=t,this}setY(t){return this.element.y.baseVal.value=t,this.y=t,this}r(t,e){return this.rx=t,this.ry=e,this.setX(this.rx-this.w/2),this.setY(this.ry-this.h/2),this}width(t){return this.element.width.baseVal.value=t,this.w=t,this}height(t){return this.element.height.baseVal.value=t,this.h=t,this}}const Vc=(s,t,e,i,r)=>new pn(s,t,e,i,r);class fn extends H{constructor(t,e,i){super(),this.element=document==null?void 0:document.createElementNS("http://www.w3.org/2000/svg","text"),this.setText(t),this.x(e).y(i)}x(t){var e;return(e=this.element)==null||e.setAttribute("x",t),this}y(t){var e;return(e=this.element)==null||e.setAttribute("y",t),this}setText(t=""){return this.element.textContent=t,this}}const Wc=(s,t,e)=>new fn(s,t,e),Yc=(s,t,e=10,i=10)=>{let r=un().fill("none").stroke("coral").strokeWidth(.6);console.log({x:s/e,y:t/i});for(let n=0;n<s;n++)r.moveTo(0,n*s/e).hr(s);for(let n=0;n<t;n++)r.moveTo(n*t/i,0).vr(t);return r};var qc=Object.freeze({__proto__:null,Svg:jc,ZikoSvgCircle:sn,ZikoSvgEllipse:rn,ZikoSvgForeignObject:nn,ZikoSvgGroupe:on,ZikoSvgImage:an,ZikoSvgLine:hn,ZikoSvgLink:ln,ZikoSvgPath:cn,ZikoSvgRectangle:pn,ZikoSvgText:fn,ZikoUISvg:en,svgCircle:Dc,svgEllipse:Lc,svgGrid:Yc,svgGroupe:Rc,svgImage:zc,svgLine:Nc,svgLink:Fc,svgObject:$c,svgPath:un,svgPolygon:Hc,svgRect:Vc,svgText:Wc});class de extends A{constructor(t,e){var i;super("canvas","canvas"),this.ctx=(i=this.element)==null?void 0:i.getContext("2d"),this.style({border:"1px red solid"}),this.transformMatrix=new m([[1,0,0],[0,1,0],[0,0,1]]),this.axisMatrix=new m([[-10,-10],[10,10]]),requestAnimationFrame(()=>this.resize(t,e),0),this.on("sizeupdated",()=>this.adjust())}get Xmin(){return this.axisMatrix[0][0]}get Ymin(){return this.axisMatrix[0][1]}get Xmax(){return this.axisMatrix[1][0]}get Ymax(){return this.axisMatrix[1][1]}get ImageData(){return this.ctx.getImageData(0,0,c.Width,c.Height)}draw(t=!0){return t?(this.clear(),this.items.forEach(e=>{e.parent=this,e.draw(this.ctx)})):(this.items.at(-1).parent=this,this.items.at(-1).draw(this.ctx)),this.maintain(),this}applyTransformMatrix(){return this.ctx.setTransform(this.transformMatrix[0][0],this.transformMatrix[1][0],this.transformMatrix[0][1],this.transformMatrix[1][1],this.transformMatrix[0][2],this.transformMatrix[1][2]),this}resize(t,e){return this.size(t,e),this.lineWidth(),this.view(this.axisMatrix[0][0],this.axisMatrix[0][1],this.axisMatrix[1][0],this.axisMatrix[1][1]),this.emit("sizeupdated"),this}adjust(){var t,e;return this.element.width=(t=this.element)==null?void 0:t.getBoundingClientRect().width,this.element.height=(e=this.element)==null?void 0:e.getBoundingClientRect().height,this.view(this.axisMatrix[0][0],this.axisMatrix[0][1],this.axisMatrix[1][0],this.axisMatrix[1][1]),this}view(t,e,i,r){return this.transformMatrix[0][0]=this.width/(i-t),this.transformMatrix[1][1]=-this.height/(r-e),this.transformMatrix[0][2]=this.width/2,this.transformMatrix[1][2]=this.height/2,this.axisMatrix=new m([[t,e],[i,r]]),this.applyTransformMatrix(),this.clear(),this.lineWidth(1),this.draw(),this}reset(){return this.ctx.setTransform(1,0,0,0,0,0),this}append(t){return this.items.push(t),this.draw(!1),this}background(t){this.ctx.fillStyle=t,this.ctx.setTransform(1,0,0,1,0,0),this.ctx.fillRect(0,0,this.width,this.height),this.applyTransformMatrix(),this.draw()}lineWidth(t){return this.ctx.lineWidth=t/this.transformMatrix[0][0],this}getImageData(t=0,e=0,i=this.width,r=this.height){return this.ctx.getImageData(t,e,i,r)}clear(){return this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.width,this.height),this.applyTransformMatrix(),this}clone(){console.log(this.width);const t=new de;return t.items=this.items,t.transformMatrix=this.transformMatrix,t.axisMatrix=this.axisMatrix,Object.assign(t.cache,{...this.cache}),this.size(this.element.style.width,this.element.style.width),this.applyTransformMatrix(),this.draw(),this.adjust(),t}toImage(){var t;return this.img=document==null?void 0:document.createElement("img"),this.img.src=(t=this.element)==null?void 0:t.toDataURL("image/png"),this}toBlob(){var t=this.element;t.toBlob(function(e){var i=document==null?void 0:document.createElement("img"),r=URL.createObjectURL(e);i.onload=function(){URL.revokeObjectURL(r)},i.src=r,console.log(i)})}zoomIn(){}zoomOut(){}undo(t){}redo(t){}stream(){}}const Xc=(s,t)=>new de(s,t);class me{constructor(t,e){this.parent=null,this.position={x:t,y:e},this.cache={interact:null,config:{draggable:!1,selected:!1,highlighted:!1,rendered:!1},style:{normal:{strokeEnabled:!0,fillEnabled:!1,strokeColor:"#111111",fillColor:"#777777"},highlighted:{strokeEnabled:!0,fillEnabled:!1,strokeColor:null,fillColor:null}}},this.history={position:[],styles:[]},this.render()}get px(){var t,e;return(this.position.x??0)+(((e=(t=this.parent)==null?void 0:t.position)==null?void 0:e.x)??0)}get py(){var t,e;return(this.position.y??0)+(((e=(t=this.parent)==null?void 0:t.position)==null?void 0:e.y)??0)}isIntersectedWith(){}isInStroke(t,e){let i;return this.parent&&(this.parent.ctx.setTransform(1,0,0,1,0,0),i=this.parent.ctx.isPointInStroke(this.path,t,e),this.parent.applyTransformMatrix()),i}isInPath(t,e){let i;return this.parent&&(this.parent.ctx.setTransform(1,0,0,1,0,0),i=this.parent.ctx.isPointInPath(this.path,t,e),this.parent.applyTransformMatrix()),i}posX(t){return this.position.x=t,this.parent&&this.parent.draw(),this}posY(t){return this.position.y=t,this.parent&&this.parent.draw(),this}color({stroke:t=this.cache.style.normal.strokeColor,fill:e=this.cache.style.normal.fillColor}={stroke:t,fill:e}){return this.cache.style.normal.strokeColor=t,this.cache.style.normal.fillColor=e,this.parent&&this.parent.draw(),this}translate(t=0,e=0){this.position.x+=t,this.position.y+=e,this.parent&&this.parent.draw()}applyNormalStyle(t){return t.strokeStyle=this.cache.style.normal.strokeColor,t.fillStyle=this.cache.style.normal.fillColor,this}applyHighlightedStyle(t){return t.strokeStyle=this.cache.style.highlighted.strokeColor,t.fillStyle=this.cache.style.highlighted.fillColor,this}stroke(t=this.cache.style.normal.strokeColor,e=!0){return this.cache.style.normal.strokeEnabled=e,this.cache.style.normal.strokeColor=t,this.parent&&this.parent.draw(),this}fill(t=this.cache.style.normal.fillColor,e=!0){return this.cache.style.normal.fillEnabled=e,this.cache.style.normal.filleColor=t,this.parent&&this.parent.draw(),this}render(t=!0){return this.cache.config.rendered=t,this}}class dn extends me{constructor(t,e,i,r){super(t,e),this.r=i,this.angle=r,this.path=null}draw(t){if(this.cache.config.rendered){t.save(),this.applyNormalStyle(t),t.beginPath(),this.path=new Path2D,this.path.arc(this.px,this.py,this.r,0,this.angle);const{strokeEnabled:e,fillEnabled:i}=this.cache.style.normal;e&&t.stroke(this.path),i&&t.fill(this.path),t.closePath(),t.restore()}return this}radius(t){return this.r=t,this.parent&&this.parent.draw(),this}}const Gc=(s,t,e,i)=>new dn(s,t,e,i),Qc=(s,t,e)=>new dn(s,t,e,2*Math.PI);class Kc extends me{constructor(t,e){super(),this.pointsMatrix=null,this.path=new Path2D,this.fromXY(t,e)}get points(){return this.pointsMatrix.T.arr}draw(t){if(this.cache.config.rendered){t.save(),this.applyNormalStyle(t),t.beginPath(),this.path.moveTo(this.points[1][0]+this._x,this.points[1][1]+this._y);for(let e=1;e<this.points.length;e++)this.path.lineTo(this.points[e][0]+this._x,this.points[e][1]+this._y);t.stroke(this.path),t.restore()}return this}fromXY(t,e){return this.pointsMatrix=T([t,e]),this}push(t,e){return this.pointsMatrix.hstack(T([t,e])),this.parent&&this.parent.draw(),this}isIn(t,e){let i;return this.parent&&(this.parent.ctx.setTransform(1,0,0,1,0,0),i=this.parent.ctx.isPointInPath(this.path,t,e),this.parent.applyTransformMatrix()),i}}const Jc=(s=[],t=[])=>new Kc(s,t);class tu extends me{constructor(t,e,i,r){super(),this.x0=t,this.x1=i,this.y0=e,this.y1=r,delete this.fill}draw(t){return this.cache.config.rendered&&(t.save(),this.applyNormalStyle(t),t.beginPath(),t.moveTo(this.x0+this._x,this.y0+this._y_),t.lineTo(this.x1+this._x,this.y1+this._y),t.stroke(),this.cache.style.normal.strokeEnabled&&t.stroke(),t.restore()),this}}const eu=(s,t,e,i)=>new tu(s,t,e,i);class su extends me{constructor(t,e,i,r){super(t,e),this.w=i,this.h=r,this.path=new Path2D}draw(t){if(this.cache.config.rendered){t.save(),this.applyNormalStyle(t),t.beginPath(),this.path.rect(this.px,this.py,this.w,this.h);const{strokeEnabled:e,fillEnabled:i}=this.cache.style.normal;e&&t.stroke(this.path),i&&t.fill(this.path),t.closePath(),t.restore()}return this}width(t){return this.w=t,this.parent&&this.parent.draw(),this}height(t){return this.h=t,this.parent&&this.parent.draw(),this}}const iu=(s,t,e,i)=>new su(s,t,e,i);var ru=Object.freeze({__proto__:null,Canvas:Xc,ZikoUICanvas:de,canvasArc:Gc,canvasCircle:Qc,canvasLine:eu,canvasPoints:Jc,canvasRect:iu});const ge={...qc,...ru};var re,mn;class nu{constructor(t,e=!0){E(this,re);p(this,re,mn).call(this),this.cache={Emitter:null},e&&this.useEventEmitter(),this.set(t)}set(t){return t!==this.__FavIcon__.href&&(this.__FavIcon__.href=t,this.cache.Emitter&&this.cache.Emitter.emit("ziko:favicon-changed")),this}get current(){return document.__FavIcon__.href}onChange(t){return this.cache.Emitter&&this.cache.Emitter.on("ziko:favicon-changed",t),this}useEventEmitter(){return this.cache.Emitter=ae(),this}}re=new WeakSet,mn=function(){return this.__FavIcon__=document.querySelector("link[rel*='icon']")||(document==null?void 0:document.createElement("link")),this.__FavIcon__.type="image/x-icon",this.__FavIcon__.rel="shortcut icon",this};const ou=(s,t)=>new nu(s,t);class au{constructor({viewport:t,charset:e,description:i,author:r,keywords:n}){this.document=globalThis==null?void 0:globalThis.document,this.meta={},this.init({viewport:t,charset:e,description:i,author:r,keywords:n})}init({viewport:t,charset:e,description:i,author:r,keywords:n}){t&&this.setViewport(t),e&&this.setCharset(e),i&&this.describe(i),r&&this.setAuthor(r),n&&this.setKeywords(n)}set(t,e){t=t.toLowerCase();const i=t==="charset",r=i?document.querySelector("meta[charset]"):document.querySelector(`meta[name=${t}]`);return this.meta=r??(document==null?void 0:document.createElement("meta")),i?this.meta.setAttribute("charset",e):(this.meta.setAttribute("name",t),this.meta.setAttribute("content",e)),r||this.document.head.append(this.meta),this}setCharset(t="utf-8"){return this.set("charset",t),this}describe(t){return this.set("description",t),this}setViewport(t="width=device-width, initial-scale=1.0"){return this.set("viewport",t),this}setKeywords(...t){return t=[...new Set(t)].join(", "),this.set("keywords",t),this}setAuthor(t){return this.set("author",t),this}}const hu=({viewport:s,charset:t,description:e,author:i,keywords:r})=>new au({viewport:s,charset:t,description:e,author:i,keywords:r});class lu{constructor(t=document.title,e=!0){this.cache={Emitter:null},e&&this.useEventEmitter(),this.set(t)}useEventEmitter(){return this.cache.Emitter=ae(),this}set(t){return t!==document.title&&(document.title=t,this.cache.Emitter&&this.cache.Emitter.emit("ziko:title-changed")),this}get current(){return document.title}onChange(t){return this.cache.Emitter&&this.cache.Emitter.on("ziko:title-changed",t),this}}const cu=(s,t)=>new lu(s,t);class gn{constructor({title:t,lang:e,icon:i,meta:r,noscript:n}){var o,a;this.html=(o=globalThis==null?void 0:globalThis.document)==null?void 0:o.documentElement,this.head=(a=globalThis==null?void 0:globalThis.document)==null?void 0:a.head,t&&cu(t),e&&this.setLang(e),i&&ou(i),r&&hu(r),n&&this.setNoScript()}setLang(t){this.html.setAttribute("lang",t)}setNoScript(t){}}const uu=({title:s,lang:t,icon:e,meta:i,noscript:r})=>new gn({title:s,lang:t,icon:e,meta:i,noscript:r});class es{constructor({head:t=null,wrapper:e=null,target:i=null}){this.head=t,this.wrapper=e,this.target=i,this.init()}get isZikoApp(){return!0}init(){this.head&&this.setHead(this.head),this.wrapper&&this.setWrapper(this.wrapper),this.target&&this.setTarget(this.target),this.wrapper&&this.target&&this.wrapper.render(this.target)}setTarget(t){var e;return t instanceof HTMLElement?this.target=t:typeof t=="string"&&(this.target=(e=globalThis==null?void 0:globalThis.document)==null?void 0:e.querySelector(t)),this}setWrapper(t){return t!=null&&t.isZikoUIElement?this.wrapper=t:typeof t=="function"&&(this.wrapper=t()),this}setHead(t){return t instanceof gn?this.head=t:this.head=uu(t),this}}const pu=({head:s,wrapper:t,target:e})=>new es({head:s,wrapper:t,target:e});var fu=Object.freeze({__proto__:null,App:pu,ZikoApp:es});class bn{constructor(t={}){var e;this.cache={JsonStyle:t,isRenderd:!1},this.target=(e=globalThis==null?void 0:globalThis.document)==null?void 0:e.head,this.element=document.createElement("style"),this.element.setAttribute("data-generator","zikojs"),this.write(),this.render()}get CssText(){return ts(this.cache.JsonStyle)}render(){return this.target.append(this.element),this.cache.isRenderd=!0,this}unrender(){var t,e,i;return(e=(t=this.target)==null?void 0:t.children)!=null&&e.length&&[...(i=this.target)==null?void 0:i.children].includes(this.element)&&this.target.removeChild(this.element),this.cache.isRenderd=!1,this}write(){return this.element.textContent=this.CssText,this}style(t,e=!1){return e&&this.clear(),Object.assign(this.cache.JsonStyle,t),this.write(),this}clear(){return this.cache.JsonStyle={},this.write(),this}}const du=s=>new bn(s);var mu=Object.freeze({__proto__:null,ZikoJsonStyleSheet:bn,jsonStyleSheet:du});function gu(s,t){const e=s.split("/"),i=t.split("/");if(e.length!==i.length)return!1;for(let r=0;r<e.length;r++){const n=e[r],o=i[r];if(!n.startsWith(":")&&n!==o)return!1}return!0}function bu(s,t){const e=s.split("/"),i=t.split("/"),r={};if(e.length!==i.length)return r;for(let n=0;n<e.length;n++){const o=e[n],a=i[n];if(o.startsWith(":")){const h=o.slice(1);r[h]=a}else if(o!==a)return{}}return r}function ds(s){return/:\w+/.test(s)}class yn extends es{constructor({head:t,wrapper:e,target:i,routes:r}){super({head:t,wrapper:e,target:i}),this.routes=new Map([["404",Z("Error 404")],...Object.entries(r)]),this.clear(),globalThis.onpopstate=this.render(location.pathname)}clear(){return[...this.routes].forEach(t=>{var e;!ds(t[0])&&((e=t[1])!=null&&e.isZikoUIElement)&&t[1].unrender()}),this}render(t){const[e,i]=[...this.routes].find(n=>gu(n[0],t));let r;if(ds(e)){const n=bu(e,t);r=i.call(this,n)}else i!=null&&i.isZikoUIElement&&i.render(this.wrapper),typeof i=="function"&&(r=i());return r!=null&&r.isZikoUIElement&&r.render(this.wrapper),r instanceof Promise&&r.then(n=>n.render(this.wrapper)),globalThis.history.pushState({},"",t),this}}const yu=({head:s,wrapper:t,target:e,routes:i})=>new yn({head:s,wrapper:t,target:e,routes:i});var wu=Object.freeze({__proto__:null,SPA:yu,ZikoSPA:yn});function vu(s){const t={};return s.replace(/[A-Z0-9]+?=([\w|:|\/\.]*)/gi,e=>{const[i,r]=e.split("=");t[i]=r}),t}function xu(s){Object.defineProperties(s,{QueryParams:{get:function(){return vu(globalThis.location.search.substring(1))},configurable:!1,enumerable:!0},HashParams:{get:function(){return globalThis.location.hash.substring(1).split("#")},configurable:!1,enumerable:!0}})}const wn={},vn={default:{target:null,render:!0,math:{mode:"deg"}},setDefault:function(s){const t=Object.keys(s),e=Object.values(s);for(let i=0;i<t.length;i++)this.default[t[i]]=e[i]},init:()=>document.documentElement.setAttribute("data-engine","zikojs")};var ku=Object.freeze({__proto__:null,__Config__:vn,__UI__:wn});const xn={...fu,...mu,...wu,...ku};[xn,fe,ce,oe,pe,he,ge].forEach(s=>Object.assign(s,{ExtractAll:()=>Sn(s),RemoveAll:()=>On(s)}));const _u={App:xn,Math:fe,UI:ce,Time:oe,Data:pe,Reactivity:he,Graphics:ge};globalThis.__Ziko__?console.warn("WARNING: Multiple instances of Ziko.js being imported."):(globalThis.__Ziko__={..._u,__UI__:wn,__Config__:vn,ExtractAll:Cu,RemoveAll:Iu},xu(__Ziko__));globalThis!=null&&globalThis.document&&(document==null||document.addEventListener("DOMContentLoaded",__Ziko__.__Config__.init()));function Cu(){return ce.ExtractAll(),fe.ExtractAll(),oe.ExtractAll(),he.ExtractAll(),ge.ExtractAll(),pe.ExtractAll(),this}function Iu(){ce.RemoveAll(),fe.RemoveAll(),oe.RemoveAll(),he.RemoveAll(),ge.RemoveAll(),pe.RemoveAll()}const Eu=({name:s})=>zi(`Hello ${s}`).style({color:"gold"});Mt(Eu({name:"world"})).size("100px","60px").vertical(0,0).style({background:"darkblue",color:"gold",margin:"0px",overflow:"hidden"});
